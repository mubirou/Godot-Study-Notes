# Godot Study Notes ğŸ”°<a id="TOP"></a>

### **Indexï¼ˆGodot 4.x å¯¾å¿œï¼‰**

ï¼œãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°ã‚ã‚Šï¼  
| [GDScriptåŸºç¤æ–‡æ³•](https://bit.ly/3qTpnqi)  | [C#åŸºç¤æ–‡æ³•](https://bit.ly/3BLWWkf) | [**VRå…¥é–€**](#220702) | [**VRã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ©ãƒ¼ã®å…¥åŠ›ã‚¤ãƒ™ãƒ³ãƒˆ**](#220703) | [**ãƒ¬ãƒ¼ã‚¶ãƒ¼ãƒã‚¤ãƒ³ã‚¿ãƒ¼ï¼ˆRayCastï¼‰**](#220704) | [**RayCastã‹ã‚‰ã®é™¤å¤–**](#220707) | [ãƒ‡ã‚¸ã‚¿ãƒ«æ™‚è¨ˆ](#220708) | [360Â°ãƒ‘ãƒãƒ©ãƒ](#220710) | [ãƒœã‚¿ãƒ³](#220716) | [ã‚¸ãƒ§ã‚¤ã‚¹ãƒ†ã‚£ãƒƒã‚¯è§’åº¦](#220608) | [ãƒˆãƒªã‚¬ãƒ¼é‡](#220717) | [ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆè‰²](#220506) | [ç§»å‹•ã®åŸºæœ¬3ç¨®](#220611) | [è¡çªåˆ¤å®šé ˜åŸŸ](#220801) | [ãƒœãƒ¼ãƒ³ã«ã‚¢ã‚¿ãƒƒãƒ](#220802) | [ãƒ†ã‚­ã‚¹ãƒˆã®ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«](#220803) | [ã‚·ãƒ¼ãƒ³é·ç§»](#220804) | [å…±æœ‰ãƒ‡ãƒ¼ã‚¿](#220806) | [ä»–äººã®ãƒ¡ã‚½ãƒƒãƒ‰ã®å®Ÿè¡Œ](#220807) | [å¤–éƒ¨ãƒ†ã‚­ã‚¹ãƒˆã®èª­ã¿æ›¸ã](#220620) | [JSONã®è§£æ](#220621) | [PHP+SQLite](#220622) | [PHP+MySQL](#220623) | [Python+SQLite](#220624) | [Python+MySQL](#220625) | [æ©Ÿæ¢°å¼æ™‚è¨ˆ](#220808) | [æ´‹æ›¸å°èª¬](#220809) | [è¿½è·¡](#220504) | [Igaguriã‚²ãƒ¼ãƒ ](#220901) | [è¡çªåˆ¤å®š](#220612) | [Pachinkoã‚²ãƒ¼ãƒ ](#220902) | [ãƒ‰ãƒ­ãƒ¼ãƒ³](#220904) |

ï¼œãƒãƒ³ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°ï¼  
| [**å¤–éƒ¨ã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚¨ãƒ‡ã‚£ã‚¿**](#220630) | [ãƒ—ãƒªãƒŸãƒ†ã‚£ãƒ–](#220701) | [åºŠã‚¿ã‚¤ãƒ«](#220705) | [ãƒ‘ãƒ¼ãƒ†ã‚£ã‚¯ãƒ«](#220709) | [é¡é¢ä»•ä¸Šã’ãƒœãƒ¼ãƒ«](#220711) | [ãƒ©ã‚¤ãƒˆ3ç¨®](#220712) | [Mixamo](#220713) | [Mixamoãƒãƒ«ãƒãƒãƒ¼ã‚º](#220714) | [ãƒ•ã‚©ãƒ³ãƒˆè¨­å®š](#220715) | [Picture-in-Picture](#220613) | [å‹•ç”»å†ç”Ÿ](#220602) | [Oculus Air Link](#220604) | [Blender to Godot](#220609) | [èƒŒæ™¯è‰²](#èƒŒæ™¯è‰²) | [è¡çªåˆ¤å®šé ˜åŸŸ](#220801) | [æ‘©æ“¦ä¿‚æ•°ã¨åç™ºä¿‚æ•°](#220805) | [ãƒ†ãƒ¬ãƒãƒ¼ãƒˆç§»å‹•](#220706) | [ãƒãƒ¼ãƒãƒ«ãƒãƒƒãƒ”ãƒ³ã‚°](#220903) | [ä¸‰ç¯ç…§æ˜](#221018) |
***

### **Indexï¼ˆGodot 3.4 å¯¾å¿œï¼‰**
| [C#åŸºç¤æ–‡æ³•](https://github.com/mubirou/HelloWorld/blob/master/languages/C%23Godot/C%23Godot_reference.md#c-with-godot-%E5%9F%BA%E7%A4%8E%E6%96%87%E6%B3%95) | [Androidãƒ“ãƒ«ãƒ‰](#Androidãƒ“ãƒ«ãƒ‰) | [ãƒãƒ¼ãƒ‰ã®ç§»å‹•](#ãƒãƒ¼ãƒ‰ã®ç§»å‹•) | [ãƒã‚¦ã‚¹åº§æ¨™](#ãƒã‚¦ã‚¹åº§æ¨™) | [ç”»é¢ã‚µã‚¤ã‚º](#ç”»é¢ã‚µã‚¤ã‚º) | [Rouletteã‚²ãƒ¼ãƒ ](#Rouletteã‚²ãƒ¼ãƒ ) | [SwipeCarã‚²ãƒ¼ãƒ ](#SwipeCarã‚²ãƒ¼ãƒ ) | [~~Quest + Oculus Link~~](#220501) | [Questã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ©ãƒ¼è¡¨ç¤º](#220502) | [is_button_pressed()](#220503) | [Questãƒ“ãƒ«ãƒ‰](#220505) | [~~RayCastãƒœã‚¿ãƒ³~~](#220601) | [VRç©ºé–“ã«2Dã‚·ãƒ¼ãƒ³ã‚’è¡¨ç¤º](#220605) | [~~360Â°ãƒ‘ãƒãƒ©ãƒ~~](#220606) | [~~é¡é¢ä»•ä¸Šã’ãƒœãƒ¼ãƒ«~~](#220607) | [ç‰©ç†ã‚¨ãƒ³ã‚¸ãƒ³ RigidBodyã¨StaticBody](#220610) | [BGMï½¥SE](#220614) | [Blender(éšå±¤æ§‹é€ ) to Godot](#220615) | [ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³é·ç§»](#220617) | [ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³é€Ÿåº¦å¤‰æ›´](#220618) |
***

<a id="Androidãƒ“ãƒ«ãƒ‰"></a>
# <b>Androidãƒ“ãƒ«ãƒ‰</b>

* æ—¢ã«ãƒ“ãƒ«ãƒ‰ã‚’è©¦ã¿ã¦å•é¡ŒãŒç”Ÿã˜ã¦ã„ã‚‹å ´åˆã¯å…ˆãšä»¥ä¸‹ã®ä½œæ¥­ã‚’è¡Œã† [[å‚è€ƒã‚µã‚¤ãƒˆ](https://godotengine.org/qa/111977/apksigner-returned-with-error-%231)]  
  * Android Studio ã®ã‚¢ãƒ³ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«  
  * JDKãƒ•ã‚©ãƒ«ãƒ€ã®å‰Šé™¤
  * .keystore ãƒ•ã‚¡ã‚¤ãƒ«ã®å‰Šé™¤  

1. [Godot]-[ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆ]-[Androidãƒ“ãƒ«ãƒ‰ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«]  
  [[å‚è€ƒã‚µã‚¤ãƒˆ](https://qiita.com/2dgames_jp/items/3d0a318d2a483ced9db1)]

1. **Android Studio** (2020.3.1) ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«  
  ï¼ˆæ³¨æ„ï¼‰Android SDK ãƒ„ãƒ¼ãƒ«ã§ã¯ãªã„  
  https://developer.android.com/studio?hl=ja&gclid=EAIaIQobChMI4bb4moON9QIVTkNgCh14cABREAAYASAAEgKsUvD_BwE&gclsrc=aw.ds  
  C:\Program Files\Android\Android Studio ã«ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«

1. **OpenJDK** ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«  
  âŠ ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰  
  https://www.openlogic.com/openjdk-downloads?field_java_parent_version_target_id=416&field_operating_system_target_id=436&field_architecture_target_id=391&field_java_package_target_id=396  
  JAVA VERSION : **8u262-b10**ï¼ˆJava 11ã§ã¯ãªã„ï¼‰  
  DOWNLOAD : .zip  
  â‹ è§£å‡(ä»Šå›ã¯ C:\OpenJDK ã¨ã™ã‚‹)  
  âŒ binãƒ•ã‚£ãƒ«ãƒ€ã‚’é–‹ã  
  â ã‚¢ãƒ‰ãƒ¬ã‚¹ä¸Šã§ cmd ã¨å…¥åŠ›ï¼ˆã‚³ãƒãƒ³ãƒ‰ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆãŒé–‹ãï¼‰  
  â keytool ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œ  
  C:\OpenJDK\openlogic-openjdk-8u262-b10-win-64\bin>**keytool -keyalg RSA -genkeypair -alias androiddebugkey -keypass android -keystore debug.keystore -storepass android -dname "CN=Android Debug,O=Android,C=US" -validity 9999 -deststoretype pkcs12**  
  â C:\OpenJDK\openlogic-openjdk-8u262-b10-win-64\bin> ãƒ•ã‚©ãƒ«ãƒ€ã« **debug.keystore** ãŒç”Ÿæˆã•ã‚ŒãŸã“ã¨ã‚’ç¢ºèª  
  [[å‚è€ƒã‚µã‚¤ãƒˆ](https://godotengine.org/qa/111977/apksigner-returned-with-error-%231)]

1. Godotï¼ˆã‚¨ãƒ‡ã‚£ã‚¿ãƒ¼ï¼‰ã®è¨­å®š  
  âŠ [ã‚¨ãƒ‡ã‚£ã‚¿ãƒ¼]-[ã‚¨ãƒ‡ã‚£ã‚¿ãƒ¼è¨­å®š]-[Export]-[Android] ã‚’ä¸‹è¨˜ã®é€šã‚Šè¨­å®š  
  ãƒ»Android Sdk Path : C:/Users/XXXXX/AppData/Local/Android/**Sdk**ï¼ˆæ‰‹æ‰“ã¡ï¼‰  
  ãƒ»Debug Keystore : C:/Users/XXXXX/Desktop/openlogic-openjdk-8u262-b10-windows-x64/openlogic-openjdk-8u262-b10-win-64/bin/**debug.keystore**ï¼ˆä¸Šè¨˜âã¨åŒã˜ï¼‰  
  ãƒ»Debug Keystore User : **androiddebugkey**  
  ãƒ»Debug Keystore Pass : **android**  
  [[å‚è€ƒã‚µã‚¤ãƒˆ](https://godotengine.org/qa/111977/apksigner-returned-with-error-%231)]

1. **.apk** ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆ  
  âŠ [ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆ]-[ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆ]-[è¿½åŠ ]-[Android]  
  â‹ ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆå…ˆã®ãƒ‘ã‚¹ : â€¦â€¦/XXXXX.apk  
  âŒ [Cumtom Template] ã‚’æ¬¡ã®é€šã‚Šã«è¨­å®š  
  ãƒ»Debug : C:/Users/XXXXX/AppData/Roaming/Godot/templates/3.4.2.stable.mono/**android_debug.apk**ï¼ˆæ‰‹æ‰“ã¡ï¼‰  
  ãƒ»Release : C:/Users/XXXXX/AppData/Roaming/Godot/templates/3.4.2.stable.mono/**android_release.apk**  
   [ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆ] ã‚’é¸æŠ â†’ [ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä¿å­˜]-[ä¿å­˜]

1. ã‚¹ãƒãƒ›ã®é–‹ç™ºè€…å‘ã‘è¨­å®š  
  âŠ [è¨­å®š]-[ãƒ‡ãƒã‚¤ã‚¹æƒ…å ±]-[ã™ã¹ã¦ã®ä»•æ§˜]-[MIMUãƒãƒ¼ã‚¸ãƒ§ãƒ³] ã‚’8å›é€£æ‰“  
  â‹ [è¨­å®š]-[è¿½åŠ è¨­å®š]-[é–‹ç™ºè€…å‘ã‘ã‚ªãƒ—ã‚·ãƒ§ãƒ³]-[USBãƒ‡ãƒãƒƒã‚°]ã¨[USBçµŒç”±ã§ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«] ã‚’ ON  
  âŒ [âœ“ç§ã¯èµ·ã“ã‚Šã†ã‚‹ãƒªã‚¹ã‚¯ã‚’èªè­˜ã—ã€ãã®çµæœã¨ã—ã¦èµ·ã“ã‚Šã†ã‚‹çµæœã‚’è‡ªç™ºçš„ã«å—ã‘å…¥ã‚Œã¾ã™]-[OK]  

1. ã‚¹ãƒãƒ›ã¨ PC ã‚’æ¥ç¶š  
  âŠ USB ã‚±ãƒ¼ãƒ–ãƒ«ã§æ¥ç¶š  
  â‹ [ãƒ•ã‚¡ã‚¤ãƒ«è»¢é€/Android Auto] ã‚’ âœ“  

1. ã‚¢ãƒ—ãƒªã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«  
  âŠ ã‚¹ãƒãƒ›ã®ä»»æ„ã®ãƒ•ã‚©ãƒ«ãƒ€ã«ä¸Šè¨˜ã§ä½œæˆã—ãŸ XXXXX.apk ã‚’ã‚³ãƒ”ãƒ¼  
  â‹ ã‚¹ãƒãƒ›ä¸Šã§ XXXXX.apk ã‚’é¸æŠã—ã¦ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«

å®Ÿè¡Œç’°å¢ƒï¼šWindows 10ã€Godot 3.4.2ã€Xiaomi Redmi Note 9T (Android 11)  
ä½œæˆè€…ï¼šå¤¢å¯éƒ  
ä½œæˆæ—¥ï¼š2021å¹´12æœˆ31æ—¥  
[[TOP]](#TOP)  


<a id="ãƒãƒ¼ãƒ‰ã®ç§»å‹•"></a>
# <b>ãƒãƒ¼ãƒ‰ã®ç§»å‹•</b>

### ã€GDScriptç‰ˆã€‘ 

* [Spatialãƒãƒ¼ãƒ‰](https://docs.godotengine.org/ja/stable/tutorials/3d/introduction_to_3d.html#spatial-node)ï¼ˆ3Dãƒ¢ãƒ‡ãƒ«ï¼‰ã®ç§»å‹•  
  ```gdscript
  #Main.gd
  extends Spatial # 2Dã®å ´åˆã¯Node2D

  var _ufo

  func _ready(): # æœ€åˆã«ä¸€åº¦ã ã‘å®Ÿè¡Œã•ã‚Œã‚‹
    _ufo = get_node("UFO")

  func _process(_delta): # ç¹°ã‚Šè¿”ã—å®Ÿè¡Œ
    _ufo.translation.y += 0.01 # 0.01mç§»å‹•
  ```
  ä¸Šè¨˜ã‚’å«ã‚æ¬¡ã®æ–¹æ³•ã§å¯èƒ½  
  ```gdscript
  # æŒ‡å®šä½ç½®ã«ç§»å‹•â€
  _ufo.translation.y += 0.01
  _ufo.translation += Vector3(0, 0.01, 0)

  # æŒ‡å®šä½ç½®ã«ç§»å‹•â
  _ufo.transform.origin.y += 0.01
  _ufo.transform.origin += Vector3(0, 0.01, 0)

  # æŒ‡å®šã—ãŸå€¤ã ã‘ç§»å‹•
  _ufo.translate(Vector3(0, 0.01, 0)) # Scaleã«ä¾å­˜
  ```

* [Node2D](https://docs.godotengine.org/ja/stable/classes/class_node2d.html#node2d)ãƒãƒ¼ãƒ‰ï¼ˆ2Dã‚¹ãƒ—ãƒ©ã‚¤ãƒˆï¼‰ã®ç§»å‹•
  ```gdscript
  # Main.gd
  extends Node2D

  var _ufo

  func _ready(): # æœ€åˆã«ä¸€åº¦ã ã‘å®Ÿè¡Œã•ã‚Œã‚‹
    _ufo = get_node("UFO")
    
  func _process(_delta): # ç¹°ã‚Šè¿”ã—å®Ÿè¡Œ
    _ufo.position.x += 1 # 1ãƒ”ã‚¯ã‚»ãƒ«ç§»å‹•
  ```
  ä¸Šè¨˜ã‚’å«ã‚æ¬¡ã®æ–¹æ³•ã§å¯èƒ½
  ```gdscript
  # æŒ‡å®šä½ç½®ã«ç§»å‹•
  _ufo.position.x += 1
  _ufo.position += Vector2(1, 0)
  
  # æŒ‡å®šã—ãŸå€¤ã ã‘ç§»å‹•
  ufo.translate(Vector2(1, 0))
  ```

### ã€C#ç‰ˆã€‘ 
* [Spatialãƒãƒ¼ãƒ‰](https://docs.godotengine.org/ja/stable/tutorials/3d/introduction_to_3d.html#spatial-node)ï¼ˆ3Dãƒ¢ãƒ‡ãƒ«ï¼‰ã®ç§»å‹•  
  ```c#
  // Main.cs
  using Godot;

  public class Main : Spatial {
    private Spatial _ufo;
    
    // æœ€åˆã«ä¸€åº¦ã ã‘å®Ÿè¡Œã•ã‚Œã‚‹
    public override void _Ready() {
      _ufo = GetNode("UFO") as Spatial;
      GD.Print(_ufo.Translation.y);
    }

    // ç¹°ã‚Šè¿”ã—å®Ÿè¡Œã•ã‚Œã‚‹
    public override void _Process(float _delta) {
      Vector3 _ufoPos =  _ufo.Translation;
      _ufoPos.y += 0.01f;
      _ufo.Translation = _ufoPos;
    }
  }
  ```
  ä¸Šè¨˜ã‚’å«ã‚æ¬¡ã®æ–¹æ³•ã§å¯èƒ½  
  ```c#
  // æŒ‡å®šä½ç½®ã«ç§»å‹•â€
  Vector3 _ufoPos =  _ufo.Translation;
  _ufoPos.y += 0.01f;
  _ufo.Translation = _ufoPos;

  // æŒ‡å®šä½ç½®ã«ç§»å‹•â
  _ufo.Translation += new Vector3(0f, 0.01f, 0f);

  // æŒ‡å®šã—ãŸå€¤ã ã‘ç§»å‹•ï¼ˆScaleã«ä¾å­˜ï¼‰
  _ufo.Translate(new Vector3(0f, 0.01f, 0f));
  ```

* [Node2D](https://docs.godotengine.org/ja/stable/classes/class_node2d.html#node2d)ãƒãƒ¼ãƒ‰ï¼ˆ2Dã‚¹ãƒ—ãƒ©ã‚¤ãƒˆï¼‰ã®ç§»å‹•
  ```c#
  // Main.cs
  using Godot;

  public class Main : Node2D {
    private Node2D _ufo;

    // æœ€åˆã«ä¸€åº¦ã ã‘å®Ÿè¡Œã•ã‚Œã‚‹
    public override void _Ready() {
      _ufo = GetNode("UFO") as Node2D;
    }
    
    // ç¹°ã‚Šè¿”ã—å®Ÿè¡Œã•ã‚Œã‚‹
    public override void _Process(float _delta) {
      Vector2 _ufoPos = _ufo.Position;
      _ufoPos.x += 1; // 1ãƒ”ã‚¯ã‚»ãƒ«ç§»å‹•
      _ufo.Position = _ufoPos;
    }
  }
  ```
  ä¸Šè¨˜ã‚’å«ã‚æ¬¡ã®æ–¹æ³•ã§å¯èƒ½  
  ```c#
  // æŒ‡å®šä½ç½®ã«ç§»å‹•â€
  Vector2 _ufoPos = _ufo.Position;
  _ufoPos.x += 1; // 1ãƒ”ã‚¯ã‚»ãƒ«ç§»å‹•
  _ufo.Position = _ufoPos;

  // æŒ‡å®šä½ç½®ã«ç§»å‹•â
  _ufo.Position += new Vector2(1, 0);

  // æŒ‡å®šã—ãŸå€¤ã ã‘ç§»å‹•
  _ufo.Translate(new Vector2(1, 0));
  ```

å‚è€ƒï¼š[ç§»å‹•ã®åŸºæœ¬3ç¨®](#220611)ï¼ˆGodot 4.0 å¯¾å¿œï¼‰  
å‚è€ƒï¼š[è¡çªåˆ¤å®š](#220612)ï¼ˆGodot 4.0 å¯¾å¿œï¼‰  
å®Ÿè¡Œç’°å¢ƒï¼šWindows 10ã€Godot 3.4.2  
ä½œæˆè€…ï¼šå¤¢å¯éƒ  
ä½œæˆæ—¥ï¼š2022å¹´03æœˆ03æ—¥  
æ›´æ–°æ—¥ï¼š2022å¹´03æœˆ05æ—¥ C#ç‰ˆã‚’è¿½åŠ   
[[TOP]](#TOP)


<a id="ãƒã‚¦ã‚¹åº§æ¨™"></a>
# <b>ãƒã‚¦ã‚¹åº§æ¨™</b>

### ã€GDScriptç‰ˆã€‘ 

 * 3Dï¼ˆSpatialãƒãƒ¼ãƒ‰ï¼‰ç‰ˆ  
  ğŸ‘‡ãƒã‚¦ã‚¹ã®ä½ç½®
    ```gdscript
    #Main.gd
    extends Spatial #2Dã®å ´åˆã¯Node2D

    func _input(_event): # å…¥åŠ›ã‚¤ãƒ™ãƒ³ãƒˆ
      if _event is InputEventMouseMotion: # ãƒã‚¦ã‚¹ã‚’å‹•ã‹ã—ã¦ã„ã‚‹æ™‚
        print(_event.position) #-> (48, 425)
        print(_event.position.x) #-> 48
        print(_event.position.y) #-> 425
    ```
    ğŸ‘‡å…¥åŠ›åº§æ¨™ä½ç½®  
    ```gdscript
    #Main.gd
    extends Spatial #2Dã®å ´åˆã¯Node2D

    func _input(_event): # å…¥åŠ›ã‚¤ãƒ™ãƒ³ãƒˆ
      if _event is InputEventMouseButton: # ãƒã‚¦ã‚¹ãƒœã‚¿ãƒ³ã‚’æŠ¼ã—ãŸæ™‚
        if _event.button_index == 1: # ãƒã‚¦ã‚¹ã®å·¦ãƒœã‚¿ãƒ³
          if _event.pressed: # æŠ¼ã—ã¦ã„ã‚‹
            print(_event.position) #-> (48, 425)
            print(_event.position.x) #-> 48
            print(_event.position.y) #-> 425
    ```

 * 2Dï¼ˆNode2Dãƒãƒ¼ãƒ‰ï¼‰ç‰ˆ  
  ğŸ‘‡ãƒã‚¦ã‚¹ã®ä½ç½®
    ```gdscript
    # Main.gd
    extends Node2D

    var _ufo

    func _ready(): # æœ€åˆã«ä¸€åº¦ã ã‘å®Ÿè¡Œã•ã‚Œã‚‹
      _ufo = get_node("UFO")
      
    func _input(_event): # å…¥åŠ›ã‚¤ãƒ™ãƒ³ãƒˆ
      if _event is InputEventMouseMotion: # ãƒã‚¦ã‚¹ã‚’å‹•ã‹ã—ã¦ã„ã‚‹æ™‚
        _ufo.position.x = get_viewport().get_mouse_position().x
        _ufo.position.y = get_viewport().get_mouse_position().y
    ```
    ğŸ‘‡å…¥åŠ›åº§æ¨™ä½ç½®  
    ```gdscript
    # Main.gd
    extends Node2D
      
    func _input(_event): # å…¥åŠ›ã‚¤ãƒ™ãƒ³ãƒˆ
      if _event is InputEventMouseButton: # ãƒã‚¦ã‚¹ãƒœã‚¿ãƒ³ã‚’æŠ¼ã—ãŸæ™‚
        if _event.button_index == 1: # ãƒã‚¦ã‚¹ã®å·¦ãƒœã‚¿ãƒ³
          if _event.pressed: # æŠ¼ã—ã¦ã„ã‚‹
            print(_event.position) #-> (216, 232)
            print(_event.position.x) #-> 216
            print(_event.position.y) #-> 232
    ```

### ã€C#ç‰ˆã€‘ 

 * 3Dï¼ˆSpatialãƒãƒ¼ãƒ‰ï¼‰ç‰ˆ  
  ğŸ‘‡ãƒã‚¦ã‚¹ã®ä½ç½®
    ```c#
    // Main.cs
    using Godot;

    public class Main : Spatial {
      public override void _Input(InputEvent _event) {
        if (_event is InputEventMouseMotion _mouseEvent) {
          GD.Print(_mouseEvent.Position); //-> (423, 281)
          GD.Print(_mouseEvent.Position); //-> 423
          GD.Print(_mouseEvent.Position); //-> 281
        }
      }
    }
    ```
    ğŸ‘‡å…¥åŠ›åº§æ¨™ä½ç½®  
    ```c#
    // Main.cs
    using Godot;

    public class Main : Spatial {
      public override void _Input(InputEvent _event) {
        if (_event is InputEventMouseButton _mouseEvent) {
          if (_mouseEvent.ButtonIndex == 1) {
            if (_mouseEvent.Pressed) {
              GD.Print(_mouseEvent.Position); //-> (282, 254)
              GD.Print(_mouseEvent.Position.x); //-> 282
              GD.Print(_mouseEvent.Position.y); //-> 254
            }  
          }
        }
      }
    }
    ```

 * 2Dï¼ˆNode2Dãƒãƒ¼ãƒ‰ï¼‰ç‰ˆ  
  ğŸ‘‡ãƒã‚¦ã‚¹ã®ä½ç½®
    ```c#
    // Main.cs
    using Godot;

    public class Main : Node2D {
      public override void _Input(InputEvent _event) {
        if (_event is InputEventMouseMotion _mouseEvent) {
          GD.Print(_mouseEvent.Position); //-> (337, 309)
          GD.Print(_mouseEvent.Position.x); //-> 337
          GD.Print(_mouseEvent.Position.y); //-> 309
        }
      }
    }
    ```
    ğŸ‘‡å…¥åŠ›åº§æ¨™ä½ç½®  
    ```C#
    // Main.cs
    using Godot;

    public class Main : Node2D {
      public override void _Input(InputEvent _event) {
        if (_event is InputEventMouseButton _mouseEvent) {
          if (_mouseEvent.ButtonIndex == 1) {
            if (_mouseEvent.Pressed) {
              GD.Print(_mouseEvent.Position); //-> (357, 277)
              GD.Print(_mouseEvent.Position.x); //-> 357
              GD.Print(_mouseEvent.Position.y); //-> 277
            }
          }
        }
      }
    }
    ```

å®Ÿè¡Œç’°å¢ƒï¼šWindows 10ã€Godot 3.4.2  
ä½œæˆè€…ï¼šå¤¢å¯éƒ  
ä½œæˆæ—¥ï¼š2022å¹´03æœˆ06æ—¥  
[[TOP]](#TOP)


<a id="ç”»é¢ã‚µã‚¤ã‚º"></a>
# <b>ç”»é¢ã‚µã‚¤ã‚º</b>

 [ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆ]-[ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆè¨­å®šâ€¦]-[**Display**]-[**Window**]ã§ä»¥ä¸‹ã®é€šã‚Šã«è¨­å®š  
  * Size
    * **Width** : 1920ï¼ˆåˆæœŸå€¤:1024ï¼‰
    * **Height** : 1080ï¼ˆåˆæœŸå€¤:600ï¼‰
    * Resizable : âœ“ã‚ªãƒ³ï¼ˆåˆæœŸå€¤ï¼‰
    * **Fullscreen** : **âœ“**ã‚ªãƒ³ï¼ˆåˆæœŸå€¤:ã‚ªãƒ•ï¼‰
  * Dpi
    * **Allow Hidpi** : **âœ“**ã‚ªãƒ³ï¼ˆåˆæœŸå€¤:ã‚ªãƒ•ï¼‰
  * Handheld
    * Orientation : landscapeï¼ˆåˆæœŸå€¤ï¼‰

å®Ÿè¡Œç’°å¢ƒï¼šWindows 10ã€Godot 3.4.2  
ä½œæˆè€…ï¼šå¤¢å¯éƒ  
ä½œæˆæ—¥ï¼š2022å¹´03æœˆ07æ—¥  
[[TOP]](#TOP)


<a id="Rouletteã‚²ãƒ¼ãƒ "></a>
# <b>Rouletteã‚²ãƒ¼ãƒ </b>
[ã€Unityã®æ•™ç§‘æ›¸ã€](https://amzn.to/3hU5s5Z)ã®Chapter3ï¼ˆã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®é…ç½®ã¨å‹•ã‹ã—æ–¹ï¼‰ã®Godotç‰ˆ  

### ã€GDScriptç‰ˆã€‘  
ãƒ«ãƒ¼ãƒ¬ãƒƒãƒˆç”»åƒï¼ˆSpriteï¼‰ã«ä»¥ä¸‹ã®ã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚’ã‚¢ã‚¿ãƒƒãƒ
```gdscript
# Roullette.gd
extends Sprite # è¦æ³¨æ„ï¼

var _rotSpeed = 0 # å›è»¢é€Ÿåº¦
  
func _process(_delta): # ç¹°ã‚Šè¿”ã—å®Ÿè¡Œ
  # å›è»¢é€Ÿåº¦ã¶ã‚“ãƒ«ãƒ¼ãƒ¬ãƒƒãƒˆã‚’å›è»¢ã•ã›ã‚‹
  rotation += _rotSpeed
  _rotSpeed *= 0.98 # ãƒ«ãƒ¼ãƒ¬ãƒƒãƒˆã‚’æ¸›é€Ÿã•ã›ã‚‹

# ãƒã‚¦ã‚¹ãŒæŠ¼ã•ã‚ŒãŸã‚‰å›è»¢é€Ÿåº¦ã‚’è¨­å®šã™ã‚‹
func _input(_event): # å…¥åŠ›ã‚¤ãƒ™ãƒ³ãƒˆ
  if _event is InputEventMouseButton: # ãƒã‚¦ã‚¹ã‚’æŠ¼ã—ãŸã‚‰
    if _event.button_index == 1: # ãƒã‚¦ã‚¹ã®å·¦ãƒœã‚¿ãƒ³
      if _event.pressed: # æŠ¼ã—ã¦ã„ã‚‹
        _rotSpeed = 3;
```

### ã€C#ç‰ˆã€‘  
```c#
// Roulette.cs
using Godot;

public class Roulette : Sprite { // è¦æ³¨æ„ï¼
    private float _rotSpeed = 0f; // å›è»¢é€Ÿåº¦

    // ç¹°ã‚Šè¿”ã—å®Ÿè¡Œã•ã‚Œã‚‹
    public override void _Process(float _delta) {
        // å›è»¢é€Ÿåº¦ã¶ã‚“ãƒ«ãƒ¼ãƒ¬ãƒƒãƒˆã‚’å›è»¢ã•ã›ã‚‹
        Rotation += _rotSpeed;
        _rotSpeed *= 0.98f; // ãƒ«ãƒ¼ãƒ¬ãƒƒãƒˆã‚’æ¸›é€Ÿã•ã›ã‚‹
    }

    // ãƒã‚¦ã‚¹ãŒæŠ¼ã•ã‚ŒãŸã‚‰å›è»¢é€Ÿåº¦ã‚’è¨­å®šã™ã‚‹
    public override void _Input(InputEvent _event) {
        if (_event is InputEventMouseButton _mouseEvent) {
            if (_mouseEvent.ButtonIndex == 1) { // å·¦ãƒœã‚¿ãƒ³
                if (_mouseEvent.Pressed) {
                    _rotSpeed = 3f;
                }
            }
        }
    }
}
```

å‚è€ƒãƒ•ã‚¡ã‚¤ãƒ«ï¼š[Roulette.zip](https://github.com/mubirou/Godot/blob/main/zip/Roulette.zip)  
å®Ÿè¡Œç’°å¢ƒï¼šWindows 10ã€Godot 3.4.2  
ä½œæˆè€…ï¼šå¤¢å¯éƒ  
ä½œæˆæ—¥ï¼š2022å¹´03æœˆ10æ—¥  
[[TOP]](#TOP)


<a id="SwipeCarã‚²ãƒ¼ãƒ "></a>
# <b>SwipeCarã‚²ãƒ¼ãƒ </b>
[ã€Unityã®æ•™ç§‘æ›¸ã€](https://amzn.to/3hU5s5Z)ã®Chapter4ï¼ˆUIã¨ç›£ç£ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆï¼‰ã®Godotç‰ˆ  

### ã€GDScriptç‰ˆã€‘  
ãƒ¡ã‚¤ãƒ³ã‚·ãƒ¼ãƒ³ï¼ˆMain.tscnï¼‰ã«ä»¥ä¸‹ã®ã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚’ã‚¢ã‚¿ãƒƒãƒ
```gdscript
# Main.gd
extends Node2D

var _car
var _flag

func _ready():
  _car = get_node("Car")
  _flag = get_node("Flag")

func _process(_delta):
  var _distance = _flag.position.x - _car.position.x
  if _distance > 0 :
    _distance = "%10.2f" % (round(_distance)/20) # å°‘æ•°ç‚¹2æ¡è¡¨ç¤º
    $Label.text = str(_distance) + " m to the GOAL"
  else:
    $Label.text = "GAME OVER"
```

è»Šï¼ˆSpriteï¼‰ã«ä»¥ä¸‹ã®ã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚’ã‚¢ã‚¿ãƒƒãƒ
```gdscript
# Car.gd
extends Sprite

var _speed = 0
var _startX
  
func _process(_delta):
  translate(Vector2(_speed, 0))
  _speed *= 0.98

func _input(_event):
  if _event is InputEventMouseButton:
    if _event.button_index == 1:
      if _event.pressed: # MouseDown
        _startX = _event.position.x
      else: # MouseUp
        var _disX = _event.position.x - _startX
        _speed = _disX / 20
        $AudioStreamPlayer2D.play() # åŠ¹æœéŸ³ã¯.wav
```

### ã€C#ç‰ˆã€‘  
ãƒ¡ã‚¤ãƒ³ã‚·ãƒ¼ãƒ³ï¼ˆMain.tscnï¼‰ã«ä»¥ä¸‹ã®ã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚’ã‚¢ã‚¿ãƒƒãƒ
```c#
// Main.cs
using Godot;

public class Main : Node2D {
    private Node2D _car;
    private Node2D _flag;
    private Label _label;

    public override void _Ready() {
        _car = GetNode("Car") as Node2D;
        _flag = GetNode("Flag") as Node2D;
        _label = GetNode<Label>("Label");
    }

    public override void _Process(float _delta) {
        float _distance = _flag.Position.x - _car.Position.x;
        if (_distance > 0) {
            string _distanceText = (_distance/20).ToString("F2");
            _label.Text = _distanceText + " m to the GOAL";
        } else {
            _label.Text = "GAME OVER";
        }
    }
}
```

è»Šï¼ˆSpriteï¼‰ã«ä»¥ä¸‹ã®ã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚’ã‚¢ã‚¿ãƒƒãƒ
```c#
// Car.cs
using Godot;

public class Car : Sprite {
    private float _speed = 0f;
    private float _startX;
    private AudioStreamPlayer2D _se;

    public override void _Ready() {
        _se = GetNode<AudioStreamPlayer2D>("AudioStreamPlayer2D");
    }

    public override void _Process(float _delta) {
        Translate(new Vector2(_speed, 0));
        _speed *= 0.98f;
    }

    public override void _Input(InputEvent _event) {
        if (_event is InputEventMouseButton _mouseEvent) {
            if (_mouseEvent.ButtonIndex == 1) {
                if (_mouseEvent.Pressed) { // MouseDown
                    _startX = _mouseEvent.Position.x;
                } else { // MouseUp
                    float _disX = _mouseEvent.Position.x - _startX;
                    _speed = _disX / 20;
                    _se.Play(); // SEã¯.wav
                }
            }
        }
    }
}
```


å‚è€ƒï¼š[å°æ•°ç‚¹ä»¥ä¸‹2æ¡è¡¨ç¤º](https://docs.godotengine.org/ja/stable/tutorials/scripting/gdscript/gdscript_format_string.html#padding)ã€[å¤–éƒ¨ãƒ•ã‚©ãƒ³ãƒˆ](https://note.com/doromaito/n/n60e16bdaa1be)ã€[åŠ¹æœéŸ³](http://blawat2015.no-ip.com/~mieki256/diary/202010211.html)  
å‚è€ƒãƒ•ã‚¡ã‚¤ãƒ«ï¼š[SwipeCar.zip](https://github.com/mubirou/Godot/blob/main/zip/SwipeCar.zip)  
å®Ÿè¡Œç’°å¢ƒï¼šWindows 10ã€Godot 3.4.2  
ä½œæˆè€…ï¼šå¤¢å¯éƒ  
ä½œæˆæ—¥ï¼š2022å¹´03æœˆ23æ—¥  
æ›´æ–°æ—¥ï¼š2022å¹´03æœˆ24æ—¥ C#ç‰ˆè¿½åŠ   
[[TOP]](#TOP)


<a id="220501"></a>
# <b>Quest + Oculus Link</b>

1. [Godot Standard version 64-bit(x86_64)](https://godotengine.org/download/windows) ã‚’ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰
1. [æ–°è¦ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆ]ï¼ˆãƒ¬ãƒ³ãƒ€ãƒ©ãƒ¼ï¼š**OpenGL ES 2.0**ï¼‰ã‚’ä½œæˆ
1. æœ€ä¸Šæ®µã«ã‚ã‚‹ [AssetLib] ã‹ã‚‰ "**OpenXR Plugin**"ï¼ˆv.1.2.0ï¼‰ã‚’ [ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰] ï¼† [ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«]
1. [3Dã‚·ãƒ¼ãƒ³] ã‚’ä½œæˆ
1. [ã‚·ãƒ¼ãƒ³]-[ã‚·ãƒ¼ãƒ³ã‚’ä¿å­˜]
1. [ãƒ•ã‚¡ã‚¤ãƒ«ã‚·ã‚¹ãƒ†ãƒ ]-[res://]-[addons]-[godot-openxr]-[scenes]-[**first_person_controller_vr.tscn**] ã‚’ä¸Šè¨˜ã® [ã‚·ãƒ¼ãƒ³]-[Spatial] ä¸Šã«ãƒ‰ãƒ©ãƒƒã‚°ï¼†ãƒ‰ãƒ­ãƒƒãƒ—  
1. [ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆ]-[ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆè¨­å®š]-[ä¸€èˆ¬]-[Display]-[Window]-[**Use Vsync**] ã® âœ“ã‚ªãƒ³ ã‚’å¤–ã™ï¼ˆãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¬ãƒ¼ãƒˆã‚’å‘ä¸Šã•ã›ã‚‹ãŸã‚ï¼‰
1. [ãƒ—ãƒªãƒŸãƒ†ã‚£ãƒ–](#220701) ãªã©ä½•ã‹ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’é…ç½®ï¼ˆä»»æ„ï¼‰ã—ä»¥ä¸‹ã®ã‚ˆã†ãªéšå±¤ã«ã™ã‚‹  
  Spatial  
ã€€  â”œ FPControllerï¼ˆVRç”¨ã‚«ãƒ¡ãƒ©ãªã©ï¼‰  
ã€€  â”” MeshInstanceï¼ˆä»»æ„ã®ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆï¼‰  
1. [**Oclus Linkã®æº–å‚™**](https://github.com/mubirou/Unity3D/tree/master/study-notes#oculus-link%E3%81%AE%E6%BA%96%E5%82%99) ã‚’ã™ã‚‹
1. Godot ã® [â–¶] ã‚’æŠ¼ã—ã¦ Quest + Godot ãŒåŒæ™‚å†ç”Ÿã•ã‚Œã‚Œã°æˆåŠŸï¼

å‚è€ƒï¼š[framesynthesis.jp](https://framesynthesis.jp/tech/godot/vr/)  
å®Ÿè¡Œç’°å¢ƒï¼šWindows 10ã€Godot 3.4.4 Standard  
Meta Questï¼ˆåˆä»£ï¼‰v.39.0ã€Oculusã‚¢ãƒ—ãƒª v.39.0  
ä½œæˆè€…ï¼šå¤¢å¯éƒ  
ä½œæˆæ—¥ï¼š2022å¹´05æœˆ01æ—¥  
[[TOP]](#TOP)


<a id="220502"></a>
# <b>Questã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ©ãƒ¼è¡¨ç¤º</b>

1. [Quest + Oculus Link](#220501) ã®è¨­å®šã‚’ãŠã“ãªã†
1. æœ€ä¸Šæ®µã«ã‚ã‚‹ [AssetLib] ã‹ã‚‰ "**Oculus Quest VR Toolkit**"ï¼ˆv.0.4.2ï¼‰ã‚’ [ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰] ï¼† [ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«]
1. [ã‚·ãƒ¼ãƒ³]-[Main]-[**FPController**] ã‚’é¸æŠã—å³ã‚¯ãƒªãƒƒã‚¯ã— [ç·¨é›†å¯èƒ½ãªå­] ã‚’ [âœ“]
1. åŒæ§˜ã« [ãƒ­ãƒ¼ã‚«ãƒ«ã«ã™ã‚‹] ã‚’é¸æŠ
1. [ãƒ•ã‚¡ã‚¤ãƒ«ã‚·ã‚¹ãƒ†ãƒ ]-[res://]-[OQ_Toolkit]-[OQ_ARVRController]-[Models3d]-[**OculusQuestTouchController_Left.glft**] ã‚’ä¸Šè¨˜ã§é–‹ã„ãŸ [FPController]-[LeftHandController] ä¸Šã«ãƒ‰ãƒ©ãƒƒã‚°ï¼†ãƒ‰ãƒ­ãƒƒãƒ—
1. åŒæ§˜ã« [**OculusQuestTouchController_Right.glft**] ã‚’ [RightHandController] ä¸Šã«ãƒ‰ãƒ©ãƒƒã‚°ï¼†ãƒ‰ãƒ­ãƒƒãƒ—  
  Spatial  
ã€€  â”œ FPControllerï¼ˆ**ARVROrigin**ï¼‰  
ã€€  â”‚   â”œã€€**ARVRCamera**  
ã€€  â”‚   â”œã€€LeftHandControllerï¼ˆ**ARVRController**ï¼‰  
ã€€  â”‚   â”‚ã€€ã€€â”” OculusQuestTouchController_Leftï¼ˆ.glTFï¼‰  
ã€€  â”‚   â””ã€€RightHandControllerï¼ˆ**ARVRController**ï¼‰  
ã€€  â”‚ã€€ã€€  â”” OculusQuestTouchController_Rightï¼ˆ.glTFï¼‰  
ã€€  â”” MeshInstanceï¼ˆä»»æ„ã®ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆï¼‰  
1. [Main] ã‚·ãƒ¼ãƒ³ã«æˆ»ã£ã¦ã‹ã‚‰ [â–¶] ã‚’æŠ¼ã—ã¦ Quest + Godot ãŒåŒæ™‚å†ç”Ÿã•ã‚Œã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ©ãƒ¼ãŒè¡¨ç¤ºã•ã‚Œã‚Œã°æˆåŠŸï¼ï¼ˆãƒœã‚¿ãƒ³é¡ã¯å‹•ã‹ãªã„ï¼‰

å‚è€ƒï¼š[docs.godotengine.org](https://docs.godotengine.org/ja/stable/tutorials/vr/xr_primer.html#new-ar-vr-nodes)

ï¼œå‚è€ƒï¼šUnity Asset Store ã®åˆ©ç”¨ï¼  
1. [Questã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ©ãƒ¼è¡¨ç¤º](https://github.com/mubirou/Unity3D/tree/master/study-notes#quest%E3%82%B3%E3%83%B3%E3%83%88%E3%83%AD%E3%83%BC%E3%83%A9%E3%83%BC%E8%A1%A8%E7%A4%BA)ã§å¿…è¦ãªä½œæ¥­ã‚’ãŠã“ãªã†
1. Unity ã® [Assets]-[Oculus]-[VR]-[Meshes]-[OculusTouchForQuestAndRiftS]-[**OculusTouchForQuestAndRiftS_Left.fbx**] ãŠã‚ˆã³ [**OculusTouchForQuestAndRiftS_Right.fbx**] ã‚’ Godot ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒ•ã‚©ãƒ«ãƒ€å†…ã«ã‚³ãƒ”ãƒ¼

å®Ÿè¡Œç’°å¢ƒï¼šWindows 10ã€Godot 3.4.4  
ä½œæˆè€…ï¼šå¤¢å¯éƒ  
ä½œæˆæ—¥ï¼š2022å¹´05æœˆ23æ—¥  
[[TOP]](#TOP)


<a id="220503"></a>
# <b>is_button_pressed()</b>

1. [æ¤œè¨¼ç”¨ã‚³ãƒ¼ãƒ‰](#220503_1)
1. [æ¤œè¨¼çµæœ](#220503_2)
1. [å®Ÿè·µç·¨](#220503_3)
1. [å¿œç”¨ç·¨ï¼ˆDown/Hold/Upï¼‰](#220503_4)

<a id="220503_1"></a>

### æ¤œè¨¼ç”¨ã‚³ãƒ¼ãƒ‰
[Questã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ©ãƒ¼](#220502)ã® LeftHandController ã¾ãŸã¯ RightHandController ã«ã‚¢ã‚¿ãƒƒãƒæ¸ˆã® controller.gd ã® _process(delta) é–¢æ•°å†…ã«è¿½åŠ 

```gdscript
if is_button_pressed(0): print("0")
if is_button_pressed(1): print("1")
if is_button_pressed(2): print("2")
if is_button_pressed(3): print("3")
if is_button_pressed(4): print("4")
if is_button_pressed(5): print("5")
if is_button_pressed(6): print("6")
if is_button_pressed(7): print("7")
if is_button_pressed(8): print("8")
if is_button_pressed(9): print("9")
if is_button_pressed(10): print("10")
if is_button_pressed(11): print("11")
if is_button_pressed(12): print("12")
if is_button_pressed(13): print("13")
if is_button_pressed(14): print("14")
if is_button_pressed(15): print("15")
if is_button_pressed(16): print("16")
if is_button_pressed(17): print("17")
if is_button_pressed(18): print("18")
if is_button_pressed(19): print("19")
if is_button_pressed(20): print("20")
if is_button_pressed(21): print("21")
if is_button_pressed(22): print("22")
if is_button_pressed(23): print("23")
if is_button_pressed(24): print("24")
if is_button_pressed(25): print("25")
if is_button_pressed(26): print("26")
if is_button_pressed(27): print("27")
if is_button_pressed(28): print("28")
if is_button_pressed(29): print("29")
if is_button_pressed(30): print("30")  
if is_button_pressed(31): print("31")
if is_button_pressed(32): print("32")
if is_button_pressed(64): print("64")
if is_button_pressed(71): print("71")
if is_button_pressed(128): print("128")
if is_button_pressed(256): print("256")
if is_button_pressed(512): print("512")
if is_button_pressed(1024): print("1024")
if is_button_pressed(2048): print("2048")
if is_button_pressed(4096): print("4096")
if is_button_pressed(8192): print("8192")
if is_button_pressed(16777216): print("16777216")
```
å‚è€ƒï¼š[GODOT DOCS](https://docs.godotengine.org/ja/stable/classes/class_@globalscope.html#globalscope)  
["is_button_pressed()" TOP](#220503)  

<a id="220503_2"></a>

### æ¤œè¨¼çµæœ  
  [Questã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ©ãƒ¼](#220502)ã® LeftHandController ã¾ãŸã¯ RightHandController ã«ã‚¢ã‚¿ãƒƒãƒæ¸ˆã® controller.gd ã® _process(delta) é–¢æ•°å†…ã«è¿½åŠ 
  ```gdscript
  if is_button_pressed(1):
    if get_controller_id() == 1: print("Yã‚’æŠ¼ã—ãŸ")
    if get_controller_id() == 2: print("Bã‚’æŠ¼ã—ãŸ")

  if is_button_pressed(2):
    if get_controller_id() == 1: print("å·¦ä¸­æŒ‡ãƒˆãƒªã‚¬ãƒ¼ã‚’æŠ¼ã—ãŸ_50ï¼…")
    if get_controller_id() == 2: print("å³ä¸­æŒ‡ãƒˆãƒªã‚¬ãƒ¼ã‚’æŠ¼ã—ãŸ_50ï¼…")
    
  if is_button_pressed(3):
    print("MENUã‚’æŠ¼ã—ãŸ")
    
  if is_button_pressed(5):
    if get_controller_id() == 1: print("Xã«ã‚¿ãƒƒãƒ")
    if get_controller_id() == 2: print("Aã«ã‚¿ãƒƒãƒ")

  if is_button_pressed(6):
    if get_controller_id() == 1: print("Yã«ã‚¿ãƒƒãƒ")
    if get_controller_id() == 2: print("Bã«ã‚¿ãƒƒãƒ")
    
  if is_button_pressed(7):
    if get_controller_id() == 1: print("Xã‚’æŠ¼ã—ãŸ")
    if get_controller_id() == 2: print("Aã‚’æŠ¼ã—ãŸ")
  
  if is_button_pressed(12):
    if get_controller_id() == 1: print("å·¦ã‚¢ãƒŠãƒ­ã‚°ã‚¹ãƒ†ã‚£ãƒƒã‚¯ã«ã‚¿ãƒƒãƒ")
    if get_controller_id() == 2: print("å³ã‚¢ãƒŠãƒ­ã‚°ã‚¹ãƒ†ã‚£ãƒƒã‚¯ã«ã‚¿ãƒƒãƒ")
    
  if is_button_pressed(14):
    if get_controller_id() == 1: print("å·¦ã‚¢ãƒŠãƒ­ã‚°ã‚¹ãƒ†ã‚£ãƒƒã‚¯ã‚’æŠ¼ã—è¾¼ã‚“ã ")
    if get_controller_id() == 2: print("å³ã‚¢ãƒŠãƒ­ã‚°ã‚¹ãƒ†ã‚£ãƒƒã‚¯ã‚’æŠ¼ã—è¾¼ã‚“ã ")
    
  if is_button_pressed(15):
    if get_controller_id() == 1: print("å·¦äººå·®ã—æŒ‡ãƒˆãƒªã‚¬ãƒ¼ã‚’æŠ¼ã—ãŸ_70ï¼…")
    if get_controller_id() == 2: print("å³äººå·®ã—æŒ‡ãƒˆãƒªã‚¬ãƒ¼ã‚’æŠ¼ã—ãŸ_70ï¼…")
  
  if is_button_pressed(16):
    if get_controller_id() == 1: print("å·¦äººå·®ã—æŒ‡ãƒˆãƒªã‚¬ãƒ¼ã«ã‚¿ãƒƒãƒ_10ï¼…")
    if get_controller_id() == 2: print("å³äººå·®ã—æŒ‡ãƒˆãƒªã‚¬ãƒ¼ã«ã‚¿ãƒƒãƒ_10ï¼…")
  ```
  å‚è€ƒï¼š[GODOT DOCS](https://docs.godotengine.org/ja/stable/classes/class_@globalscope.html#globalscope)  
  ["is_button_pressed()" TOP](#220503)  

<a id="220503_3"></a>

### å®Ÿè·µç·¨  
1. [Questã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ©ãƒ¼è¡¨ç¤º](#220502)ã®è¨­å®šã‚’è¡Œã†
2. LeftHandController ã¾ãŸã¯ RightHandController ã«ã‚¢ã‚¿ãƒƒãƒæ¸ˆã® controller.gd ã‚’ä»¥ä¸‹ã®é€šã‚Šå¤‰æ›´
```gdscript
# controller.gd
extends ARVRController

signal activated
signal deactivated

signal LTriggerDown
signal RTriggerDown

func _process(delta):
  if get_is_active():
    if !visible:
      visible = true
      print("Activated " + name)
      emit_signal("activated")
  elif visible:
    visible = false
    print("Deactivated " + name)
    emit_signal("deactivated")
    
  if is_button_pressed(JOY_VR_TRIGGER): # 15
    if get_controller_id() == 1:
      emit_signal("LTriggerDown")
    if get_controller_id() == 2:
      emit_signal("RTriggerDown")
```
3. å¤§å…ƒã® Spatial ãƒãƒ¼ãƒ‰ã®åå‰ã‚’ Main ã«å¤‰æ›´ã—ã‚¹ã‚¯ãƒªãƒ—ãƒˆï¼ˆMain.gdï¼‰ã‚’ã‚¢ã‚¿ãƒƒãƒã—ä»¥ä¸‹ã®é€šã‚Šã«è¨˜è¿°  
```gdscript
# Main.gd
extends Spatial

var _LController
var _RController

func _ready():
  _LController = get_node("/root/Main/FPController/LeftHandController")
  _RController = get_node("/root/Main/FPController/RightHandController")
  # $"/root/Main/FPController/ã€‡ã€‡HandController" ã§ã‚‚å¯
  
  _LController.connect("LTriggerDown", self, "LTriggerDownHandler")
  _RController.connect("RTriggerDown", self, "RTriggerDownHandler")

func LTriggerDownHandler():
  print("LTriggerDown")

func RTriggerDownHandler():
  print("RTriggerDown")
```
["is_button_pressed()" TOP](#220503)  


<a id="220503_4"></a>

### å¿œç”¨ç·¨ï¼ˆDown/Hold/Upï¼‰

[Questã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ©ãƒ¼](#220502)ã® LeftHandController ã¾ãŸã¯ RightHandController ã«ã‚¢ã‚¿ãƒƒãƒæ¸ˆã® controller.gd ã® _process(delta) é–¢æ•°å†…ã«è¿½åŠ 

```gdscript
if is_button_pressed(JOY_VR_TRIGGER): # 15
  if get_controller_id() == 1:
    if !_isLTriggerDown:
      print("å·¦äººå·®ã—æŒ‡ãƒˆãƒªã‚¬ãƒ¼ã‚’æŠ¼ã—ãŸ")
      _isLTriggerDown = true
    else: print("å·¦äººå·®ã—æŒ‡ãƒˆãƒªã‚¬ãƒ¼ã‚’æŠ¼ã—ç¶šã‘ã¦ã„ã‚‹") # çœç•¥ã™ã‚‹ã¨ï¼ˆdownã®ã¿ï¼‰  
  if get_controller_id() == 2:
    if !_isRTriggerDown:
      print("å³äººå·®ã—æŒ‡ãƒˆãƒªã‚¬ãƒ¼ã‚’æŠ¼ã—ãŸ")
      _isRTriggerDown = true
    else: print("å³äººå·®ã—æŒ‡ãƒˆãƒªã‚¬ãƒ¼ã‚’æŠ¼ã—ç¶šã‘ã¦ã„ã‚‹") # çœç•¥ã™ã‚‹ã¨ï¼ˆdownã®ã¿ï¼‰
else:
  if _isLTriggerDown:
    _isLTriggerDown = false
    print("å·¦äººå·®ã—æŒ‡ãƒˆãƒªã‚¬ãƒ¼ã‚’é›¢ã—ãŸ")
  if _isRTriggerDown:
    _isRTriggerDown = false
    print("å³äººå·®ã—æŒ‡ãƒˆãƒªã‚¬ãƒ¼ã‚’é›¢ã—ãŸ")
```

å®Ÿè¡Œç’°å¢ƒï¼šWindows 10ã€Godot 3.4.4  
ä½œæˆè€…ï¼šå¤¢å¯éƒ  
ä½œæˆæ—¥ï¼š2022å¹´05æœˆ23æ—¥  
["is_button_pressed()" TOP](#220503)  
[[TOP]](#TOP)


<a id="220505"></a>
# <b>Questãƒ“ãƒ«ãƒ‰</b>

### ã“ã®é …ç›®ã¯æ›¸ãã‹ã‘ã§ã™

è‡ªä½œ .apk ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ [SideQuest](https://sidequestvr.com/) ã‚’ä½¿ã£ã¦ Meta Quest ã«ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã™ã‚‹æ–¹æ³•  

ğŸ“– [**SideQuest**](https://sidequestvr.com/) ã¨ã¯â€¦  
Meta ã®å…¬å¼ã‚¹ãƒˆã‚¢ä»¥å¤–ã®ã‚¢ãƒ—ãƒªã‚’ Meta Quest ã«ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ï½¥å‰Šé™¤ç­‰ã®æ“ä½œã‚’ç°¡å˜ã«è¡Œãˆã‚‹ Windows ç”¨ãƒ„ãƒ¼ãƒ«  

1. [Androidãƒ“ãƒ«ãƒ‰](#Androidãƒ“ãƒ«ãƒ‰)ãŠã‚ˆã³ã€[FRAME SYNTHESIS](https://framesynthesis.jp/tech/godot/vr/)ã®ã€ŒPCï½¥Questã§å‹•ä½œã™ã‚‹VRã‚¢ãƒ—ãƒªã‚’ä½œã‚‹ã«ã¯ã€ã‚’å‚è€ƒã« **.apk** ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½œæˆã™ã‚‹ï¼ˆç‰¹ã«ä»¥ä¸‹ã®ç‚¹ã«æ³¨æ„ï¼‰  
    * ~~[ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆ]-[ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆè¨­å®š]-[ä¸€èˆ¬]-[Display]-[Window]-[Vsync]-[**Use Vsync**] ã® âœ“ ã‚’å¤–ã™~~  
    * ~~[ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆ]-[ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆè¨­å®š]-[ä¸€èˆ¬]-[Rendering]-[Vram Compression]-[**Import Etc**] ã‚’ âœ“ ã™ã‚‹~~
    * [ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆ]-[ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆ]-[è¿½åŠ ]-[Android]-[Xr Features]-[Xr Mode]-[**OpenXR**] ã«å¤‰æ›´

1. [Quest ã‚’é–‹ç™ºãƒ¢ãƒ¼ãƒ‰ã«ã™ã‚‹](https://github.com/mubirou/Unity3D/tree/master/metaquest#%E9%96%8B%E7%99%BA%E8%80%85%E3%83%A2%E3%83%BC%E3%83%89)

1. [SideQuestã‚’ä½¿ã£ã¦OculusQuestã«apkãƒ•ã‚¡ã‚¤ãƒ«ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã‚ˆã†ï¼](https://vracademy.jp/blog/sidequest%E3%82%92%E4%BD%BF%E3%81%A3%E3%81%A6oculusquest%E3%81%ABapk%E3%83%95%E3%82%A1%E3%82%A4%E3%83%AB%E3%82%92%E3%82%A4%E3%83%B3%E3%82%B9%E3%83%88%E3%83%BC%E3%83%AB%E3%81%97%E3%82%88%E3%81%86/)ã®æŒ‡ç¤ºã«å¾“ã†ï¼ˆä¸»ãªæ‰‹é †ã¯ä»¥ä¸‹ã®é€šã‚Šï¼‰  
    1. Windows ã« **SideQuest** ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
    1. Windows ã¨ **Quest** ã‚’æ¥ç¶š
    1. SideQuest ä¸Šéƒ¨ã® **Currently installed apps** ã‚¢ã‚¤ã‚³ãƒ³ã‚’é¸æŠ
    1. **Search package** ã®é ˜åŸŸã«ä¸Šè¨˜ã§ä½œæˆã—ãŸ **.apk** ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ãƒ‰ãƒ©ãƒƒã‚°ï¼†ãƒ‰ãƒ­ãƒƒãƒ—
    1. **Quest** ä¸Šã® [ã‚¢ãƒ—ãƒª] ã® [**æä¾›å…ƒä¸æ˜**] ã®ä¸­ã‹ã‚‰ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ãŸã‚¢ãƒ—ãƒªã‚’é¸æŠã—å®Ÿè¡Œ

å‚è€ƒï¼š[VRã‚¢ã‚«ãƒ‡ãƒŸãƒ¼](https://vracademy.jp/blog/sidequest%E3%82%92%E4%BD%BF%E3%81%A3%E3%81%A6oculusquest%E3%81%ABapk%E3%83%95%E3%82%A1%E3%82%A4%E3%83%AB%E3%82%92%E3%82%A4%E3%83%B3%E3%82%B9%E3%83%88%E3%83%BC%E3%83%AB%E3%81%97%E3%82%88%E3%81%86/)ã€[FRAME SYNTHESIS](https://framesynthesis.jp/tech/godot/vr/)  
å®Ÿè¡Œç’°å¢ƒï¼šWindows 10ã€Godot 3.4.4ã€SideQuest 0.10.27  
ä½œæˆè€…ï¼šå¤¢å¯éƒ  
ä½œæˆæ—¥ï¼š2022å¹´05æœˆ26æ—¥  
æ›´æ–°æ—¥ï¼š2022å¹´09æœˆ01æ—¥ Godot 4.0 å¯¾å¿œ  
[[TOP]](#TOP)


<a id="220601"></a>
# <b>RayCastãƒœã‚¿ãƒ³</b>

ãƒ¬ãƒ¼ã‚¶ãƒ¼ãƒã‚¤ãƒ³ã‚¿ã®å®Ÿè£…ãƒ¡ãƒ¢ï¼ˆæ‰‹ä½œæ¥­é…ç½®ç·¨ï¼‰ã€‚  
å³äººå·®ã—æŒ‡ãƒˆãƒªã‚¬ãƒ¼ã§é¸æŠï¼ˆâ‰’Click ï¼‰ã™ã‚‹ã¨é¸ã‚“ã ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®åå‰ãŒè¿”ã‚‹ã€‚  

ğŸ“ é¸æŠã™ã‚‹ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®ç”¨æ„  
  1. [ç«‹æ–¹ä½“](#220701)ãªã©ã‚’ç”¨æ„
  1. ä¸Šè¨˜ã‚’é¸æŠã— [å­ãƒãƒ¼ãƒ‰ã‚’è¿½åŠ ]-[**KinematicBody**]
  1. KinematicBody ã‚’é¸æŠã— [å­ãƒãƒ¼ãƒ‰ã‚’è¿½åŠ ]-[**CollisionShape**]
  1. CollisionShape ã‚’é¸æŠã— [ã‚¤ãƒ³ã‚¹ãƒšã‚¯ã‚¿ãƒ¼]-[**Shape**]-[è¿½åŠ  BoxShape] ã‚’é¸ã¶ï¼ˆéšå±¤ã¯ä»¥ä¸‹ã®é€šã‚Šï¼‰  

ã€€  â”œ MeshInstanceï¼ˆé¸æŠã™ã‚‹ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆï¼‰  
ã€€  â”‚     â”” **KinematicBody**ï¼ˆé‡è¦ï¼‰  
ã€€  â”‚ã€€ã€€   â”” **CollisionShape**ï¼ˆåå¿œã™ã‚‹é ˜åŸŸï¼‰  

ğŸ“ RayCast ã®ç”¨æ„
  1. [[**FPController**](#220501)]-[**RightHandController**] ã«ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ©ã‚’è¦–è¦šåŒ–ã•ã›ã‚‹ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆï¼ˆ"ControllerR"ï¼‰ã‚’ç”¨æ„
  1. RightHandController ã‚’é¸æŠã— [å­ãƒãƒ¼ãƒ‰ã‚’è¿½åŠ ]-[**RayCast**]
  1. RayCast ã‚’é¸æŠã— [ã‚¤ãƒ³ã‚¹ãƒšã‚¯ã‚¿ãƒ¼] ã® [**Cast To**] ã‚’ [x 0ã€y 0ã€**z -1000**] ã«è¨­å®šï¼ˆéšå±¤ã¯ä»¥ä¸‹ã®é€šã‚Šï¼‰  

ã€€  â”œ FPController  
ã€€  â”‚   â”œ Configuration  
ã€€  â”‚   â”œ ARVRCamera  
ã€€  â”‚   â”œ LeftHandController  
ã€€  â”‚   â”” RightHandController  
ã€€  â”‚ã€€ã€€ã€€ â”œ ControllerRï¼ˆã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ©ã®è¦–è¦šåŒ–ï¼‰  
ã€€  â”‚ã€€ã€€ã€€ â”” **RayCast**ï¼ˆé‡è¦ï¼‰  

ğŸ“ RayCast ã®è¦–è¦šåŒ–
  1. RightHandController ã‚’é¸æŠã— [å­ãƒãƒ¼ãƒ‰ã‚’è¿½åŠ ]-[**MeshInstance**] ã‚’é¸ã‚“ã§åå‰ã‚’ "MeshInstance" â†’ "RayLine" ã«å¤‰æ›´
  1. RayLine ã‚’é¸æŠã— [ã‚¤ãƒ³ã‚¹ãƒšã‚¯ã‚¿ãƒ¼]-[Mesh]-[æ–°è¦ **CubeMesh**] ã‚’é¸ã¶
  1. å¼•ç¶šã [ã‚¤ãƒ³ã‚¹ãƒšã‚¯ã‚¿ãƒ¼]-[Transform] ã§æ¬¡ã®é€šã‚Šã«è¨­å®š  
      * **Translation**ï¼šx 0ã€y 0ã€**z -1000**
      * **Scale**ï¼šx 0.003ã€y 0.003ã€**z 1000**
  1. åŠé€æ˜ã«ã™ã‚‹  
      1. [ã‚¤ãƒ³ã‚¹ãƒšã‚¯ã‚¿]-[Material]-[æ–°è¦ **SpatialMaterial**] ã‚’é¸æŠ
      1. [ç·¨é›†] ã§ä»¥ä¸‹ã®é€šã‚Šã«è¨­å®š  
          * [**Albedo**]-[**Color**]ï¼š**#80ffffff**ï¼ˆç™½ï½¥ä¸é€æ˜åº¦50ï¼…ï¼‰
          * [**Flags**]-[**Transparent**]ï¼š**âœ“**

ğŸ“ ãƒ’ãƒƒãƒˆã—ãŸãƒã‚¤ãƒ³ãƒˆã®è¦–è¦šåŒ–
  1. RightHandController ã‚’é¸æŠã— [å­ãƒãƒ¼ãƒ‰ã‚’è¿½åŠ ]-[**MeshInstance**] ã‚’é¸ã‚“ã§åå‰ã‚’ "MeshInstance" â†’ "HitPoint" ã«å¤‰æ›´
  1. HitPoint ã‚’é¸æŠã— [ã‚¤ãƒ³ã‚¹ãƒšã‚¯ã‚¿ãƒ¼]-[Mesh]-[æ–°è¦ **SphereMesh**] ã‚’é¸ã¶
  1. å¼•ç¶šã [ã‚¤ãƒ³ã‚¹ãƒšã‚¯ã‚¿ãƒ¼]-[Transform] ã§æ¬¡ã®é€šã‚Šã«è¨­å®š  
      * **Scale**ï¼šx 0.02ã€y 0.02ã€z 0.02  
  1. åŠé€æ˜ã«ã™ã‚‹  
      1. [ã‚¤ãƒ³ã‚¹ãƒšã‚¯ã‚¿]-[Material]-[æ–°è¦ **SpatialMaterial**] ã‚’é¸æŠ
      1. [ç·¨é›†] ã§ä»¥ä¸‹ã®é€šã‚Šã«è¨­å®š  
          * [**Albedo**]-[**Color**]ï¼š**#ccffffff**ï¼ˆç™½ï½¥ä¸é€æ˜åº¦80ï¼…ï¼‰
          * [**Flags**]-[**Transparent**]ï¼š**âœ“**

ï¼ˆã“ã“ã¾ã§ã®ä½œæ¥­ã®éšå±¤ã¯ä»¥ä¸‹ã®é€šã‚Šï¼‰  
  Spatial  
ã€€  â”œ FPController  
ã€€  â”‚   â”œ Configuration  
ã€€  â”‚   â”œ ARVRCamera  
ã€€  â”‚   â”œ LeftHandController  
ã€€  â”‚   â”” RightHandController  
ã€€  â”‚ã€€ã€€ã€€ â”œ ControllerRï¼ˆã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ©ã®è¦–è¦šåŒ–ï¼‰  
ã€€  â”‚ã€€ã€€ã€€ â”œ **RayCast**ï¼ˆé‡è¦ï¼‰  
ã€€  â”‚ã€€ã€€ã€€ â”œ RayLineï¼ˆRayCastã®è¦–è¦šåŒ–ï¼‰  
ã€€  â”‚ã€€ã€€ã€€ â”” HitPointï¼ˆãƒ’ãƒƒãƒˆã—ãŸãƒã‚¤ãƒ³ãƒˆã®è¦–è¦šåŒ–ï¼‰  
ã€€  â”” MeshInstanceï¼ˆé¸æŠã™ã‚‹ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆï¼‰  
ã€€ã€€ã€€ã€€ â”” **KinematicBody**ï¼ˆé‡è¦ï¼‰  
ã€€ã€€ã€€ã€€ã€€ã€€ã€€ â”” **CollisionShape**ï¼ˆåå¿œã™ã‚‹é ˜åŸŸï¼‰  

ğŸ“ ã‚³ãƒ¼ãƒ‰ã®è¨˜è¿°  

* RightHandController ã«ã‚¢ã‚¿ãƒƒãƒæ¸ˆã® **controller.gd** ã«åŠ ç­†  

```gdscript
# controller.gd
extends ARVRController

signal activated
signal deactivated
signal TriggerDownR
signal TriggerUpR

var _isTriggerDownR = false

func _process(delta):
  if get_is_active():
    if !visible:
      visible = true
      print("Activated " + name)
      emit_signal("activated")
  elif visible:
    visible = false
    print("Deactivated " + name)
    emit_signal("deactivated")

  if is_button_pressed(JOY_VR_TRIGGER): # 15
    if get_controller_id() == 2:
      if !_isTriggerDownR:
        _isTriggerDownR = true
        emit_signal("TriggerDownR")
  else:
    if _isTriggerDownR:
      _isTriggerDownR = false
      emit_signal("TriggerUpR")
```

* å¤§å…ƒã® Spatial ã«æ–°è¦ã§ Main.gd ã‚’ã‚¢ã‚¿ãƒƒãƒã—ä»¥ä¸‹ã®é€šã‚Šã«è¨˜è¿°  

```gdscript
# Main.gd
extends Spatial

var _controllerR
var _rayCastR
var _rayLineR
var _hitPointR
var _selectCollider

func _ready():
  _controllerR = get_node("FPController/RightHandController")
  _controllerR.connect("TriggerDownR", self, "TriggerDownHandlerR")
  _controllerR.connect("TriggerUpR", self, "TriggerUpHandlerR")
  _rayCastR = get_node("FPController/RightHandController/RayCast")
  _rayLineR = get_node("FPController/RightHandController/RayLine")
  _hitPointR = get_node("FPController/RightHandController/HitPoint")
  _hitPointR.visible = false

func _physics_process(delta):
  if _rayCastR.is_colliding():
    _hitPointR.visible = true
    _hitPointR.global_transform.origin = _rayCastR.get_collision_point()
    var _dis = (_rayCastR.global_transform.origin - _hitPointR.global_transform.origin).length()
    _rayLineR.scale.z = _dis/2
    _rayLineR.translation.z = -_dis/2
  else:
    _rayLineR.scale.z = 1000
    _rayLineR.translation.z = -1000
    _hitPointR.visible = false

func TriggerDownHandlerR():
  _selectCollider = _rayCastR.get_collider()

func TriggerUpHandlerR():
  if _rayCastR.get_collider() == null: return # DEBUG
  if _rayCastR.get_collider() == _selectCollider:
    print(_selectCollider.get_parent().name + " is selected")
```

å®Ÿè¡Œç’°å¢ƒï¼šWindows 10ã€Godot 3.4.4 + OpenXR Plugin 1.2  
Meta Quest 40.0ã€Oculus Linkï¼ˆOculusã‚¢ãƒ—ãƒªï¼‰  
ä½œæˆè€…ï¼šå¤¢å¯éƒ  
ä½œæˆæ—¥ï¼š2022å¹´06æœˆ02æ—¥  
æ›´æ–°æ—¥ï¼š2022å¹´06æœˆ03æ—¥  
[[TOP]](#TOP)


<a id="220605"></a>
# <b>VRç©ºé–“ã«2Dã‚·ãƒ¼ãƒ³ã‚’è¡¨ç¤º</b>

VR ç©ºé–“ä¸Šã« 640x480px ã® 2D ã‚·ãƒ¼ãƒ³ï¼ˆNode2D.tscnï¼‰ã‚’è¡¨ç¤ºã™ã‚‹  

ğŸ“ è«¸æº–å‚™  
VR ã‚³ãƒ³ãƒ†ãƒ³ãƒ„é–‹ç™ºã® [è«¸æº–å‚™](#220501) ã‚’ã™ã‚‹

ğŸ“ **Viewport** ã®ä½œæˆ
1. å¤§å…ƒã® Spatial ã‚’é¸æŠã— [å­ãƒãƒ¼ãƒ‰ã‚’è¿½åŠ ]-[**Viewport**] ã‚’é¸æŠ
1. Viewport ã® [ã‚¤ãƒ³ã‚¹ãƒšã‚¯ã‚¿ãƒ¼] ã§æ¬¡ã®é€šã‚Šã«è¨­å®š  
    * **Size**ï¼š**x 640**ã€**y 480**ï¼ˆ2Dã‚·ãƒ¼ãƒ³ã®ã‚µã‚¤ã‚ºã«åˆã‚ã›ã‚‹ï¼‰
1. Viewport ã‚’é¸æŠã— [å­ãƒãƒ¼ãƒ‰ã‚’è¿½åŠ ]-[**Node2D**] ã‚’é¸æŠ  

ğŸ“ **2Dã‚·ãƒ¼ãƒ³**ã®ä½œæˆ
1. ä¸Šè¨˜ã§ä½œæˆã—ãŸ Node2D ã‚’å³ã‚¯ãƒªãƒƒã‚¯ â†’ [**ãƒ–ãƒ©ãƒ³ãƒã‚’ã‚·ãƒ¼ãƒ³ã¨ã—ã¦ä¿å­˜**] â†’ **Node2D.tscn** ã§ä¿å­˜ï¼ˆåå‰ã¯ä»»æ„ï¼‰
1. Node2D ã® [**ã‚¨ãƒ‡ã‚£ã‚¿ãƒ¼ã§é–‹ã**] ã‚¢ã‚¤ã‚³ãƒ³ï¼ˆï¼ã‚«ãƒãƒ³ã‚³ï¼‰ã‚’é¸æŠ
1. 640x480 ã®ç”»åƒï¼ˆ.jpgï¼‰ãªã©ã‚’ã‚¹ãƒ†ãƒ¼ã‚¸ã«ãƒ‰ãƒ©ãƒƒã‚°ï¼†ãƒ‰ãƒ­ãƒƒãƒ—  
1. é…ç½®ã—ãŸ **Sprite** ã® [ã‚¤ãƒ³ã‚¹ãƒšã‚¯ã‚¿ãƒ¼] ã§æ¬¡ã®é€šã‚Šã«è¨­å®šã™ã‚‹ã¨æ¥½ãƒãƒ³  
    * [Offset]-[**Centered**]ï¼š**ã‚ªãƒ•**
    * [Transform]-[**Position**]ï¼š**x 0**ã€**y 0**

ğŸ“ **PlaneMesh** ã®ä½œæˆï¼ˆã“ã‚Œã«2Dã‚·ãƒ¼ãƒ³ã‚’è¡¨ç¤ºï¼‰
1. å¤§å…ƒã® Spatial ã‚’é¸æŠã— [å­ãƒãƒ¼ãƒ‰ã‚’è¿½åŠ ]-[**MeshInstance**] ã‚’é¸æŠ
1. [ã‚¤ãƒ³ã‚¹ãƒšã‚¯ã‚¿ãƒ¼]-[Mesh]-[æ–°è¦ **PlaneMesh**] ã‚’é¸æŠ
1. å¼•ç¶šã [ã‚¤ãƒ³ã‚¹ãƒšã‚¯ã‚¿ãƒ¼]-[Transform] ã‚’æ¬¡ã®é€šã‚Šã«å¤‰æ›´  
    * **Transform**ï¼šx 0ã€**y 1**ã€**z -3**  
    * **Rotation**ï¼š**x 90**ã€y 0ã€z 0
    * **Scale**ï¼š**x 1.5**ã€y 1ã€z 1ï¼ˆâˆµ640:480=**1.5**:1ï¼‰

ï¼ˆã“ã“ã¾ã§ã®ä½œæ¥­ã®éšå±¤ã¯ä»¥ä¸‹ã®é€šã‚Šï¼‰  
  Spatial  
ã€€  â”œ FPController  
ã€€  â”œ **Viewport**  
ã€€  â”‚   â”” **Node2D**ï¼ˆ2Dã‚·ãƒ¼ãƒ³/**.tscn**ï¼‰  
ã€€  â”” MeshInstanceï¼ˆ**PlaneMesh**/ã“ã‚Œã«2Dã‚·ãƒ¼ãƒ³ã‚’è¡¨ç¤ºï¼‰  

ğŸ“ **PlaneMesh** ã« **Viewport** ã‚’è¡¨ç¤ºã™ã‚‹
1. ä¸Šè¨˜ã§ä½œæˆã—ãŸ MeshInstanceï¼ˆPlaneMeshï¼‰ã® [ã‚¤ãƒ³ãƒšã‚¯ã‚¿ãƒ¼] ã‚’é–‹ã
1. [**Material**]-[æ–°è¦ **SpatialMaterial**] ã‚’é¸æŠ
1. è¡¨ç¤ºã•ã‚ŒãŸçƒå‹ã®å³å´ã«ã‚ã‚‹ [v]-[ç·¨é›†]-[**Resource**] ã‚’é¸æŠã—æ¬¡ã®é€šã‚Šã«è¨­å®š  
    * **Local Top Scene**ï¼š**âœ“ã‚ªãƒ³**
1. å¼•ç¶šã [**Albedo**]-[**Texture**]-[æ–°è¦ **ViewportTexture**] ã‚’é¸æŠ
1. è¡¨ç¤ºã•ã‚ŒãŸ [Viewport]-[ç·¨é›†]-[**Viewport Path**]-[**å‰²ã‚Šå½“ã¦..**] ã‹ã‚‰ä¸Šè¨˜ã§ä½œæˆã—ãŸ **Viewport** ã‚’é¸æŠ  

    ğŸ’¡ ãƒ—ãƒ­ã‚°ãƒ©ãƒ ã§è¡¨ç¤ºã•ã›ã‚‹å ´åˆ 2ï½5ã®ä»£ã‚ã‚Šã«ä»¥ä¸‹ã‚’å®Ÿè¡Œâ€¦  
    1. [**Geometry**]-[**Material Override**]-[æ–°è¦ **SpatialMaterial**] ã‚’é¸æŠ
    1. å¤§å…ƒã® Spatial ã‚’å³ã‚¯ãƒªãƒƒã‚¯ â†’ [**ã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚’ã‚¢ã‚¿ãƒƒãƒ**] ã‚’é¸ã³ **.gd** ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½œæˆã—ä»¥ä¸‹ã®é€šã‚Šã«è¨˜è¿°  
    ```gdscript
    extends Spatial

    func _ready():
      $MeshInstance.material_override.albedo_texture = $Viewport.get_texture()
    ```
å‚è€ƒï¼š[GODOT Asset Libra
ry](https://godotengine.org/asset-library/asset/129)  
å®Ÿè¡Œç’°å¢ƒï¼šWindows 10ã€Godot 3.4.4ã€Meta Quest 40.0ã€Oculusã‚¢ãƒ—ãƒª  
ä½œæˆè€…ï¼šå¤¢å¯éƒ  
ä½œæˆæ—¥ï¼š2022å¹´06æœˆ07æ—¥  
[[TOP]](#TOP)


<a id="220606"></a>
# <b>360Â°ãƒ‘ãƒãƒ©ãƒ</b>

### ã“ã®é …ç›®ã¯ Godot 3.X ç”¨ã§ã™

ğŸ“ [360Â°ç”»åƒ](https://pixexid.com/search/360%20panorama)ã®ç”¨æ„  

ğŸ“ **WorldEnvironment** ã®ä½œæˆ  

1. å¤§å…ƒã® Spatial ã‚’é¸æŠã— [å­ãƒãƒ¼ãƒ‰ã‚’è¿½åŠ ]-[**WorldEnvironment**] ã‚’é¸æŠ
1. WorldEnvironment ã‚’é¸æŠã— [ã‚¤ãƒ³ã‚¹ãƒšã‚¯ã‚¿ãƒ¼] ã‚’è¨­å®š  
    * Environmentï¼š[ã‚¯ã‚¤ãƒƒã‚¯ãƒ­ãƒ¼ãƒ‰]-[**default_env.tres**]

ğŸ“ **default_env.tres** ã®è¨­å®š

1. [ãƒ•ã‚¡ã‚¤ãƒ«ã‚·ã‚¹ãƒ†ãƒ ]-[**default_env.tres**]-[**Background**] ã‚’æ¬¡ã®é€šã‚Šã«è¨­å®š  
    * Modeï¼š**Sky**
    * Skyï¼š[æ–°è¦ **PanoramaSky**]-[ç·¨é›†]  
        * **Panorama**ï¼š360Â°ç”»åƒï¼ˆ**.jpg** [.hdr](https://ja.wikipedia.org/wiki/%E3%83%8F%E3%82%A4%E3%83%80%E3%82%A4%E3%83%8A%E3%83%9F%E3%83%83%E3%82%AF%E3%83%AC%E3%83%B3%E3%82%B8%E3%82%A4%E3%83%A1%E3%83%BC%E3%82%B8) **.png**ï¼‰ã‚’ãƒ‰ãƒ©ãƒƒã‚°ï¼†ãƒ‰ãƒ­ãƒƒãƒ—
        * **Radiance Size**ï¼š**512**

å‚è€ƒï¼š[**360Â°ãƒ‘ãƒãƒ©ãƒï¼ˆGodot 4.0 å¯¾å¿œï¼‰**](#220710)  
å‚è€ƒï¼š[GODOT Asset Library](https://godotengine.org/asset-library/asset/123)  
å®Ÿè¡Œç’°å¢ƒï¼šWindows 10ã€Godot 3.4.4ã€Meta Quest 40.0ã€Oculusã‚¢ãƒ—ãƒª  
ä½œæˆè€…ï¼šå¤¢å¯éƒ  
ä½œæˆæ—¥ï¼š2022å¹´06æœˆ09æ—¥  
æ›´æ–°æ—¥ï¼š2022å¹´06æœˆ10æ—¥  
[[TOP]](#TOP)


<a id="220607"></a>
# <b>é¡é¢ä»•ä¸Šã’ãƒœãƒ¼ãƒ«</b>
ã‚¹ãƒ†ãƒ³ãƒ¬ã‚¹çƒï½¥ã‚·ãƒ£ãƒœãƒ³ç‰é¢¨ãªã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®ä½œæˆ  

1. [360Â°ãƒ‘ãƒãƒ©ãƒ](#220606)ã‚’è¨­å®š
1. å¤§å…ƒã® Spatial ã‚’é¸æŠã— [å­ãƒãƒ¼ãƒ‰ã‚’è¿½åŠ ]-[**MeshInstance**] ã‚’é¸æŠ
1. [ã‚¤ãƒ³ã‚¹ãƒšã‚¯ã‚¿ãƒ¼]-[Mesh]-[æ–°è¦ **SphereMesh**] ã‚’é¸æŠ
1. [ã‚¤ãƒ³ã‚¹ãƒšã‚¯ã‚¿ãƒ¼]-[Transform] ã‚’æ¬¡ã®é€šã‚Šã«å¤‰æ›´  
    * Translationï¼šx 0ã€y 0.5ã€z -1
    * Scaleï¼šx 0.3ã€y 0.3ã€z 0.3
1. [ã‚¤ãƒ³ã‚¹ãƒšã‚¯ã‚¿ãƒ¼]-[**Material**]-[æ–°è¦ **SpatialMaterial**]-[ç·¨é›†]  
    * [Flags]-[**Transparent**]ï¼š[Albedo]-[Color] ã®ä¸é€æ˜åº¦ã¨é€£å‹•
    * [Albedo]-[**Color**]ï¼šä¸é€æ˜åº¦ã®è¨­å®šå¯èƒ½ï¼ˆåˆæœŸå€¤ #ffffffï¼‰
    * [Metallic]-[**Metallic**]ï¼š**1**
    * [Roughness]-[**Roughness**]ï¼š**0.02**ï¼ˆå…‰æ²¢æ„Ÿï¼‰

å‚è€ƒï¼š[GODOT Asset Library](https://godotengine.org/asset-library/asset/123)  
å®Ÿè¡Œç’°å¢ƒï¼šWindows 10ã€Godot 3.4.4ã€Meta Quest 40.0ã€Oculusã‚¢ãƒ—ãƒª  
ä½œæˆè€…ï¼šå¤¢å¯éƒ  
ä½œæˆæ—¥ï¼š2022å¹´06æœˆ10æ—¥  
[[TOP]](#TOP)


<a id="220610"></a>
# <b>ç‰©ç†ã‚¨ãƒ³ã‚¸ãƒ³ RigidBodyã¨StaticBody</b>

[ç‰©ç†ã‚¨ãƒ³ã‚¸ãƒ³](https://docs.godotengine.org/ja/stable/tutorials/physics/physics_introduction.html?highlight=%E7%89%A9%E7%90%86%E3%82%A8%E3%83%B3%E3%82%B8%E3%83%B3#physics-introduction)ã‚’ä½¿ã£ã¦ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’åºŠã«è½ä¸‹ã•ã›ã‚‹  

ğŸ“– [RigidBody](https://docs.godotengine.org/ja/stable/classes/class_rigidbody.html?highlight=Rigidbody#rigidbody)ï¼šè¡çªæ™‚ã«ãƒã‚¦ãƒ³ãƒ‰ç­‰ã™ã‚‹  
ğŸ“– [StaticBody](https://docs.godotengine.org/ja/stable/classes/class_staticbody.html#staticbody)ï¼šè¡çªã—ã¦ã‚‚å‹•ã‹ãªã„ï¼ˆCPUè² è·å°‘ãªã„ï¼‰  

ğŸ“ è«¸æº–å‚™  
VR ã‚³ãƒ³ãƒ†ãƒ³ãƒ„é–‹ç™ºã® [è«¸æº–å‚™](#220501) ã‚’ã™ã‚‹

ğŸ“ å„ç¨®ãƒãƒ¼ãƒ‰ã‚’ä»¥ä¸‹ã®é€šã‚Šé…ç½®  
  Spatial  
ã€€  â”œ FPController  
ã€€  â”œ **RigidBody**ï¼ˆ"Cubeã€‡"ç­‰ã«å¤‰æ›´ï¼‰  
ã€€  â”‚   â”” **CollisionShape**ï¼ˆBoxShapeå‹ï¼‰  
ã€€  â”‚ã€€ã€€ã€€ â”” **MeshInstance**ï¼ˆCubeMeshå‹ï¼è½ä¸‹ç‰©ï¼‰  
ã€€  â”” **StaticBody**ï¼ˆ"Floor"ç­‰ã«å¤‰æ›´ï¼‰  
ã€€  ã€€  â”” **CollisionShape**ï¼ˆBoxShapeå‹ï¼‰  
ã€€  ã€€ã€€ã€€ã€€â”” **MeshInstance**ï¼ˆCubeMeshå‹ï¼åºŠï¼‰  

ğŸ’¡ å„ç¨®è¨­å®šã®ãƒã‚¤ãƒ³ãƒˆ  

* ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®**å¤§ãã•**  
    * å„ **CollisionShape** ã® [Transform]-[**Scale**] ã§è¨­å®šã™ã‚‹  
    * ã€‡ã€‡Body ã‚„ MeshInstance ã® [Scale] ã¯å…¨ã¦åˆæœŸå€¤ï¼ˆ"1"ï¼‰ã®ã¾ã¾  

* ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®**ä½ç½®**ã‚„**è§’åº¦**  
    * å„ **ã€‡ã€‡Body** ã® [Transform]-[**Translation**] ã¨ [**Rotation Degrees**] ã§è¨­å®šã™ã‚‹  
    * CollisionShape ã‚„ MeshInstance ã® [Translation] ã¨ [Rotation Degrees] ã¯å…¨ã¦åˆæœŸå€¤ï¼ˆ"0"ï¼‰ã®ã¾ã¾  

* **é‡åŠ›åŠ é€Ÿåº¦**ã®èª¿æ•´ï¼ˆã‚†ã£ãã‚Šè½ä¸‹ã•ã›ã‚‹ï¼‰
    * å„ **ã€‡ã€‡Body** ã® **Gravity Scale** ã‚’ã€Œ0.05ã€ç­‰ã«å¤‰æ›´

å®Ÿè¡Œç’°å¢ƒï¼šWindows 10ã€Godot 3.4.4ã€Meta Quest 40.0ã€Oculusã‚¢ãƒ—ãƒª  
ä½œæˆè€…ï¼šå¤¢å¯éƒ  
ä½œæˆæ—¥ï¼š2022å¹´06æœˆ13æ—¥  
[[TOP]](#TOP)


<a id="220614"></a>
# <b>BGMï½¥SE</b>

ğŸ“– ã‚µã‚¦ãƒ³ãƒ‰ã®ç”¨æ„  
  1. ç”¨é€”åˆ¥ã‚µã‚¦ãƒ³ãƒ‰ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ç”¨æ„  
    * **ãƒ«ãƒ¼ãƒ—ã‚µã‚¦ãƒ³ãƒ‰**ï¼š**.ogg**  
    * **åŠ¹æœéŸ³**ï¼š**.wav**  
  1. ä¸Šè¨˜ã®ã‚µã‚¦ãƒ³ãƒ‰ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒ•ã‚©ãƒ«ãƒ€ã«ç½®ã  
  1. [Godot]-[ãƒ•ã‚¡ã‚¤ãƒ«ã‚·ã‚¹ãƒ†ãƒ ] ã® **.ogg** ã‚’ï¼·ã‚¯ãƒªãƒƒã‚¯
  1. [ã‚¤ãƒ³ã‚¹ãƒšã‚¯ã‚¿ãƒ¼]-[**Loop**]-[**âœ“ ã‚ªãƒ³**]

ğŸ“– **AudioStreamPlayer3D** ã®ä½œæˆ  
  1. [ã‚·ãƒ¼ãƒ³]-[ï¼‹]-[**AudioStreamPlayer3D**] ã‚’é¸æŠ
  1. åå‰ã‚’ "BGMã€‡" "SEã€‡" ç­‰ã«å¤‰æ›´
  1. [BGMã€‡] or [SEã€‡]-[ã‚¤ãƒ³ã‚¹ãƒšã‚¯ã‚¿ãƒ¼]-[**Stream**]-[ã‚¯ã‚¤ãƒƒã‚¯ãƒ­ãƒ¼ãƒ‰] ã‹ã‚‰ **.ogg** / **.wav** ãƒ•ã‚¡ã‚¤ãƒ«ã‚’é¸æŠ

ğŸ“– ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°ä¾‹  
  ```gdscript
  # Main.gd
  extends Spatial

  var _BGM1
  var _SE1

  func _ready():
    _BGM1 = get_node("BGM1")
    _SE1 = get_node("SE1")
    _BGM1.play()
  
  func _xxHandler():
    _BGM1.stop()
    _SE1.play()
  ```

å‚è€ƒï¼š[GODOT Asset Library](https://godotengine.org/asset-library/asset/515)  
å‚è€ƒï¼š[GODOT DOCS](https://docs.godotengine.org/ja/stable/tutorials/assets_pipeline/importing_audio_samples.html)  
å®Ÿè¡Œç’°å¢ƒï¼šWindows 10ã€Godot 3.4.4ã€Meta Quest 40.0ã€Oculusã‚¢ãƒ—ãƒª  
ä½œæˆè€…ï¼šå¤¢å¯éƒ  
ä½œæˆæ—¥ï¼š2022å¹´06æœˆ20æ—¥  
[[TOP]](#TOP)


<a id="220615"></a>
# <b>Blender(éšå±¤æ§‹é€ ) to Godot</b>

ğŸ“ Blender ã®ä½œæ¥­  

1. [éšå±¤æ§‹é€ ã®è¨­å®š](https://github.com/mubirou/Blender/tree/master/study-notes#%E9%9A%8E%E5%B1%A4%E6%A7%8B%E9%80%A0%E3%81%AE%E8%A8%AD%E5%AE%9A)ã‚’ã™ã‚‹  
ï¼ˆä¾‹ï¼šã‚¹ãƒ¢ãƒ¼ãƒ«ã‚»ã‚³ãƒ³ãƒ‰ä»˜æ™‚è¨ˆï¼‰  
ã€€  â”œ **watchBoard**ï¼ˆæ™‚è¨ˆå…¨ä½“ã®æ–‡å­—ç›¤ï¼‰  
ã€€  â”‚   â”” **secondBoard**ï¼ˆã‚¹ãƒ¢ãƒ¼ãƒ«ã‚»ã‚³ãƒ³ãƒ‰ã®æ–‡å­—ç›¤ï¼‰  
ã€€  â”‚ã€€ã€€ â”” **secondHand**ï¼ˆç§’é‡ï¼‰  
1. ä¸Šè¨˜ã®å…¨ã¦ã‚’é¸æŠã™ã‚‹
1. [ãƒ•ã‚¡ã‚¤ãƒ«]-[ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆ]-[**glTF 2.0 (.glb/.gltf)**] ã‚’é¸æŠ
1. ä»¥ä¸‹ã®é€šã‚Šè¨­å®š  
    * ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆï¼š**glTFãƒã‚¤ãƒŠãƒª (.glb)**
    * å†…å®¹ï¼š**âœ“ é¸æŠã—ãŸã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆ**  
1. Godot ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒ•ã‚©ãƒ«ãƒ€ãƒ¼å†…ã« "Watch" ãƒ•ã‚©ãƒ«ãƒ€ã‚’ä½œæˆã— "**Watch.glb**" ã¨ã—ã¦ä¿å­˜

ğŸ“ Godot ã®ä½œæ¥­  

1. [ãƒ•ã‚¡ã‚¤ãƒ«ã‚·ã‚¹ãƒ†ãƒ ]-[Watch]-[**Watch.glb**] ã‚’ [ã‚·ãƒ¼ãƒ³] ã«ãƒ‰ãƒ©ãƒƒã‚°ï¼†ãƒ‰ãƒ­ãƒƒãƒ—  
1. [ã‚¤ãƒ³ã‚¹ãƒšã‚¯ã‚¿ãƒ¼]-[Transform] ã§ä½ç½®ã‚„ã‚µã‚¤ã‚ºã‚’èª¿æ•´
1. [ã‚·ãƒ¼ãƒ³]-[Watch] ã‚’å³ã‚¯ãƒªãƒƒã‚¯ â†’ [**ç·¨é›†å¯èƒ½ãªå­**] ã‚’é¸æŠ

å‚è€ƒï¼š[Blender to Godot](#220609)  
å®Ÿè¡Œç’°å¢ƒï¼šWindows 10ã€Godot 3.4.4ã€Blender 3.2.0  
ä½œæˆè€…ï¼šå¤¢å¯éƒ  
ä½œæˆæ—¥ï¼š2022å¹´06æœˆ21æ—¥  
[[TOP]](#TOP)


<a id="220617"></a>
# <b>ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³é·ç§»</b>

[ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼ãƒãƒ¼ã‚ºåˆ¶å¾¡](https://github.com/mubirou/Unity3D/tree/master/sample#001-%E3%82%AD%E3%83%A3%E3%83%A9%E3%82%AF%E3%82%BF%E3%83%BC9%E3%83%9D%E3%83%BC%E3%82%BA%E5%88%B6%E5%BE%A1) ã® Godot ç‰ˆ  

ğŸ“ Blender ã®ä½œæ¥­  

1. Blender ã§[ãƒ¢ãƒ‡ãƒªãƒ³ã‚°ï¼†ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³](https://github.com/mubirou/Blender/tree/master/sample#001-%E3%82%AD%E3%83%A3%E3%83%A9%E3%82%AF%E3%82%BF%E3%83%BC9%E3%83%9D%E3%83%BC%E3%82%BA)  
ï¼ˆéšå±¤æ§‹é€ ã¯ä»¥ä¸‹ã®é€šã‚Šï¼‰  
ã€€  â”œ ã‚¢ãƒ¼ãƒãƒãƒ¥ã‚¢  
ã€€  â”‚   â”œã€€ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³  
ã€€  â”‚   â”œã€€ãƒãƒ¼ã‚º  
ã€€  â”‚   â”œã€€ã‚¢ãƒ¼ãƒãƒãƒ¥ã‚¢  
ã€€  â”‚   â””ã€€ç«‹æ–¹ä½“  
1. ã‚¢ãƒ¼ãƒãƒãƒ¥ã‚¢ä»¥ä¸‹å…¨ã¦ã‚’é¸æŠã™ã‚‹
1. [ãƒ•ã‚¡ã‚¤ãƒ«]-[ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆ]-[**glTF 2.0 (.glb/.gltf)**] ã‚’é¸æŠ
1. ä»¥ä¸‹ã®é€šã‚Šè¨­å®š  
    * ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆï¼š**glTFãƒã‚¤ãƒŠãƒª (.glb)**
    * å†…å®¹ï¼š**âœ“ é¸æŠã—ãŸã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆ**  
1. Godot ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒ•ã‚©ãƒ«ãƒ€ãƒ¼å†…ã« "ã€‡ã€‡" ãƒ•ã‚©ãƒ«ãƒ€ã‚’ä½œæˆã— "ã€‡ã€‡.glb" ã¨ã—ã¦ä¿å­˜

ğŸ“ Godot ã®ä½œæ¥­  

1. [ãƒ•ã‚¡ã‚¤ãƒ«ã‚·ã‚¹ãƒ†ãƒ ]-[ã€‡ã€‡]-[ã€‡ã€‡.glb] ã‚’ [ã‚·ãƒ¼ãƒ³] ã«ãƒ‰ãƒ©ãƒƒã‚°ï¼†ãƒ‰ãƒ­ãƒƒãƒ—ï¼ˆã€‡ã€‡.glbã«âœ–ã®å°ãŒã¤ã„ã¦ã„ã‚‹å ´åˆã¯ã‚¹ãƒ†ãƒ¼ã‚¸ä¸Šã«ãƒ‰ãƒ©ãƒƒã‚°ï¼†ãƒ‰ãƒ­ãƒƒãƒ—ï¼åŸå› ä¸æ˜ï½¥è¦èª¿æŸ»ï¼‰  
1. [ã€‡ã€‡]-[ã‚¤ãƒ³ã‚¹ãƒšã‚¯ã‚¿ãƒ¼]-[Transform] ã§ä½ç½®ã‚„ã‚µã‚¤ã‚ºã‚’èª¿æ•´
1. [ã‚·ãƒ¼ãƒ³]-[ã€‡ã€‡] ã‚’å³ã‚¯ãƒªãƒƒã‚¯ â†’ [ç·¨é›†å¯èƒ½ãªå­] ã‚’é¸æŠ
1. [ã‚·ãƒ¼ãƒ³]-[ã€‡ã€‡]-[**[AnimationPlayer](https://docs.godotengine.org/ja/stable/classes/class_animationtree.html#class-animationtree)**] ã‚’é¸æŠï¼ˆã‚¿ã‚¤ãƒ ãƒ©ã‚¤ãƒ³ãŒè¡¨ç¤ºã•ã‚Œã‚‹ï¼‰
1. [ä¿ç•™ã‚¢ã‚¯ã‚·ãƒ§ãƒ³]] ã‚’å¤‰æ›´ã™ã‚‹ã¨ãƒãƒ¼ã‚ºãŒåˆ‡ã‚Šæ›¿ã‚ã‚‹ã®ã‚’ç¢ºèª
1. ãƒãƒ¼ã‚ºã‚’ç¢ºèªã—ãªãŒã‚‰ [ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³]-[åå‰ã‚’å¤‰æ›´] ã§ "ä¿ç•™ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ã€‡" ã‚’ [Blender ã§è¨­å®šã—ãŸãƒãƒ¼ã‚º](https://github.com/mubirou/Unity3D/tree/master/sample#001-%E3%82%AD%E3%83%A3%E3%83%A9%E3%82%AF%E3%82%BF%E3%83%BC9%E3%83%9D%E3%83%BC%E3%82%BA%E5%88%B6%E5%BE%A1)ã®åå‰ã«å¤‰æ›´ï¼ˆã“ã®ç”»é¢ã§ [**ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ãƒ«ãƒ¼ãƒ—**] ã‚’ã‚ªãƒ³ã«ã™ã‚‹ï¼‰  
![image](https://github.com/mubirou/Godot/blob/main/jpg/202206251244.jpg)  
1. å¤§å…ƒã® Spatial ã‚’é¸æŠã— [å­ãƒãƒ¼ãƒ‰ã‚’è¿½åŠ ]-[**[AnimationTree](https://docs.godotengine.org/ja/stable/classes/class_animationplayer.html?highlight=AnimationPlayer#animationplayer)**] ã‚’é¸æŠ  
ï¼ˆéšå±¤æ§‹é€ ã¯ä»¥ä¸‹ã®é€šã‚Šï¼‰  
  Spatial  
ã€€  â”œ FPController  
ã€€  â”œ ã€‡ã€‡  
ã€€  â”‚   â”œ ã‚¢ãƒ¼ãƒãƒãƒ¥ã‚¢  
ã€€  â”‚   â”‚ã€€â”” Skeleton  
ã€€  â”‚   â”‚ã€€ã€€ â”” ç«‹æ–¹ä½“  
ã€€  â”‚   â”” **[AnimationPlayer](https://docs.godotengine.org/ja/stable/classes/class_animationtree.html#class-animationtree)**ï¼ˆè‡ªå‹•çš„ã«ç”Ÿæˆï¼‰  
ã€€  â”” **[AnimationTree](https://docs.godotengine.org/ja/stable/tutorials/animation/animation_tree.html?highlight=StateMachine#using-animationtree)**  
1. [**AnimationTree**]-[ã‚¤ãƒ³ã‚¹ãƒšã‚¯ã‚¿ãƒ¼] ã§å„ç¨®è¨­å®š  
    * **Tree Root**ï¼š**AnimationNodeBlendTree**
    * **Anim Player**ï¼šã€‡ã€‡ã®éšå±¤ä¸‹ã«ã‚ã‚‹ **[AnimationPlayer](https://docs.godotengine.org/ja/stable/classes/class_animationplayer.html?highlight=AnimationPlayer#animationplayer)**  
    * **Active**ï¼š**âœ“**ã‚ªãƒ³ï¼ˆã‚ªãƒ³ã«ã™ã‚‹ã¨ [AnimationPlayer] ã§ãƒãƒ¼ã‚ºã®ç¢ºèªãŒã§ããªããªã‚Šã¾ã™ï¼‰
1. [AnimationTree]ï¼ˆãƒãƒ¼ãƒ‰è¨­å®šç”»é¢ï¼‰ã§å³ã‚¯ãƒªãƒƒã‚¯ â†’ [**Transition**] ã‚’é¸æŠ
1. [Transition]-[ã‚¤ãƒ³ã‚¹ãƒšã‚¯ã‚¿ãƒ¼] ã§å„ç¨®è¨­å®šã‚’ã™ã‚‹
    * [**Input Count**]ï¼šãƒãƒ¼ã‚ºæ•°
    * [**Xfade Time**]ï¼šãƒãƒ¼ã‚ºé·ç§»ã®æ™‚é–“ï¼ˆ0.3ç§’ç¨‹åº¦ï¼‰
    * [**Input ã€‡**]-[**Name**]ï¼š[Blender ã§è¨­å®šã—ãŸãƒãƒ¼ã‚º](https://github.com/mubirou/Unity3D/tree/master/sample#001-%E3%82%AD%E3%83%A3%E3%83%A9%E3%82%AF%E3%82%BF%E3%83%BC9%E3%83%9D%E3%83%BC%E3%82%BA%E5%88%B6%E5%BE%A1)ã®åå‰ 
![image](https://github.com/mubirou/Godot/blob/main/jpg/202206251302.jpg)  
1. [AnimationTree]ï¼ˆãƒãƒ¼ãƒ‰è¨­å®šç”»é¢ï¼‰ã§å³ã‚¯ãƒªãƒƒã‚¯ â†’ [**Animation**] ã‚’é¸æŠ
1. ä¸Šè¨˜ã® [**AnimationPlayer**] ã§è¨­å®šã—ãŸãƒãƒ¼ã‚ºã‚’æŒ‡å®šï¼ˆä¸‹å›³å‚ç…§ï¼‰
1. åŒæ§˜ã«ãƒãƒ¼ã‚ºæ•°ã ã‘ç¹°ã‚Šè¿”ã—ã€å„ãƒãƒ¼ãƒ‰ã‚’æ¥ç¶šï¼ˆä¸‹å›³ï¼‰<a id="220617-1"></a>  
![image](https://github.com/mubirou/Godot/blob/main/jpg/202206261024.jpg)  
1. [**Transition**] ã®æœ€ä¸‹éƒ¨ã®ãƒãƒ¼ã‚ºã‚’å¤‰æ›´ã—"ã‚¹ãƒ ãƒ¼ã‚ºãªé·ç§»"ã‚’ç¢ºèª
1. ãƒãƒ¼ã‚ºã‚’å¤‰æ›´ã—ãŸã„ã‚¿ã‚¤ãƒŸãƒ³ã‚°ã«ã‚³ãƒ¼ãƒ‰ã‚’è¨˜è¿°ï¼ˆä¾‹ï¼‰  

```gdscript
func TriggerDownHandlerR():
  if _rayCastR.get_collider() == null: return
  _selectCollider = _rayCastR.get_collider()

  var _cubeName = _selectCollider.get_parent().name
  if _cubeName == "CubeR":
    $AnimationTree["parameters/Transition/current"] = 0
  elif _cubeName == "CubeY":
    $AnimationTree["parameters/Transition/current"] = 1
  elif _cubeName == "CubeB":
    $AnimationTree["parameters/Transition/current"] = 2
```

å®Ÿè¡Œç’°å¢ƒï¼šWindows 10ã€Godot 3.4.4ã€Meta Quest 41.0ã€Oculusã‚¢ãƒ—ãƒª  
ä½œæˆè€…ï¼šå¤¢å¯éƒ  
ä½œæˆæ—¥ï¼š2022å¹´06æœˆ25æ—¥  
[[TOP]](#TOP)


<a id="220618"></a>
# <b>ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³é€Ÿåº¦å¤‰æ›´</b>

1. [å„ãƒãƒ¼ãƒ‰ã®æ¥ç¶š](#220617-1)ã¾ã§ä½œæ¥­ã‚’è¡Œã†
1. [Animation] ã¨ [Transition] ã®é–“ã« [**TimeScale**] ã‚’è¿½åŠ ï¼ˆä¸‹å›³ï¼‰  
![image](https://github.com/mubirou/Godot/blob/main/jpg/202206261034.jpg)  
1. ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ã®é€Ÿåº¦ã‚’å¤‰æ›´ã—ãŸã„ã‚¿ã‚¤ãƒŸãƒ³ã‚°ã«ã‚³ãƒ¼ãƒ‰ã‚’è¨˜è¿°ï¼ˆä¾‹ï¼‰

```gdscrip
$AnimationTree["parameters/TimeScale/scale"] = 2
```
* å‚™è€ƒ
"**parameters/TimeScale/scale**" ã®å€¤ã¯ [AnimationTree]-[ã‚¤ãƒ³ã‚¹ãƒšã‚¯ã‚¿ãƒ¼]-[Parameters] ã®å€¤ã¨åŒã˜ï¼ˆä¸‹å›³ï¼‰  
![image](https://github.com/mubirou/Godot/blob/main/jpg/202206261051.jpg)  

å‚è€ƒï¼š[GODOT DOCS](https://docs.godotengine.org/ja/stable/tutorials/animation/animation_tree.html#using-animationtree)  
å®Ÿè¡Œç’°å¢ƒï¼šWindows 10ã€Godot 3.4.4ã€Meta Quest 41.0ã€Oculusã‚¢ãƒ—ãƒª  
ä½œæˆè€…ï¼šå¤¢å¯éƒ  
ä½œæˆæ—¥ï¼š2022å¹´06æœˆ26æ—¥  
[[TOP]](#TOP)


<a id="220630"></a>
# <b>å¤–éƒ¨ã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚¨ãƒ‡ã‚£ã‚¿</b>

1. Godot ã®è¨­å®š
    1. [ã‚¨ãƒ‡ã‚£ã‚¿ãƒ¼]-[ã‚¨ãƒ‡ã‚£ã‚¿ãƒ¼è¨­å®š]-[ãƒ†ã‚­ã‚¹ãƒˆã‚¨ãƒ‡ã‚£ã‚¿ãƒ¼]-[å¤–éƒ¨] ã‚’é–‹ã
    1. æ¬¡ã®é€šã‚Šè¨­å®š  
        * [å¤–éƒ¨ã‚¨ãƒ‡ã‚£ã‚¿ãƒ¼ã‚’ä½¿ç”¨] : **âœ”**
        * [å®Ÿè¡Œãƒ‘ã‚¹] : C:/Users/XXXXX/AppData/Local/Programs/Microsoft VS Code/**Code.exe**  

1. Visual Studio Code ã®è¨­å®š  
    1. VSCode ã‚’èµ·å‹•
    1. [ã‚¢ã‚¯ãƒ†ã‚£ãƒ“ãƒ†ã‚£ãƒãƒ¼ï¼ˆActivity Barï¼‰] ã‹ã‚‰ **godot-tolls** ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«

1. Visual Studio Code ã®ãƒ•ã‚©ãƒ³ãƒˆã®è¨­å®š
    1. [**Ricty Diminished Discordï¼ˆRegularï¼‰**](https://github.com/edihbrandon/RictyDiminished/blob/master/RictyDiminishedDiscord-Regular.ttf) ã‚’ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ï¼†ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«  
    1. [ãƒ•ã‚¡ã‚¤ãƒ«ï¼ˆFileï¼‰]-[ãƒ¦ãƒ¼ã‚¶ãƒ¼è¨­å®šï¼ˆpreferencesï¼‰]-[è¨­å®šï¼ˆSettingsï¼‰]-[è¨­å®šã®æ¤œç´¢ï¼ˆSearch settingsï¼‰] ã§ "**Editor font family**" ã‚’æ¤œç´¢
    1. [**Editor: Font Family**]-[ãƒ•ã‚©ãƒ³ãƒˆ ãƒ•ã‚¡ãƒŸãƒªã‚’åˆ¶å¾¡ã—ã¾ã™ã€‚] ã«ã€Œ**'Ricty Diminished Discord Regular'**ã€ã¨å…¥åŠ›ã—å†èµ·å‹•  
    å‚è€ƒï¼š [M PLUS 1 Codeï¼ˆRegularï¼‰](https://github.com/coz-m/MPLUS_FONTS/blob/master/fonts/otf/Mplus1Code-Regular.otf) ï¼ˆ'M PLUS 1 Code Regular'ï¼‰ã‚‚ã‚ã‚Š  

å‚è€ƒï¼š[ãƒ•ã‚©ãƒ³ãƒˆè¨­å®š](#220715)  
å®Ÿè¡Œç’°å¢ƒï¼šWindows 11ã€Godot 4.1.2ã€VSCode 1.83.1  
ä½œæˆè€…ï¼šå¤¢å¯éƒ  
ä½œæˆæ—¥ï¼š2021å¹´12æœˆ30æ—¥  
æ›´æ–°æ—¥ï¼š2023å¹´10æœˆ12æ—¥ Godot 4.1.2 ã§å‹•ä½œç¢ºèª    
[[TOP]](#TOP)


<a id="220701"></a>
# <b>ãƒ—ãƒªãƒŸãƒ†ã‚£ãƒ–</b>

1. [ã‚·ãƒ¼ãƒ³] ã®ä»»æ„ã®ãƒãƒ¼ãƒ‰ã‚’é¸æŠã— [å­ãƒãƒ¼ãƒ‰ã‚’è¿½åŠ ]-[**MeshInstance3D**]
1. [ã‚¤ãƒ³ã‚¹ãƒšã‚¯ã‚¿]-[Mesh]ã‚’ä»¥ä¸‹ã®ä¸­ã‹ã‚‰é¸æŠ
    * **Mesh**ï¼ˆæ–°ï¼‰
    * **[ArrayMesh](https://docs.godotengine.org/ja/stable/classes/class_arraymesh.html?highlight=ArrayMesh#arraymesh)**
    * **PlaceholderMesh**ï¼ˆæ–°ï¼‰
    * **ImmediateMesh**ï¼ˆæ–°ï¼‰
    * **PrimitiveMesh**ï¼ˆæ–°ï¼‰
    * **BoxMesh**ï¼ˆæ—§[CubeMesh](https://docs.godotengine.org/ja/stable/classes/class_cubemesh.html?highlight=CubeMesh#cubemesh) / ç«‹æ–¹ä½“ï¼å£ï½¥æŸ±ï½¥ç®±ï½¥éšæ®µï¼‰
    * **[CapsuleMesh](https://docs.godotengine.org/ja/stable/classes/class_capsulemesh.html?highlight=CapsuleMesh#capsulemesh)**ï¼ˆã‚«ãƒ—ã‚»ãƒ«ï¼ç‰©ç†æŒ™å‹•ãƒ†ã‚¹ãƒˆï¼‰
    * **[CylinderMesh](https://docs.godotengine.org/ja/stable/classes/class_cylindermesh.html?highlight=CylinderMesh#cylindermesh)**ï¼ˆå††æŸ±ï¼‰
    * **[PlaneMesh](https://docs.godotengine.org/ja/stable/classes/class_planemesh.html?highlight=PlaneMesh#planemesh)**ï¼ˆå¹³é¢ï¼‰
    * **[PrismMesh](https://docs.godotengine.org/ja/stable/classes/class_prismmesh.html?highlight=PrismMesh#prismmesh)**ï¼ˆãƒ—ãƒªã‚ºãƒ ï¼ä¸‰è§’æŸ±ï¼‰
    * **[QuadMesh](https://docs.godotengine.org/ja/stable/classes/class_quadmesh.html?highlight=QuadMesh#quadmesh)**ï¼ˆç”»åƒè¡¨ç¤ºï½¥å‹•ç”»å†ç”Ÿç”¨ï¼‰
    * **[SphereMesh](https://docs.godotengine.org/ja/stable/classes/class_spheremesh.html?highlight=SphereMesh#spheremesh)**ï¼ˆçƒï¼æ˜Ÿï½¥å¼¾ä¸¸ï¼‰
    * **TextMesh**ï¼ˆæ–°/3Dãƒ†ã‚­ã‚¹ãƒˆï¼‰
    * **TubeTrailMesh**ï¼ˆæ–°/è§’æŸ±ï¼å¤šè§’å½¢æŸ±ï¼‰
    * **[PointMesh](https://docs.godotengine.org/ja/stable/classes/class_pointmesh.html?highlight=PointMesh)**

å®Ÿè¡Œç’°å¢ƒï¼šWindows 10ã€Godot 4.0 alpha 10  
ä½œæˆè€…ï¼šå¤¢å¯éƒ  
ä½œæˆæ—¥ï¼š2022å¹´02æœˆ28æ—¥  
æ›´æ–°æ—¥ï¼š2022å¹´07æœˆ01æ—¥ Godot 4.0 å¯¾å¿œ  
[[TOP]](#TOP)


<a id="220702"></a>
# <b>VRå…¥é–€</b>

1. [**Quest Linkï¼ˆOculus Linkï¼‰ã®æº–å‚™**](https://github.com/mubirou/Unity3D/tree/master/study-notes#oculus-link%E3%81%AE%E6%BA%96%E5%82%99) ã‚’è¡Œã†
1. [æ–°è¦ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆ]ï¼ˆãƒ¬ãƒ³ãƒ€ãƒ©ãƒ¼ï¼š**Forward+**ï¼‰ã‚’ä½œæˆ
1. [ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆ]-[ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆè¨­å®š]-[**XR**] ã®è¨­å®šï¼†å†èµ·å‹•  
    * [**OpenXR**]-[æœ‰åŠ¹]ï¼š**âœ“ã‚ªãƒ³**
    * [**ã‚·ã‚§ãƒ¼ãƒ€ãƒ¼**]-[æœ‰åŠ¹]ï¼š**âœ“ã‚ªãƒ³**
1. [ä¿å­˜ã—ã¦å†èµ·å‹•] ã™ã‚‹
1. [3Dã‚·ãƒ¼ãƒ³] ã‚’é¸æŠã—ã¦ã‚·ãƒ¼ãƒ³ã«ä»¥ä¸‹ã®ã‚ˆã†ã«ãƒãƒ¼ãƒ‰ã‚’è¿½åŠ   
    Mainï¼ˆ**Node3D**ï¼‰  
  ã€€  â”” **XROrigin3D**  
  ã€€ã€€  â”” **XRCamera3D**  

1. å¤§å…ƒã® Node3Dï¼ˆMainï¼‰ã‚’é¸æŠã—ä»¥ä¸‹ã®ã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚’ã‚¢ã‚¿ãƒƒãƒ  

    ```gdscript
    # res://Main.gd
    extends Node3D

    var _interface: XRInterface

    func _ready():
      _interface = XRServer.find_interface("OpenXR")
      if _interface and _interface.is_initialized():
        get_viewport().use_xr = true
    ```

å‚è€ƒï¼šC#ç‰ˆï¼ˆGodot 4.0 beta1 ã§å‹•ä½œã›ãšï¼‰
```csharp
// Main.cs
using Godot;

public partial class Main : Node3D {
    private OpenXRInterface _interface;
    
    public override void _Ready() {
        _interface = XRServer.FindInterface("OpenXR") as OpenXRInterface;
        if ((_interface != null) && _interface.IsInitialized()) {
            Window _viewport = GetViewport() as Window;
            _viewport.UseXr = true;
        }
        //GD.Print(_interface); //-> <OpenXRInterface#-9223372031871942494>
        //GD.Print(_interface.IsInitialized()); //-> False
        //GD.Print(GetViewport()); //-> <Window#24041750959>
        //GD.Print(GetViewport().UseXr); //-> False
    }
}
```

1. [å®Ÿè¡Œ] ã— **Quest** ä¸Šã§å‹•ä½œç¢ºèª  
ï¼ˆQuest ã§å®Ÿè¡Œã—ã¦ã‚‚çœŸã£æš—ãªçŠ¶æ…‹ï¼‰  

ãƒ‡ãƒ¢ãƒ•ã‚¡ã‚¤ãƒ«ï¼š[vr_start.zip](https://github.com/mubirou/Godot/blob/main/zip/vr_start.zip)  
å®Ÿè¡Œç’°å¢ƒï¼šWindows 11ã€Godot 4.1.2ã€Meta Quest 3ï¼ˆ57.0.0ï¼‰ã€Quest Linkã€Oculusã‚¢ãƒ—ãƒª  
ä½œæˆè€…ï¼šå¤¢å¯éƒ  
ä½œæˆæ—¥ï¼š2022å¹´07æœˆ02æ—¥  
æ›´æ–°æ—¥ï¼š2023å¹´10æœˆ12æ—¥ Quest 4.1.2 å¯¾å¿œ  
[[TOP]](#TOP)


<a id="220703"></a>
# <b>VRã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ©ãƒ¼ã®å…¥åŠ›ã‚¤ãƒ™ãƒ³ãƒˆ</b>

ğŸ“ ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ©ãƒ¼ã®è¦–è¦šåŒ–ï¼ˆä»Šå›ã¯å³ã®ã¿ï¼‰

1. [**VRå…¥é–€**](#220702) ã®ä½œæ¥­ã‚’è¡Œã†
1. [XROriginal] ã‚’é¸æŠã— [å­ãƒãƒ¼ãƒ‰ã‚’è¿½åŠ ]-[**XRController3D**] ã‚’é¸æŠ
1. åå‰ã‚’ [**XRController3D_Right**] ã«å¤‰æ›´
1. [**XRController3D_Right**]-[ã‚¤ãƒ³ã‚¹ãƒšã‚¯ã‚¿ãƒ¼] ã§æ¬¡ã®é€šã‚Šè¨­å®š  
    * [Tracker]ï¼š**right_hand**
    * [Pose]ï¼š**aim**
1. [**XRController3D_Right**] ã‚’é¸æŠã— [å­ãƒãƒ¼ãƒ‰ã‚’è¿½åŠ ]-[**MeshInstance3D**]-[ã‚¤ãƒ³ã‚¹ãƒšã‚¯ã‚¿ãƒ¼] ã§æ¬¡ã®é€šã‚Šã«è¨­å®šï¼ˆåå‰ã¯ "Controller" ã«å¤‰æ›´ï¼‰  
    * [**Mesh**]ï¼š[æ–°è¦ **SphereMesh**]-[ç·¨é›†]-[Material]-[æ–°è¦ **StandardMaterial3D**]-[ç·¨é›†]-[**Albedo**]-[**Color**]-[**#ff0000**]
    * [Transform]-[**Scale**]ï¼šx 0.07ã€y 0.07ã€z 0.07  
    ğŸ–Š ç›´å¾„7cmã®èµ¤è‰²ã®çƒä½“ã®ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ©ãƒ¼  

    Mainï¼ˆ**Node3D**ï¼‰  
    ã€€  â”” **XROrigin3D**  
    ã€€ã€€  â”œ **XRCamera3D**  
    ã€€ã€€  â”” **XRController3D**_Right  
    ã€€ã€€  ã€€ â”” Controllerï¼ˆå³ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ©ã®è¦–è¦šåŒ–ï¼‰  

ğŸ“ å…¥åŠ›ã‚¤ãƒ™ãƒ³ãƒˆã¨ã®æ¥ç¶š<a id="220703-1"></a>  

1. [**XRController3D_Right**] ã‚’é¸æŠã— [**ãƒãƒ¼ãƒ‰**] ã‚¿ãƒ–ã‚’é¸ã¶
1. [ãƒãƒ¼ãƒ‰]-[**XRcontroller3D**]-[**button_pressed(name:String)**] ã‚’é¸æŠã— [å³ã‚¯ãƒªãƒƒã‚¯]-[**æ¥ç¶š**]ï¼ˆä¸‹å›³ï¼‰  
![image](https://github.com/mubirou/Godot/blob/main/jpg/202207040006.jpg)  
1. [**ãƒ¡ã‚½ãƒƒãƒ‰ã«ã‚·ã‚°ãƒŠãƒ«ã‚’æ¥ç¶š**] ãƒ€ã‚¤ã‚¢ãƒ­ã‚°ãŒè¡¨ç¤ºã•ã‚ŒãŸã‚‰ [**æ¥ç¶š**] ãƒœã‚¿ãƒ³ã‚’é¸æŠï¼ˆä¸‹å›³ï¼‰  
![image](https://github.com/mubirou/Godot/blob/main/jpg/202207032357.jpg)  
ğŸ’¡ ä¸Šè¨˜ã®ä½œæ¥­ã®æ„å‘³  
[**XRController3D**_Right] ã® [**button_pressed(name:String)**] ã‚¤ãƒ™ãƒ³ãƒˆãŒ [**Main**] ãƒãƒ¼ãƒ‰ã«ã‚¢ã‚¿ãƒƒãƒã•ã‚ŒãŸã‚¹ã‚¯ãƒªãƒ—ãƒˆå†…ã«ç”Ÿæˆã•ã‚Œã‚‹ "**_on_xr_controller_3d_right_button_pressed**" ã¨ã„ã†åå‰ï¼ˆå¤‰æ›´å¯èƒ½ï¼‰ã®ãƒ¡ã‚½ãƒƒãƒ‰ï¼ˆã‚¤ãƒ™ãƒ³ãƒˆãƒãƒ³ãƒ‰ãƒ©ãƒ¼ï¼‰ã§å—ä¿¡ã•ã‚Œã‚‹  
1. [ãƒãƒ¼ãƒ‰] ã‚¿ãƒ–ã« **â†’] ../..:: _on_xr_controller_3d_right_button_pressed()** ãŒè¿½åŠ ã•ã‚Œï¼ˆä¸‹å›³ä¸Šï¼‰ã€[ã‚·ãƒ¼ãƒ³] ã® [**XRController3D**_Right] ã«ã‚‚ [æ¥ç¶šã‚¢ã‚¤ã‚³ãƒ³] ãŒè¿½åŠ ã•ã‚Œã‚‹ï¼ˆä¸‹å›³ä¸‹ï¼‰  
![image](https://github.com/mubirou/Godot/blob/main/jpg/202207040024.jpg)  
![image](https://github.com/mubirou/Godot/blob/main/jpg/202207040028.jpg)  
1. åŒæ§˜ã« [ãƒãƒ¼ãƒ‰]-[**XRcontroller3D**]-[**button_released(name:String)**] ã‚’é¸æŠã— [å³ã‚¯ãƒªãƒƒã‚¯]-[**æ¥ç¶š**] ã™ã‚‹  

ğŸ“ ã‚³ãƒ¼ãƒ‰ã®ç¢ºèªï¼†å¤‰æ›´  

1. å¤§å…ƒã® Mainï¼ˆNode3Dï¼‰ã«ã‚¢ã‚¿ãƒƒãƒã•ã‚ŒãŸã‚³ãƒ¼ãƒ‰ã‚’ç¢ºèªï¼†å¤‰æ›´  

    ```gdscript
    # res://Main.gd
    extends Node3D

    var _interface: XRInterface

    func _ready():
      _interface = XRServer.find_interface("OpenXR")
      if _interface and _interface.is_initialized():
        get_viewport().use_xr = true

    func _on_xr_controller_3d_right_button_pressed(name):
      print("Pressed: " + name)

    func _on_xr_controller_3d_right_button_released(name):
      print("Released: " + name)
    ```

1. å®Ÿè¡Œã™ã‚‹ã¨ VR ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ©ãƒ¼ã®å…¥åŠ›ã«å¿œã˜ã¦ä»¥ä¸‹ã®å€¤ï¼ˆStringå‹ï¼‰ãŒå‡ºåŠ›ã•ã‚Œã‚‹  

  |æˆ»ã‚Šå€¤|å†…å®¹|
  |:--|:--|
  |**ax_button**|AXã‚’æŠ¼ã—ãŸï½¥é›¢ã—ãŸ|
  |**ax_touch**|AXã«ã‚¿ãƒƒãƒ|
  |**by_button**|BYã‚’æŠ¼ã—ãŸï½¥é›¢ã—ãŸ|
  |**by_touch**|BYã«ã‚¿ãƒƒãƒ|
  |**grip_click**|ä¸­æŒ‡ãƒˆãƒªã‚¬ãƒ¼ã‚’æŠ¼ã—ãŸï½¥é›¢ã—ãŸ|
  |**menu_button**|MENUãƒœã‚¿ãƒ³ã‚’æŠ¼ã—ãŸï½¥é›¢ã—ãŸ|
  |**primary_click**|ã‚¢ãƒŠãƒ­ã‚°ã‚¹ãƒ†ã‚£ãƒƒã‚¯ã‚’æŠ¼ã—ãŸï½¥é›¢ã—ãŸ|
  |**primary_touch**|ã‚¢ãƒŠãƒ­ã‚°ã‚¹ãƒ†ã‚£ãƒƒã‚¯ã«ã‚¿ãƒƒãƒ|
  |**trigger_touch**|äººå·®ã—æŒ‡ãƒˆãƒªã‚¬ãƒ¼ã«ã‚¿ãƒƒãƒ|
  |**trigger_click**|äººå·®ã—æŒ‡ãƒˆãƒªã‚¬ãƒ¼ã‚’æŠ¼ã—ãŸï½¥é›¢ã—ãŸï¼ˆ[ãƒˆãƒªã‚¬ãƒ¼é‡](#220717) 0.5 ä»¥ä¸Šï¼‰|

ãƒ‡ãƒ¢ãƒ•ã‚¡ã‚¤ãƒ«ï¼š[vr_controller_events.zip](https://github.com/mubirou/Godot/blob/main/zip/vr_controller_events.zip)  
å®Ÿè¡Œç’°å¢ƒï¼šWindows 11ã€Godot 4.1.2ã€Meta Quest 3ï¼ˆ57.0.0ï¼‰ã€Quest Linkã€Oculusã‚¢ãƒ—ãƒª  
ä½œæˆè€…ï¼šå¤¢å¯éƒ  
ä½œæˆæ—¥ï¼š2022å¹´07æœˆ04æ—¥  
æ›´æ–°æ—¥ï¼š2023å¹´10æœˆ12æ—¥ Godot 4.1.2ã€Quest 3 ã§å‹•ä½œç¢ºèª  
[[TOP]](#TOP)


<a id="220704"></a>
# <b>ãƒ¬ãƒ¼ã‚¶ãƒ¼ãƒã‚¤ãƒ³ã‚¿ãƒ¼ï¼ˆRayCastï¼‰</b>

ğŸ“ **RayCast** ã®è¿½åŠ ï¼†è¦–è¦šåŒ–

1. [**VRã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ©ãƒ¼ã®å…¥åŠ›ã‚¤ãƒ™ãƒ³ãƒˆ**](#220703) ã®ä½œæ¥­ã‚’è¡Œã†ï¼ˆä¸‹å›³ï¼‰  
![image](https://github.com/mubirou/Godot/blob/main/jpg/202207041558.jpg)  
1. [**XRController3D_Right**] ã‚’é¸æŠã— [å­ãƒãƒ¼ãƒ‰ã‚’è¿½åŠ ]-[**RayCast3D**]-[ã‚¤ãƒ³ã‚¹ãƒšã‚¯ã‚¿ãƒ¼] ã§æ¬¡ã®é€šã‚Šã«è¨­å®š  
    * [**Target Position**]ï¼šx 0ã€y 0ã€**z -1000**
    * [**Transform**]-[**Scale**]ï¼š**x 0.5**ã€**y 0.5**ã€**z 0.5**  
1. [**XRController3D_Right**] ã‚’é¸æŠã— [å­ãƒãƒ¼ãƒ‰ã‚’è¿½åŠ ]-[**MeshInstance3D**]-[ã‚¤ãƒ³ã‚¹ãƒšã‚¯ã‚¿ãƒ¼] ã§æ¬¡ã®é€šã‚Šã«è¨­å®šï¼ˆåå‰ã¯ "RayLine" ã«å¤‰æ›´ï¼‰  
    * [**Mesh**]ï¼š[æ–°è¦ **BoxMesh**]-[ç·¨é›†]-[**Material**]-[æ–°è¦ **StandardMaterial3D**]-[ç·¨é›†] ã§æ¬¡ã®é€šã‚Šã«è¨­å®š  
        * [Transparency]-[**Transparency**]ï¼š**Alpha**
        * [**Albedo**]-[**Color**]ï¼š**#ff000080**ï¼ˆä¸é€æ˜åº¦50ï¼…ï¼‰
    * [Transform]-[**Position**]ï¼šx 0ã€y 0ã€**z -500**
    * [Transform]-[**Scale**]ï¼šx 0.01ã€y 0.01ã€**z 1000**  
    ğŸ–Š ä¸é€æ˜åº¦50ï¼…ã®èµ¤ã„ãƒ¬ãƒ¼ã‚¶ãƒ¼å…‰ç·š  

    Mainï¼ˆ**Node3D**ï¼‰  
    ã€€  â”” **XROrigin3D**  
    ã€€ã€€  â”œ **XRCamera3D**  
    ã€€ã€€  â”” **XRController3D**_Right  
    ã€€ã€€  ã€€ â”œ Controllerï¼ˆå³ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ©ã®è¦–è¦šåŒ–ï¼‰  
    ã€€ã€€  ã€€ â”œ **RayCast3D**  
    ã€€ã€€  ã€€ â”” RayLineï¼ˆRayCast3Dã®è¦–è¦šåŒ–ï¼‰  

ğŸ“ é¸æŠã™ã‚‹ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®ç”¨æ„  

  1. [ç«‹æ–¹ä½“](#220701)ãªã©ã‚’ç”¨æ„
  1. ç«‹æ–¹ä½“ã‚’é¸æŠã— [å­ãƒãƒ¼ãƒ‰ã‚’è¿½åŠ ]-[**StaticBody3D**]
  1. StaticBody3D ã‚’é¸æŠã— [å­ãƒãƒ¼ãƒ‰ã‚’è¿½åŠ ]-[**CollisionShape3D**]
  1. CollisionShape3D ã‚’é¸æŠã— [ã‚¤ãƒ³ã‚¹ãƒšã‚¯ã‚¿ãƒ¼]-[**Shape**]-[æ–°è¦ **BoxShape3D**] ã‚’é¸ã¶
  1. [Main] ã« [**DirectionalLight3D**] ã‚’è¿½åŠ ï¼ˆè¨­å®šã¯æ¬¡ã®é€šã‚Šï¼‰  
      * [**Shadow**]-[Enabled]ï¼š**âœ“ã‚ªãƒ³**
      * [**Transform**] ã‚’æ¬¡ã®é€šã‚Šã«è¨­å®š  
        * [**Position**]ï¼šx 0ã€**y 5**ã€z 0
        * [**Rotation**]ï¼š**x -55**ã€y 0ã€z 0  
  
  ã€€  â”œ MeshInstance3Dï¼ˆé¸æŠã™ã‚‹ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆï¼‰  
  ã€€  â”‚     â”” **StaticBody3D**  
  ã€€  â”‚ã€€ã€€   â”” **CollisionShape3D**ï¼ˆåå¿œã™ã‚‹é ˜åŸŸï¼‰  
  ã€€  â”” **DirecionalLight3D**  

ğŸ“ ãƒ’ãƒƒãƒˆãƒã‚¤ãƒ³ãƒˆã®è¦–è¦šåŒ–

  1. [**XRController3D_Right**] ã‚’é¸æŠã— [å­ãƒãƒ¼ãƒ‰ã‚’è¿½åŠ ]-[**MeshInstance3D**]-[ã‚¤ãƒ³ã‚¹ãƒšã‚¯ã‚¿ãƒ¼] ã§æ¬¡ã®é€šã‚Šã«è¨­å®šï¼ˆåå‰ã¯ "HitPoint" ã«å¤‰æ›´ï¼‰  
      * [**Mesh**]ï¼š[æ–°è¦ **SphereMesh**]-[ç·¨é›†]-[**Material**]-[æ–°è¦ **StandardMaterial3D**]-[ç·¨é›†] ã§æ¬¡ã®é€šã‚Šã«è¨­å®š  
        * [**Transparency**]-[**Transparency**]ï¼š**Alpha**
        * [**Albedo**]ï¼š[**Color**]-[**#ff0000cc**]
      * [**Transform**] ã‚’æ¬¡ã®é€šã‚Šã«è¨­å®š
        * [**Position**]ï¼šx 0ã€y 0ã€**z -0.5**  
        * [**Scale**]ï¼šx 0.04ã€y 0.04ã€z 0.04  
      ğŸ–Š ç›´å¾„2cmã®èµ¤è‰²ï¼ˆä¸é€æ˜åº¦80ï¼…ï¼‰ã®çƒä½“  

      ***
      Mainï¼ˆ[**Node3D**](https://docs.godotengine.org/en/latest/classes/class_node3d.html?highlight=Node3D#node3d)ï¼‰  
    ã€€  â”œ [**XROrigin3D**](https://docs.godotengine.org/en/latest/classes/class_xrorigin3d.html?highlight=XROrigin3D#xrorigin3d)  
    ã€€  â”‚   â”œ [**XRCamera3D**](https://docs.godotengine.org/en/latest/classes/class_xrcamera3d.html?highlight=XRCamera3D#xrcamera3d)  
    ã€€  â”‚   â”” [**XRController3D**](https://docs.godotengine.org/en/latest/classes/class_xrcontroller3d.html?highlight=XRController3D#xrcontroller3d)_Right  
    ã€€  â”‚ã€€ã€€ã€€ â”œ Controllerï¼ˆã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ©ã®è¦–è¦šåŒ–ï¼‰  
    ã€€  â”‚ã€€ã€€ã€€ â”œ [**RayCast3D**](https://docs.godotengine.org/en/latest/classes/class_raycast3d.html?highlight=RayCast3D#raycast3d)  
    ã€€  â”‚ã€€ã€€ã€€ â”œ RayLineï¼ˆRayCast3Dã®è¦–è¦šåŒ–ï¼‰  
    ã€€  â”‚ã€€ã€€ã€€ â”” HitPointï¼ˆãƒ’ãƒƒãƒˆãƒã‚¤ãƒ³ãƒˆã®å¯è¦–åŒ–ï¼‰  
    ã€€  â”œ MeshInstance3Dï¼ˆé¸æŠã™ã‚‹ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆï¼‰  
    ã€€  â”‚   â”” [**StaticBody3D**](https://docs.godotengine.org/en/latest/classes/class_staticbody3d.html?highlight=StaticBody3D#staticbody3d)  
    ã€€  â”‚ã€€ã€€ã€€ â”” [**CollisionShape3D**](https://docs.godotengine.org/en/latest/classes/class_collisionshape3d.html?highlight=CollisionShape3D#collisionshape3d)ï¼ˆåå¿œã™ã‚‹é ˜åŸŸï¼‰  
    ã€€  â”” **DirecionalLight3D**  
        ***

ğŸ“ ã‚³ãƒ¼ãƒ‰ã®è¨˜è¿° <a id="code220704">  
å¤§å…ƒã® Mainï¼ˆNode3Dï¼‰ã«ã‚¢ã‚¿ãƒƒãƒã•ã‚ŒãŸã‚³ãƒ¼ãƒ‰ã‚’ç¢ºèªï¼†å¤‰æ›´  

  ```gdscript
  # res://main.gd
  extends Node3D

  var _interface : XRInterface
  var _controller_R
  var _rayCast_R
  var _rayLine_R
  var _hitPoint_R
  var _selectCollider

  func _ready():
    _interface = XRServer.find_interface("OpenXR")
    if _interface and _interface.is_initialized():
      get_viewport().use_xr = true
    _controller_R = get_node("XROrigin3D/XRController3D_Right")
    _rayCast_R = _controller_R.get_node("RayCast3D")
    _rayLine_R = _controller_R.get_node("RayLine")
    _hitPoint_R = _controller_R.get_node("HitPoint")
    _hitPoint_R.visible = false

  func _on_xr_controller_3d_right_button_pressed(name):
    if name == "trigger_click":
      _selectCollider = _rayCast_R.get_collider()

  func _on_xr_controller_3d_right_button_released(name):
    if name == "trigger_click":
      if _rayCast_R.get_collider() == null: return
      if _rayCast_R.get_collider() == _selectCollider:
        print(_selectCollider.get_parent().name)

  func _physics_process(delta):
    if _rayCast_R.is_colliding():
      _hitPoint_R.visible = true
      _hitPoint_R.global_transform.origin = _rayCast_R.get_collision_point()
      var _dis = (_rayCast_R.global_transform.origin - _hitPoint_R.global_transform.origin).length()
      _rayLine_R.scale.z = _dis
      _rayLine_R.position.z = -_dis / 2
    else:
      _rayLine_R.scale.z = 1000
      _rayLine_R.position.z = -500
      _hitPoint_R.visible = false
  ```

ãƒ‡ãƒ¢ãƒ•ã‚¡ã‚¤ãƒ«ï¼š[RayCast.zip](https://github.com/mubirou/Godot/blob/main/zip/RayCast.zip)  
å‚è€ƒï¼š[RayCastã‹ã‚‰ã®é™¤å¤–](#220707)  
å‚è€ƒï¼š[ãƒœã‚¿ãƒ³](#220716)  
å®Ÿè¡Œç’°å¢ƒï¼šWindows 11ã€Godot 4.1.2ã€Meta Quest 3ï¼ˆ57.0.0ï¼‰ã€Quest Linkã€Oculusã‚¢ãƒ—ãƒª  
ä½œæˆè€…ï¼šå¤¢å¯éƒ  
ä½œæˆæ—¥ï¼š2022å¹´07æœˆ04æ—¥  
æ›´æ–°æ—¥ï¼š2023å¹´10æœˆ12æ—¥ Godot 4.1.2ã€Quest 3 ã§å‹•ä½œç¢ºèª  
[[TOP]](#TOP)


<a id="220705"></a>
# <b>åºŠã‚¿ã‚¤ãƒ«ï¼ˆã‚¿ã‚¤ãƒªãƒ³ã‚°ï¼‰</b>

ğŸ“ **åºŠã«ã‚¿ã‚¤ãƒ«ã‚’è²¼ã‚‹å ´åˆ**  
ï¼ˆ10x10m ã« 1x1m ã®ã‚¿ã‚¤ãƒ«ã‚’æ•·ãè©°ã‚ã‚‹ï¼‰  

1. ã‚¿ã‚¤ãƒ«ï¼ˆ400x400pxï¼‰ã®ã‚¿ã‚¤ãƒ«ï¼ˆ1må››æ–¹ï¼‰ç”¨ã®ç”»åƒã‚’ä½œæˆï¼ˆä¾‹ï¼š[tile.png](https://github.com/mubirou/Godot/blob/main/png/tile.png)ï¼‰
1. å¤§å…ƒã® **Node3D** ã« [**MeshInstance3D**] ã‚’è¿½åŠ 
1. åå‰ã‚’ "MeshInstance3D" â†’ "Floor" ã«å¤‰æ›´
1. [ã‚¤ãƒ³ã‚¹ãƒšã‚¯ã‚¿ãƒ¼]-[Mesh]-[æ–°è¦ **PlaneMesh**]-[ç·¨é›†] ã§ä»¥ä¸‹ã®é€šã‚Šè¨­å®š  
    * [**Size**]ï¼š**x 1**ã€**y 1**
1. [ã‚¤ãƒ³ã‚¹ãƒšã‚¯ã‚¿ãƒ¼]-[Tranform]-[**Scale**] ã‚’æ¬¡ã®é€šã‚Šè¨­å®š  
    * **x**ï¼š**10**ã€y 1ã€**z**ï¼š**10**ï¼ˆ**10m**å››æ–¹ã®åºŠã®å ´åˆï¼‰
1. [ã‚¤ãƒ³ã‚¹ãƒšã‚¯ã‚¿ãƒ¼]-[**Surface Material Override**]-[æ–°è¦ **StandardMaterial3D**]-[ç·¨é›†] ã§ä»¥ä¸‹ã®é€šã‚Šè¨­å®š  
    * [**Albedo**] ã§æ¬¡ã®é€šã‚Šè¨­å®š  
      * [**Color**]ï¼š#ffffffï¼ˆä»»æ„ï¼‰
      * [**Texture**]ï¼š[tile.png](https://github.com/mubirou/Godot/blob/main/png/tile.png)
    * [**UV1**]-[**Scale**]ï¼š**x 10**ã€**y 10**ã€z 1
1. å¤§å…ƒã® **Node3D** ã« [**DirectionalLight3D**] ã‚’è¿½åŠ ï¼ˆè¨­å®šã¯æ¬¡ã®é€šã‚Šï¼‰  
    * [**Light**]-[**Energy**]ï¼š**0.75**ï¼ˆä»»æ„ï¼‰
    * [**Shadow**]-[Enabled]ï¼š**âœ“ã‚ªãƒ³**ï¼ˆã‚ªãƒ—ã‚·ãƒ§ãƒ³ï¼‰
    * [**Transform**] ã‚’æ¬¡ã®é€šã‚Šã«è¨­å®š  
      * [**Position**]ï¼šx 0ã€**y 5**ã€z 0
      * [**Rotation**]ï¼š**x -55**ã€y 0ã€z 0  

ğŸ“ **å¤©äº•ã«ã‚¿ã‚¤ãƒ«ã‚’è²¼ã‚‹å ´åˆ**  
ğŸ’¡ã€ŒPaneMeshã€ã¯è£ã¯é€æ˜ã«ãªã‚‹ã€ŒCubeMeshã€ã¯è£ã¯æš—ããªã‚‹ã€ã¨ã„ã†å•é¡Œã‚’å›é¿ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™
1. ä¸Šè¨˜ã§ä½œæˆã—ãŸ "Floor" ã‚’ã‚³ãƒ”ãƒ¼ï¼†ãƒšãƒ¼ã‚¹ãƒˆ  
1. åå‰ã‚’ "Floor" â†’ "Ceilingï¼ˆå¤©äº•ï¼‰" ã«å¤‰æ›´
1. [Ceiling]-[ã‚¤ãƒ³ã‚¹ãƒšã‚¯ã‚¿ãƒ¼]-[**Transform**] ã‚’ä»¥ä¸‹ã®é€šã‚Šå¤‰æ›´  
    * [**Position**]ï¼šx 0ã€**y 2.35**ã€z 0
    * [**Rotation**]ï¼š**x 180**ã€y 0ã€z 0
1. å¼•ç¶šã [ã‚¤ãƒ³ã‚¹ãƒšã‚¯ã‚¿ãƒ¼]-[**Surface Material Override**]-[**ãƒ¦ãƒ‹ãƒ¼ã‚¯åŒ–**]  
1. å¼•ç¶šã [ã‚¤ãƒ³ã‚¹ãƒšã‚¯ã‚¿ãƒ¼]-[**Surface Material Override**]-[ç·¨é›†]  
    * [**Shading**]-[**Shading Mode**]ï¼š**Unshaded**
    * [**Albedo**]-[**Color**]ï¼š**#ffffff**ï¼ˆèª¿æ•´ï¼‰

å®Ÿè¡Œç’°å¢ƒï¼šWindows 10ã€Godot 4.0 alpha 11ã€Meta Quest 41.0ã€Quest Linkã€Oculusã‚¢ãƒ—ãƒª  
ä½œæˆè€…ï¼šå¤¢å¯éƒ  
ä½œæˆæ—¥ï¼š2022å¹´05æœˆ28æ—¥  
æ›´æ–°æ—¥ï¼š2022å¹´07æœˆ09æ—¥ Godot 4.0 å¯¾å¿œ  
[[TOP]](#TOP)


<a id="220706"></a>
# <b>ãƒ†ãƒ¬ãƒãƒ¼ãƒˆç§»å‹•</b>

ğŸ“ [**VRã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ©ãƒ¼ã®å…¥åŠ›ã‚¤ãƒ™ãƒ³ãƒˆ**](https://github.com/mubirou/Godot#vr%E3%82%B3%E3%83%B3%E3%83%88%E3%83%AD%E3%83%BC%E3%83%A9%E3%83%BC%E3%81%AE%E5%85%A5%E5%8A%9B%E3%82%A4%E3%83%99%E3%83%B3%E3%83%88) ã¨åŒæ§˜ã«å·¦ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ©ãƒ¼ã‚’è¨­å®š  

[**XRController3D_Left**]-[ã‚¤ãƒ³ã‚¹ãƒšã‚¯ã‚¿ãƒ¼]-[**Transform**]-[**Position**] ã§ **y 1** ã«è¨­å®š  

ï¼ˆã“ã‚Œã¾ã§ã®ä½œæ¥­ã®éšå±¤ï¼‰  
  Mainï¼ˆ**Node3D**ï¼‰  
  ã€€  â”” **XROrigin3D**  
  ã€€ã€€  â”œ **XRCamera3D**  
  ã€€ã€€  â”” **XRController3D**_Left  
  ã€€ã€€  ã€€ â”” Controllerï¼ˆå·¦ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ©ã®è¦–è¦šåŒ–ï¼‰  

ğŸ“ **ãƒ†ãƒ¬ãƒãƒ¼ãƒˆç·šã®ä½œæˆ**  

1. [**XRController3D_Left**] ã‚’é¸æŠã— [å­ãƒãƒ¼ãƒ‰ã‚’è¿½åŠ ]-[**CharacterBody3D**] ã‚’é¸æŠ
1. åå‰ã‚’ "CharacterBody3D" â†’ "**Function_Teleport**" ã«å¤‰æ›´
1. [**Function_Teleport**] ã‚’é¸æŠã— [å­ãƒãƒ¼ãƒ‰ã‚’è¿½åŠ ]-[**MeshInstance3D**] ã‚’é¸æŠ
1. åå‰ã‚’ "MeshInstance3D" â†’ "**Teleport**" ã«å¤‰æ›´
1. [**Teleport**]-[ã‚¤ãƒ³ã‚¹ãƒšã‚¯ã‚¿ãƒ¼] ã§å„ç¨®è¨­å®š  
    * [**Mesh**]-[æ–°è¦ **PlaneMesh**]-[ç·¨é›†]  
      * [**Size**]ï¼š**x 0.05**ã€**y 1**
      * [**Subdivide Depth**]ï¼š**40**
    * [**Surface Material Override**]-[æ–°è¦ **ShaderMaterial**]-[ç·¨é›†]
        * [Shader]-[**New Shader**]  
          * å‹ï¼šShader
          * Modeï¼šSpatial
          * ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆï¼šEmpty
          * Built-in Shaderï¼šã‚ªãƒ•
          * ãƒ‘ã‚¹ï¼šres//**teleport**.gdshader  
        ï¼ˆä»¥ä¸‹ã®é€šã‚Šè¨˜è¿°ï¼‰  
        ```c
        shader_type spatial;
        render_mode unshaded, cull_disabled, skip_vertex_transform;

        uniform float scale_t = 0.2;
        uniform float length = 20.0;
        uniform float ws = 1.0;
        uniform vec4 mix_color : source_color;
        uniform sampler2D arrow_texture : hint_default_white;

        void vertex() {
          vec3 down = vec3(0.0, -1.0 / ws, 0.0);
          
          // offset our Z so we're projecting from our origin point
          VERTEX.z -= 0.5;
          VERTEX.z *= length;
          
          // now use that to create our arch
          float t = VERTEX.z * scale_t;
          float t2 = t * t;

          // translate to our world vector
          VERTEX = (MODEL_MATRIX * vec4(VERTEX, 1.0)).xyz; 
          
          // and now create our arch
          VERTEX += down * t2;
          
          // and apply our view matrix
          VERTEX = (VIEW_MATRIX * vec4(VERTEX, 1.0)).xyz;
        }

        void fragment() {
          // and do our color
          float offset =  (TIME * 2.0); // çŸ¢å°ã®é€Ÿåº¦
          vec4 col = texture(arrow_texture, vec2(UV.x, (UV.y * length * 4.0) + offset )).rgba;
          ALBEDO = col.rgb * mix_color.rgb;
          
          // need to fix up our image and add an alpha channel
          ALPHA = col.a;
        }
        ```
        ï½ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ©ãƒ¼ã‹ã‚‰é»’ã„æ›²ç·šãŒè¡¨ç¤ºã•ã‚Œã‚‹ï½ 
      *  [**Shader Param**]  
          * **Arrow Texture**ï¼š[**teleport_arrow.png**](https://github.com/BastiaanOlij/godot4_openxr_demo/blob/master/addons/godot-xr-tools/images/teleport_arrow.png)  
          * **Length**ï¼š**30**  
          * **Mix Color**ï¼š**#0000ff**ï¼ˆã‚¢ãƒ«ãƒ•ã‚¡å€¤ã¯ç„¡åŠ¹ï¼‰  
          * **Scale T**ï¼š**0.2**  
          * **Ws**ï¼š**1**  
          ï½ãƒ†ãƒ¬ãƒãƒ¼ãƒˆç”¨ã®é’ã„çŸ¢å°ãŒå‹•ãã ã™ï½  
          ï¼ˆ"Function_Teleport" ã«ã¯ âš  ãŒã¤ã„ãŸã¾ã¾ï¼‰  

<a id="220706_yuka"></a>
ğŸ“ [**åºŠã®ä½œæˆ**](#220705)  

1. ä¸Šè¨˜ã®åºŠï¼ˆ**MeshInstance3D** / **PlaneMesh**ï¼‰ã« [**StaticBody3D**](https://docs.godotengine.org/en/latest/classes/class_staticbody3d.html?highlight=StaticBody3D#staticbody3d) ã‚’åŠ ãˆã‚‹ 
1. æ›´ã« [**StaticBody3D**] ã« [**CollisionShape3D**](https://docs.godotengine.org/en/latest/classes/class_collisionshape3d.html?highlight=CollisionShape3D#collisionshape3d) ã‚’åŠ ãˆã‚‹ï¼ˆè¨­å®šã¯ä»¥ä¸‹ã®é€šã‚Šï¼‰  
    * [**Shape**]ï¼š**BoxShape3D**ï¼ˆSizeï¼šx 1ã€**y 0.1**ã€z 1ï¼‰
    * [**Transform**] ã®è¨­å®š
      * [**Position**]ï¼šx 0ã€**y -0.05**ã€z 0
      * [**Scale**]ï¼šx 1ã€y 1ã€z 1  

ï¼ˆã“ã‚Œã¾ã§ã®ä½œæ¥­ã®éšå±¤ï¼‰  
Mainï¼ˆNode3Dï¼‰  
ã€€ â”œ XROrigin3D  
ã€€ â”‚ â”œ XRCamera3D  
ã€€ â”‚ â”” XRController3D_Left  
ã€€ â”‚ã€€ã€€â”œ Controller  
ã€€ â”‚ã€€ã€€â”” Function_Teleport  
ã€€ â”‚ã€€ã€€ã€€ã€€â”” Teleport  
ã€€ â”œ Floor  
ã€€ â”‚ â”” **StaticBody3D**  
ã€€ â”‚ã€€ã€€â”” **CollisionShape3D**  
ã€€ â”” DirecionalLight3D  

ğŸ“ **ã‚¿ãƒ¼ã‚²ãƒƒãƒˆã®ä½œæˆ**  

1. [**Function_Teleport**] ã‚’é¸æŠã— [å­ãƒãƒ¼ãƒ‰ã‚’è¿½åŠ ]-[**MeshInstance3D**] ã‚’é¸æŠ
1. åå‰ã‚’ "MeshInstance3D" â†’ "**Target**" ã«å¤‰æ›´
1. [**Target**]-[ã‚¤ãƒ³ã‚¹ãƒšã‚¯ã‚¿ãƒ¼] ã§å„ç¨®è¨­å®š  
    * [**Mesh**]-[æ–°è¦ **PlaneMesh**]-[ç·¨é›†]  
      * [**Size**]ï¼š**x 1**ã€**y 1**  
    * [**Surface Material Override**]-[æ–°è¦ **StandardMaterial3D**]-[ç·¨é›†]  
      * [**Transparencey**]-[Transparency]ï¼š**Alpha**
      * [**Albedo**] ã§å„ç¨®è¨­å®š  
        * [**Color**]ï¼š**#0000ff**ï¼ˆã‚¢ãƒ«ãƒ•ã‚¡å€¤ã¯ç„¡åŠ¹ï¼‰  
        * [**Texture**]ï¼š[**teleport_target_foot.png**](https://github.com/mubirou/Godot/blob/main/png/teleport_target_foot.png)
    * [**Transform**] ã§å„ç¨®è¨­å®š  
      * [**Position**]ï¼šx 0ã€**yï¼š-1**ã€**zï¼š-5**
      * [**Scale**]ï¼š**x 0.5**ã€**y 0.5**ã€**z 0.5**
1. [**Function_Teleport**] ã‚’é¸æŠã— [å­ãƒãƒ¼ãƒ‰ã‚’è¿½åŠ ]-[**CollisionShape3D**] ã‚’é¸æŠ
1. [**CollisionShape3D**]-[ã‚¤ãƒ³ã‚¹ãƒšã‚¯ã‚¿ãƒ¼] ã§å„ç¨®è¨­å®š  
    * [**Shape**]-[æ–°è¦ **CapseleShape3D**]-[ç·¨é›†]  
      * [**Radius**]ï¼š**0.05**
      * [**Height**]ï¼š**0.1**

ï¼ˆã“ã‚Œã¾ã§ã®ä½œæ¥­ã®éšå±¤ï¼‰  
Mainï¼ˆ**Node3D**ï¼‰  
ã€€ â”œ **XROrigin3D**  
ã€€ â”‚ â”œ **XRCamera3D**  
ã€€ â”‚ â”” **XRController3D**_Left  
ã€€ â”‚ã€€ã€€â”œ Controllerï¼ˆå·¦ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ©ã®è¦–è¦šåŒ–ï¼‰  
ã€€ â”‚ã€€ã€€â”” **Function_Teleport**ï¼ˆ**CharacterBody3D**ï¼‰  
ã€€ â”‚ã€€ã€€ã€€ã€€â”œ **Teleport**ï¼ˆ**PlaneMesh**ï¼‰  
ã€€ â”‚ã€€ã€€ã€€ã€€â”œ **Target**ï¼ˆ**PlaneMesh**ï¼‰  
ã€€ â”‚ã€€ã€€ã€€ã€€â”” **CollisionShape3D**ï¼ˆ**CapsuleShape3D**ï¼‰  
ã€€ â”œ Floorï¼ˆ**PlaneMesh**ï¼‰  
ã€€ â”‚ â”” **StaticBody3D**  
ã€€ â”‚ã€€ã€€â”” **CollisionShape3D**  
ã€€ â”” DirecionalLight3D  

ğŸ“ **ã‚¹ã‚¯ãƒªãƒ—ãƒˆã®ã‚¢ã‚¿ãƒƒãƒ**  

1. [**Function_Teleport**] ã‚’é¸æŠã—ã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚’ã‚¢ã‚¿ãƒƒãƒï¼ˆåå‰ã¯ **Function_Teleport.gd**ï¼‰
1. **Function_Teleport.gd** ã®å†…å®¹ã‚’ Godot 4 ç”¨ã® [**Function_Teleport.gd**](https://github.com/BastiaanOlij/godot4_openxr_demo/blob/master/addons/godot-xr-tools/functions/Function_Teleport.gd) ã«æ›¸ãæ›ãˆã‚‹ï¼ˆæœ€æ–°ç‰ˆ [Godot XR Tools](https://godotengine.org/asset-library/asset/214) ã¯è¦æ¤œè¨¼ï¼‰  
1. [å®Ÿè¡Œ] æ™‚ã«ã‚¨ãƒ©ãƒ¼ãŒå‡ºã‚‹ç®‡æ‰€ã‚’ã‚³ãƒ¡ãƒ³ãƒˆã‚¢ã‚¦ãƒˆã™ã‚‹  

```gdscript
 96è¡Œç›® #$Target/Player_figure.scale = Vector3(ws, ws, ws)
```

1. [ãƒˆãƒªã‚¬ãƒ¼] ã§ãƒ†ãƒ¬ãƒãƒ¼ãƒˆã‚’è¡¨ç¤ºå†ç”Ÿæ™‚ã«ã‚¨ãƒ©ãƒ¼ãŒå‡ºã‚‹ç®‡æ‰€ã‚’ã‚³ãƒ¡ãƒ³ãƒˆã‚¢ã‚¦ãƒˆã™ã‚‹  

```gdscript
247è¡Œç›® #$Teleport.get_surface_override_material(0).set_shader_param("scale_t", 1.0 / strength)
248è¡Œç›® #$Teleport.get_surface_override_material(0).set_shader_param("ws", ws)
249è¡Œç›® #$Teleport.get_surface_override_material(0).set_shader_param("length", cast_length)

276è¡Œç›® #$Teleport.get_surface_override_material(0).set_shader_param("mix_color", color)
282è¡Œç›® #$Teleport.get_surface_override_material(0).set_shader_param("mix_color", no_collision_color)
```

ğŸ“ **ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚º**ï¼ˆ4.0 alpha 14 æœªæ¤œè¨¼ï¼‰  

* **ãƒ†ãƒ¬ãƒãƒ¼ãƒˆã®è‰²ã®å¤‰æ›´**
    * [ã‚·ãƒ¼ãƒ³] ã® [**Function_Teleport**]-[ã‚¤ãƒ³ã‚¹ãƒšã‚¯ã‚¿ãƒ¼] ã§è¨­å®š
      * [**Can Teleport Color**]ï¼š#0000ff  
      * [**Cant Teleport Color**]ï¼š#0000ff
      * [**No Collision Color**]ï¼š#0000ff
* **ãƒ†ãƒ¬ãƒãƒ¼ãƒˆã®çŸ¢å°ã®é€Ÿåº¦ã‚’ä¸€å®šã«ã™ã‚‹**  
  **Function_Teleport.gd** ã‚’ä»¥ä¸‹ã®é€šã‚Šã‚³ãƒ¡ãƒ³ãƒˆã‚¢ã‚¦ãƒˆ  
```gdscript
249è¡Œç›® #$Teleport.get_surface_override_material(0).set_shader_param("length", cast_length)
```
* **ãƒ†ãƒ¬ãƒãƒ¼ãƒˆä¸å¯ã®å ´åˆã¯åŠé€æ˜ã«ã™ã‚‹**  
  1. [ã‚¢ãƒ«ãƒ•ã‚¡å€¤ 80 ã®çŸ¢å°](https://github.com/mubirou/Godot/blob/main/png/teleport_arrow_80.png) ã‚’ç”¨æ„
  1. [ã‚¢ãƒ«ãƒ•ã‚¡å€¤ 10 ã®çŸ¢å°](https://github.com/mubirou/Godot/blob/main/png/teleport_arrow_10.png) ã‚’ç”¨æ„
  1. [ã‚·ãƒ¼ãƒ³] ã® [**Function_Teleport**]-[**Teleport**]-[ã‚¤ãƒ³ã‚¹ãƒšã‚¯ã‚¿ãƒ¼]-[**Surface Material Override**]-[ç·¨é›†]-[**Arrow Texture**]-[ç·¨é›†]-[**Load Path**]-[ğŸ“] ã‚’é–‹ã
  1. **res://.godot/imported/teleport_arrow_80.png-ã€‡ã€‡.ctex** ã¨ **res://.godot/imported/teleport_arrow_10.png-ã€‡ã€‡.ctex** ã‚’ã‚³ãƒ”ãƒ¼ï¼ˆä»¥ä¸‹ã®ã‚³ãƒ¼ãƒ‰ã§åˆ©ç”¨ï¼‰
  1. **Function_Teleport.gd** ã‚’ä»¥ä¸‹ã®é€šã‚Šè¿½åŠ   
```gdscript
276è¡Œç›®ä»˜è¿‘ var _path = "res://.godot/imported/teleport_arrow_80.png-ã€‡ã€‡.ctex"
277è¡Œç›®ä»˜è¿‘ $Teleport.get_surface_override_material(0).get_shader_param("arrow_texture").load_path = _path
...
284è¡Œç›®ä»˜è¿‘ var _path = "res://.godot/imported/teleport_arrow_10.png-ã€‡ã€‡.ctex"
285è¡Œç›®ä»˜è¿‘ $Teleport.get_surface_override_material(0).get_shader_param("arrow_texture").load_path = _path
```

* **ã‚¿ãƒ¼ã‚²ãƒƒãƒˆå‘¨è¾ºã‚’ã‚«ãƒ—ã‚»ãƒ«ã§å›²ã‚€**  
  [ã‚·ãƒ¼ãƒ³] ã® [**Function_Teleport**]-[**Target**] ã‚’é¸æŠã— [å­ãƒãƒ¼ãƒ‰ã‚’è¿½åŠ ]-[**MeshInstace3D**]-[ã‚¤ãƒ³ã‚¹ãƒšã‚¯ã‚¿ãƒ¼] ã§æ¬¡ã®é€šã‚Šè¨­å®š  
    * [**Mesh**]-[æ–°è¦ **SphereMesh**]
    * [**Surface Material Override**]-[æ–°è¦ **StandardMaterial3D**]-[ç·¨é›†] ã§æ¬¡ã®é€šã‚Šè¨­å®š  
      * [**Transparency**]-[Transparency]ï¼š**Alpha**
      * [**Albedo**]-[**Color**]ï¼š**#0000ff80**ï¼ˆ50ï¼…ã®é’ï¼‰  

* **ç‰¹å®šã®åºŠã®ã¿ã«ãƒ†ãƒ¬ãƒãƒ¼ãƒˆã§ãã‚‹ã‚ˆã†ã«ã™ã‚‹**  

    **Function_Teleport.gd** 229è¡Œç›®ä»˜è¿‘  
    ï¼ˆå¤‰æ›´å‰ï¼‰  
    ```gdscript
    if dot > max_slope_cos:
      is_on_floor = true
    else:
    ```
    ï¼ˆå¤‰æ›´å¾Œï¼‰  
    ```gdscript
    if dot > max_slope_cos:
      if intersects.collider == $/root/Main/Floor/StaticBody3D: 
        is_on_floor = true
      else:
        is_on_floor = false
    else:
    ```

ãƒ‡ãƒ¢ãƒ•ã‚¡ã‚¤ãƒ«ï¼š[teleport.zip](https://github.com/mubirou/Godot/blob/main/zip/teleport.zip)  
å‚è€ƒï¼š[Godot 4 OpenXR demo project](https://github.com/BastiaanOlij/godot4_openxr_demo)  
å®Ÿè¡Œç’°å¢ƒï¼šWindows 10ã€Godot 4.0 beta 1ã€[Godot XR Tools](https://github.com/BastiaanOlij/godot4_openxr_demo/blob/master/addons/godot-xr-tools/functions/Function_Teleport.gd)ã€Meta Quest 43.0ã€Quest Linkã€Oculusã‚¢ãƒ—ãƒª  
ä½œæˆè€…ï¼šå¤¢å¯éƒ  
ä½œæˆæ—¥ï¼š2022å¹´07æœˆ09æ—¥  
æ›´æ–°æ—¥ï¼š2022å¹´09æœˆ12æ—¥ ãƒ‡ãƒ¢ãƒ•ã‚¡ã‚¤ãƒ«ã® Godot 4.0 beta 1 å¯¾å¿œ  
[[TOP]](#TOP)


<a id="220707"></a>
# <b>RayCastã‹ã‚‰ã®é™¤å¤–</b>

[**RayCast3D.add_exception()**](https://docs.godotengine.org/en/latest/classes/class_raycast3d.html?highlight=RayCast#class-raycast3d-method-add-exception) ã‚’ä½¿ã£
ã¦ [**RayCast3D**](https://docs.godotengine.org/en/latest/classes/class_raycast3d.html?highlight=RayCast3D#raycast3d) ãŒè¡çªã‚’å ±å‘Šã—ãªã„ã‚ˆã†ã«è¡çªä¾‹å¤–ã‚’è¿½åŠ ã—ã¾ã™  

1. [**ãƒ¬ãƒ¼ã‚¶ãƒ¼ãƒã‚¤ãƒ³ã‚¿ãƒ¼ï¼ˆRayCastï¼‰**](#220704) ã®ä½œæ¥­ã‚’è¡Œã†  
2. [**åºŠã®ä½œæˆ**](#220705) ã‚’è¡Œã†ï¼ˆ[å‚ç…§](#220706_yuka)ï¼‰  

ï¼ˆã“ã‚Œã¾ã§ã®ä½œæ¥­ã®éšå±¤ï¼‰  
Mainï¼ˆNode3Dï¼‰  
ã€€ â”œ XROrigin3D  
ã€€ â”‚ â”œ XRCamera3D  
ã€€ â”‚ â”” XRController3D_Right  
ã€€ â”‚ã€€ã€€ã€€ â”œ Controllerï¼ˆã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ©ã®è¦–è¦šåŒ–ï¼‰  
ã€€ â”‚ã€€ã€€ã€€ â”œ **RayCast3D**  
ã€€ â”‚ã€€ã€€ã€€ â”œ RayLineï¼ˆRayCast3Dã®è¦–è¦šåŒ–ï¼‰  
ã€€ â”‚ã€€ã€€ã€€ â”” HitPointï¼ˆãƒ’ãƒƒãƒˆãƒã‚¤ãƒ³ãƒˆã®å¯è¦–åŒ–ï¼‰  
ã€€ â”œ MeshInstance3Dï¼ˆé¸æŠã™ã‚‹ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆï¼‰  
ã€€ â”‚ â”” StaticBody3D  
ã€€ â”‚ã€€ã€€ã€€ â”” CollisionShape3Dï¼ˆåå¿œã™ã‚‹é ˜åŸŸï¼‰  
ã€€ â”œ **Floor**ï¼ˆåå¿œã•ã›ãŸããªã„ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆï¼‰  
ã€€ â”‚ â”” **StaticBody3D**  
ã€€ â”‚ã€€ã€€â”” CollisionShape3D  
ã€€ â”” DirecionalLight3D  

3. [**ã‚³ãƒ¼ãƒ‰**](#code220704)ã®å¤‰æ›´ï¼ˆè¿½åŠ ï¼‰  

```gdscript
...
func _ready():
  ...
  _rayCast_R = _controller_R.get_node("RayCast3D")
  ...
  # RayCast ã‹ã‚‰ã®é™¤å¤–
  var _physicsBody  = $Floor/StaticBody3D  # è¿½åŠ 
  _rayCast_R.add_exception(_physicsBody)  # è¿½åŠ 
```

ãƒ‡ãƒ¢ãƒ•ã‚¡ã‚¤ãƒ«ï¼š[RayCast.zip](https://github.com/mubirou/Godot/blob/main/zip/RayCast.zip)  
å®Ÿè¡Œç’°å¢ƒï¼šWindows 11ã€Godot 4.1.2ã€Meta Quest 3ï¼ˆ57.0.0ï¼‰ã€Quest Linkã€Oculusã‚¢ãƒ—ãƒª  
ä½œæˆè€…ï¼šå¤¢å¯éƒ  
ä½œæˆæ—¥ï¼š2022å¹´07æœˆ09æ—¥  
æ›´æ–°æ—¥ï¼š2023å¹´10æœˆ13æ—¥ Godot 4.1.2ã€Quest 3 ã§å‹•ä½œç¢ºèª  
[[TOP]](#TOP)


<a id="220708"></a>
# <b>ãƒ‡ã‚¸ã‚¿ãƒ«æ™‚è¨ˆ</b>

ğŸ“ ãƒ‡ã‚¸ã‚¿ãƒ«æ™‚è¨ˆç”¨ã®ãƒ•ã‚©ãƒ³ãƒˆï¼ˆ[Digital Dismay](https://www.1001fonts.com/digital+clock-fonts.html) ç­‰ï¼‰ã‚’ç”¨æ„ã—ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒ•ã‚©ãƒ«ãƒ€å†…ã«ç½®ã  

1. å¤§å…ƒã® Node3Dï¼ˆMainï¼‰ã‚’é¸æŠã— [å­ãƒãƒ¼ãƒ‰ã‚’è¿½åŠ ]-[[**Label3D**](https://docs.godotengine.org/en/latest/classes/class_label3d.html?highlight=Label3D#label3d)] ã‚’é¸æŠ
1. åå‰ã‚’ "Label3D" â†’ "Clock" ã«å¤‰æ›´
1. [Clock] ã‚’é¸æŠã— [ã‚¤ãƒ³ã‚¹ãƒšã‚¯ã‚¿ãƒ¼] ã‚’æ¬¡ã®é€šã‚Šè¨­å®š
    * [**Text**]  
      * [**Modulate**]ï¼š#ffffffï¼ˆãƒ•ã‚©ãƒ³ãƒˆè‰²ï¼‰
      * [**Outline Modulate**]ï¼š#000000ï¼ˆã‚¢ã‚¦ãƒˆãƒ©ã‚¤ãƒ³è‰²ï¼‰
      * [**Text**]ï¼š**88:88:88**
      * [**Font**]ï¼š[**Digital Dismay.otf**]((https://www.1001fonts.com/digital+clock-fonts.html))ï¼ˆä¸Šè¨˜ã®ãƒ•ã‚©ãƒ³ãƒˆï¼‰
      * [**Font Size**]ï¼š400ï¼ˆ**è¡¨ç¤ºã™ã‚‹4å€**ï¼‰  
      â€»[ãƒ¢ã‚¢ãƒ¬](https://ja.wikipedia.org/wiki/%E3%83%A2%E3%82%A2%E3%83%AC)ãŒç”Ÿã˜ã‚‹å ´åˆã¯ã€Œ2å€ã€ã«ã™ã‚‹  
    * [**Transform**]
      * [**Scale**]ï¼š**x 0.25**ã€**y 0.25**ã€z 1ï¼ˆ**1/4å€**ï¼‰  

    ï¼ˆéšå±¤ä¾‹ã¯ä»¥ä¸‹ã®é€šã‚Šï¼‰  
    Mainï¼ˆNode3Dï¼‰  
    ã€€ â”œ XROrigin3D  
    ã€€ â”‚ â”” XRCamera3D  
    ã€€ â”” Node3Dï¼ˆä½ç½®ã¯ã“ã“ã§è¨­å®šï¼‰  
ã€€ã€€      â”” Clockï¼ˆ**Label3D**ï¼‰  


* Clockï¼ˆ**Label3D**ï¼‰ã‚’é¸æŠã—æ–°è¦ã§ã‚¹ã‚¯ãƒªãƒ—ãƒˆï¼ˆ**Clock.gd**ï¼‰ã‚’ã‚¢ã‚¿ãƒƒãƒã—ä»¥ä¸‹ã®é€šã‚Šè¨˜è¿°  

```gdscript
# res://Clock.gd
extends Label3D

func _ready():
  await loop()

func loop():
  await get_tree().create_timer(1.0).timeout

  var _now = Time.get_datetime_dict_from_system()
  var _h = _now.hour
  var _m = _now.minute
  var _s = _now.second
  if _h < 10: _h = "0" + str(_h)
  if _m < 10: _m = "0" + str(_m)
  if _s < 10: _s = "0" + str(_s)
  var _result = str(_h) + ":" + str(_m) + ":" + str(_s)
  text = _result

  await loop()
```

ãƒ‡ãƒ¢ãƒ•ã‚¡ã‚¤ãƒ«ï¼š[DigitalClock.zip](https://github.com/mubirou/Godot/blob/main/zip/DigitalClock.zip)  
å®Ÿè¡Œç’°å¢ƒï¼šWindows 11ã€Godot 4.1.2ã€Meta Quest 3ï¼ˆ57.0.0ï¼‰ã€Quest Linkã€Oculusã‚¢ãƒ—ãƒª  
ä½œæˆè€…ï¼šå¤¢å¯éƒ  
ä½œæˆæ—¥ï¼š2022å¹´06æœˆ04æ—¥  
æ›´æ–°æ—¥ï¼š2023å¹´10æœˆ13æ—¥ Godot 4.1.2ã€Quest 3 å¯¾å¿œ  
[[TOP]](#TOP)


<a id="220709"></a>
# <b>ãƒ‘ãƒ¼ãƒ†ã‚£ã‚¯ãƒ«</b>
ï¼ˆä¾‹ï¼‰ç…™ã®ç”Ÿæˆæ–¹æ³•  

ğŸ“ ä»»æ„ã® Node3D ã‚’é¸æŠã— [å­ãƒãƒ¼ãƒ‰ã‚’è¿½åŠ ]-[[**GPUParticles3D**](https://docs.godotengine.org/en/latest/classes/class_gpuparticles3d.html?highlight=GPUParticles3D#gpuparticles3d)]-[ã‚¤ãƒ³ã‚¹ãƒšã‚¯ã‚¿ãƒ¼] ã§ä»¥ä¸‹ã®é€šã‚Šå„ç¨®è¨­å®šï¼ˆæ‰‹é †âŠï¼‰  

#### Emittingï¼ˆãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°ã§å‡¦ç†ï¼‰
  * [**Emitting**]ï¼šâœ“ã‚ªãƒ³ï¼ˆãƒ‘ãƒ¼ãƒ†ã‚£ã‚¯ãƒ«ã®ã‚ªãƒ³/ã‚ªãƒ•ï¼‰
#### Amountï¼ˆæœ€çµ‚èª¿æ•´ï¼‰
  * [**Amount**]ï¼š**10**ï¼ˆãƒ‘ãƒ¼ãƒ†ã‚£ã‚¯ãƒ«ã®æ•°ï¼‰  
#### Timeï¼ˆæœ€çµ‚èª¿æ•´ï¼‰
  * [**Lifetime**]ï¼š1ï¼ˆå¯¿å‘½ï¼š0.01ï½600sï¼‰
  * [**Speed Scale**]ï¼š1ï¼ˆã‚¹ãƒ”ãƒ¼ãƒ‰ï¼š0ï½64ï¼‰
  * [**Fixd FPS**]ï¼š30ï¼ˆãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¬ãƒ¼ãƒˆï¼š0ï½1000fpsï¼‰
#### Process Materialï¼ˆæ‰‹é †âï¼‰
  * [**Process Material**]-[æ–°è¦ [**ParticlesMaterial**](https://docs.godotengine.org/en/latest/classes/class_particlesmaterial.html?highlight=ParticlesMaterial#particlesmaterial)]-[ç·¨é›†]  
    * [**Gravity**]ï¼šx 0ã€**y 0**ã€z 0ï¼ˆé‡åŠ›ï¼‰
    * [**Angle**]ï¼š
      * [Angle Min]ï¼š0
      * [**Angle Max**]ï¼š**360**
    * [**Scale**]ï¼šä»»æ„ï¼ˆä¸‹å›³å‚ç…§ï¼‰  
    ![image](https://github.com/mubirou/Godot/blob/main/jpg/202207140942.jpg)  
    * [**Color**]ï¼šä¸¡ç«¯ã®ã‚¢ãƒ«ãƒ•ã‚¡å€¤ã¯ **0**ï¼ˆä¸‹å›³å‚ç…§ï¼‰
    ![image](https://github.com/mubirou/Godot/blob/main/jpg/202207140804.jpg)  
#### Draw Passesï¼ˆæ‰‹é †âŒï¼‰
  * [**Draw Passes**]-[**Pass1**]-[æ–°è¦ [**QuadMesh**](https://docs.godotengine.org/en/latest/classes/class_quadmesh.html?highlight=QuadMesh#quadmesh)]
#### Geometryï¼ˆæ‰‹é †âï¼‰
  * [**Geometry**]-[**Material Override**]-[æ–°è¦ [**StandardMaterial3D**](https://docs.godotengine.org/en/latest/classes/class_standardmaterial3d.html?highlight=StandardMaterial3D#standardmaterial3d)]-[ç·¨é›†]    
      * [**Transparency**]ï¼š
        * [**Transparency**]ï¼š**Alpha**
        * [**Blend Mode**]ï¼š**Add**ï¼ˆçˆ†ç™ºç³»ã¯ **Mix**ï¼‰
      * [**Shading**]-[**Shading Mode**]ï¼š**Unshaded**
      * [**Vertex Color**]-[**Use As Albedo**]ï¼š**âœ“ã‚ªãƒ³**
      * [**Albedo**]ï¼š
        * [**Color**]ï¼š#ffffffï¼ˆãƒ™ãƒ¼ã‚¹ã‚«ãƒ©ãƒ¼ã¨ä¸é€æ˜åº¦ï¼‰
        * [**Texture**]ï¼š[**smoke.png**](https://github.com/mubirou/Godot/blob/main/png/smoke.png)    
      ![image](https://github.com/mubirou/Godot/blob/main/png/smoke.png)  
      ğŸ“ [**KENNY "Particl Pack"**](https://www.kenney.nl/assets?s=Particle+Pack+Free) ã‚‚åˆ©ç”¨å¯  
      * [**Billboard**]-[**Mode**]ï¼š**Particle Billboard**ï¼ˆå‘ãï¼‰
#### Transformï¼ˆæ‰‹é †â‹ï¼‰
  * [**Transform**]-[**Position**]ï¼šx 0ã€**y 1**ã€**z -2**ï¼ˆä»»æ„ï¼‰

ãƒ‡ãƒ¢ãƒ•ã‚¡ã‚¤ãƒ«ï¼š[Particles.zip](https://github.com/mubirou/Godot/blob/main/zip/Particles.zip)  
å‚è€ƒï¼š[YouTube](https://www.youtube.com/watch?v=DkJ2jYl-ESw)   
å‚è€ƒï¼š[GODOT DOCS](https://docs.godotengine.org/ja/stable/classes/class_particles.html?highlight=Particles)  
å®Ÿè¡Œç’°å¢ƒï¼šWindows 10ã€Godot 4.0 alpha 11ã€Meta Quest 41.0ã€Quest Linkã€Oculusã‚¢ãƒ—ãƒª  
ä½œæˆè€…ï¼šå¤¢å¯éƒ  
ä½œæˆæ—¥ï¼š2022å¹´06æœˆ27æ—¥  
æ›´æ–°æ—¥ï¼š2022å¹´07æœˆ14æ—¥ Godot 4.0 å¯¾å¿œ  
[[TOP]](#TOP)


<a id="220710"></a>
# <b>360Â°ãƒ‘ãƒãƒ©ãƒ</b>

ï¼ˆè­¦å‘Šï¼‰ [Godot 3.X ç‰ˆ](#220606) ã®æ™‚ã®ã‚ˆã†ã« [WorldEnvironment](https://docs.godotengine.org/en/latest/classes/class_worldenvironment.html?highlight=WorldEnvironment%20#worldenvironment) ã‚’åˆ©ç”¨ã™ã‚‹ã¨ãƒ‘ãƒãƒ©ãƒç”»åƒãŒæ­ªã¿ã¾ã™ï¼ˆè¦èª¿æŸ»ï¼‰  

### ğŸ‘‰ ç©ºï¼ˆ360Â°ãƒ‘ãƒãƒ©ãƒç”»åƒï¼‰ã®ç”¨æ„  
**Poly Haven**ï¼ˆ[**polyhaven.com/hdris**](https://polyhaven.com/hdris)ï¼‰ã® [**Skies**] ã‹ã‚‰ä»»æ„ã§ç”»åƒï¼ˆ[**.exr**](https://docs.godotengine.org/en/latest/classes/class_panoramaskymaterial.html?highlight=PanoramaSkyMaterial#panoramaskymaterial)ï¼‰ã‚’é¸ã³ [**Download**]  
* ä»–ã«ã‚‚ [Pixexid](https://pixexid.com/search/360)ï¼ˆJPEG å½¢å¼ï¼‰ã‚‚ã‚ã‚Š

### ğŸ‘‰ Godot ã§ã®ä½œæ¥­
1. [VRå…¥é–€](#220702) ã®ãƒ‡ãƒ¢ãƒ•ã‚¡ã‚¤ãƒ«ï¼ˆ[vr_start.zip](https://github.com/mubirou/Godot/blob/main/zip/vr_start.zip)ï¼‰ã‚’ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰

1. å¤§å…ƒã® Node3D ã‚’é¸æŠã— [å­ãƒãƒ¼ãƒ‰ã‚’è¿½åŠ ]-[[**MeshInstance3D**](https://docs.godotengine.org/en/latest/classes/class_meshinstance3d.html?highlight=MeshInstance3D#meshinstance3d)] ã‚’é¸æŠ  

1. åå‰ã‚’ "MeshInstance3D" â†’ "Panorama" ã«å¤‰æ›´<a id="220710-panorama"></a>  

1. [Panorama]-[ã‚¤ãƒ³ã‚¹ãƒšã‚¯ã‚¿ãƒ¼]  
    * [**Mesh**]-[æ–°è¦ **SphereMesh**]-[ç·¨é›†]  
      * [**Radius**]ï¼š**1**m
      * [**Height**]ï¼š**2**m
      * [**Material**]-[æ–°è¦ **StandardMaterial3D**]-[ç·¨é›†]  
        * [**Transparency**]
          * [**Transparency**]ï¼šDisabledï¼ˆAlphaã‚‚å¯èƒ½ï¼‰
          * [[**Cull Mode**](https://docs.godotengine.org/en/latest/classes/class_basematerial3d.html?highlight=Cull%20Mode%20BaseMaterial3D#enum-basematerial3d-cullmode)]ï¼š**Front**ï¼ˆå¤–ã«ã‚‚æç”»ã•ã‚Œã‚‹ï¼‰
        * [**Shading**]
          * [**Shading Mode**]ï¼š**Unshaded**ï¼ˆå…ƒç”»åƒã®æ˜ã‚‹ã•ã§è¡¨ç¤ºï¼‰
        * [**Albedo**]
          * [**Color**]ï¼š#ffffffï¼ˆã‚¢ãƒ«ãƒ•ã‚¡å€¤ã®è¨­å®šå¯èƒ½ï¼‰
          * [**Texture**]ï¼šã€‡ã€‡[**.exr**](https://docs.godotengine.org/en/latest/classes/class_panoramaskymaterial.html?highlight=PanoramaSkyMaterial#panoramaskymaterial)ï¼ˆ360Â°ãƒ‘ãƒãƒ©ãƒç”»åƒï¼‰ 
    * [**Transform**]
      * [**Rotation**]ï¼šx 0ã€y XXXï¼ˆ**åˆæœŸå€¤ã®æ°´å¹³è§’**ï¼‰ã€z 0  
      * [**Scale**]ï¼š**x 500**ã€**y 500**ã€**z 500**

1. å¤§å…ƒã® Node3D ã‚’é¸æŠã— [å­ãƒãƒ¼ãƒ‰ã‚’è¿½åŠ ]-[**DirectionalLight3D**]-[ã‚¤ãƒ³ã‚¹ãƒšã‚¯ã‚¿ãƒ¼]  
    * [**Shadow**]-[Enabled]ï¼š**âœ“ã‚ªãƒ³**
    * [**Transform**]
      * [**Position**]ï¼šx 0ã€**y 500**ï¼ˆ0ã§ã‚‚åŒã˜ï¼‰ã€z 0
      * [**Rotation**]ï¼š**x -55**ï¼ˆé«˜ã•ï¼‰ã€**y 35**ï¼ˆå‘ãï¼‰ã€z 0

ï¼ˆä¸Šè¨˜ã®éšå±¤ï¼‰  
Mainï¼ˆNode3Dï¼‰  
ã€€ â”œ XROrigin3D  
ã€€ â”‚ â”” XRCamera3D  
ã€€ â”œ **Panorama**ï¼ˆMeshInstance3D-**SphereMesh**ï¼‰  
ã€€ â”œ MeshInstance3Dï¼ˆå±•æœ›å°ãªã©ï¼ã‚ªãƒ—ã‚·ãƒ§ãƒ³ï¼‰  
ã€€ â”” DirectionalLight3D  

### ğŸ‘‰ ç©ºã®ã¿ã®åˆ©ç”¨ï¼ˆå‚è€ƒï¼‰
ä¸Šè¨˜ã®ä½œæ¥­ã«åŠ ãˆåœ°é¢ã‚’è¨­ç½®ã—å¾®èª¿æ•´ã™ã‚‹

1. **åœ°é¢ã®è¨­ç½®**  
å¤§å…ƒã® Node3D ã‚’é¸æŠã— [å­ãƒãƒ¼ãƒ‰ã‚’è¿½åŠ ]-[**MeshInstance3D**]-[ã‚¤ãƒ³ã‚¹ãƒšã‚¯ã‚¿ãƒ¼] ã§å„ç¨®è¨­å®š
    * [Mesh]-[æ–°è¦ **PlaneMesh**]  
    * [**Surface Material Override**]-[æ–°è¦ **StandardMaterial3D**]-[ç·¨é›†]
      * [**Albedo**]
        * [**Color**]ï¼š#ada37dï¼ˆä»»æ„ï¼‰
        * [**Texture**]ï¼š[ãƒ‘ã‚¿ãƒ¼ãƒ³ç”»åƒ](#220710-1)ï¼ˆã‚ªãƒ—ã‚·ãƒ§ãƒ³ï¼‰
    * [**Transform**]
      * [**Scale**]ï¼š**x 1000**ã€y 0ã€**z 1000**

1. **ãƒ‘ãƒãƒ©ãƒç”»åƒã®èª¿æ•´**  
    ï¼ˆåœ°å¹³ç·šã«ã‚ã‚‹ç©ºä»¥å¤–ã®ä½™è¨ˆãªãƒ¢ãƒã‚’éš ã™ï¼‰  
    1. [[Panorama](#220710-panorama)]-[ã‚¤ãƒ³ã‚¹ãƒšã‚¯ã‚¿ãƒ¼]-[Mesh]-[ç·¨é›†]-[**Material**]-[ç·¨é›†] ã‚’é–‹ã
    1. [**UV1**]-[**Offset**]ï¼šx 0ã€**y -0.017ï¼ˆå¾®èª¿æ•´ï¼‰**ã€z 0  

1. **è¢«å†™ç•Œæ·±åº¦ã®è¨­å®š**  
    ï¼ˆåœ°å¹³ç·šã‚’ã»ã‚“ã®å°‘ã—ã¼ã‹ã™ï¼‰  
    1. [XROrigin3D]-[[**XRCamera3D**](https://docs.godotengine.org/en/latest/classes/class_xrcamera3d.html?highlight=XRCamera3D#xrcamera3d)]-[ã‚¤ãƒ³ã‚¹ãƒšã‚¯ã‚¿ãƒ¼]-[**Effects**]-[æ–°è¦ [**CameraEffects**](https://docs.godotengine.org/en/latest/classes/class_cameraeffects.html?highlight=DOF%20Blur#cameraeffects)]-[ç·¨é›†] ã‚’é–‹ã
    1. [**DOF Blur**] ã‚’å„ç¨®è¨­å®š
        * [**Far Enabled**]ï¼š**âœ“ã‚ªãƒ³**
        * [**Amount**]ï¼š**0.01**ï¼ˆåˆæœŸå€¤ 0.1ï¼‰
    * [ã‚·ãƒãƒãƒ†ã‚£ãƒƒã‚¯ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼] ã§ PC ä¸Šã§ã‚‚ç¢ºèªå¯èƒ½ğŸ’¡

**ï¼ˆå‚è€ƒï¼‰å‹•ãé›²**  

  * ä¸Šè¨˜ã® **Panorama** ã‚’2å±¤ï¼ˆãƒ¦ãƒ‹ãƒ¼ã‚¯åŒ–ï¼‰ã«ã™ã‚‹
  * å†…å´ï¼ˆå‹•ããƒ‘ãƒãƒ©ãƒï¼‰ã‚’å„ç¨®èª¿æ•´  
    * [BaseMaterial3D]
      * [Transparency]-[**Transparency**]ï¼š**Alpha**
      * [Albedo]-[**Color**]ï¼šã‚¢ãƒ«ãƒ•ã‚¡å€¤ã‚’èª¿æ•´
  * å†…å´ï¼ˆå‹•ããƒ‘ãƒãƒ©ãƒï¼‰ã‚’ã‚¹ã‚¯ãƒªãƒ—ãƒˆã§å‹•ã‹ã™  
    ```gdscript
    func _process(_delta):
      var _x = get_node("Panorama").get_mesh().material.uv1_offset.x
      get_node("Panorama").get_mesh().material.uv1_offset.x = _x + 0.000005
    ```
    â†‘ã€Œ[StandardMaterial3D.uv1_offset.x](https://docs.godotengine.org/en/latest/classes/class_basematerial3d.html?highlight=uv1_offset#class-basematerial3d-property-uv1-offset)ã€ã‚’å¤‰æ›´  

<a id="220710-1"></a>
### ğŸ“ ãƒ‘ã‚¿ãƒ¼ãƒ³ç”»åƒã®ä½œæˆæ–¹æ³•ï¼ˆå‚è€ƒï¼‰
  1. **Poly Haven**ï¼ˆ[**polyhaven.com/textures**](https://polyhaven.com/textures)ï¼‰ã‹ã‚‰ç”»åƒã‚’é¸ã³ã€Œ**Windows + Shift + S**ã€ã‚­ãƒ¼ã§ä»»æ„ã®ç¯„å›²ã‚’ã‚¹ã‚¯ã‚·ãƒ§ â†’ [**GIMP**](https://www.gimp.org/) ç­‰ã§ **.png** ä¿å­˜
  1. [**ç”»åƒãƒ«ãƒ¼ãƒ‘ãƒ¼Webç‰ˆ**](https://nodachisoft.com/common/jp/webapp/createpatternimage/) ã‚’ä½¿ã£ã¦ãƒ‘ã‚¿ãƒ¼ãƒ³ç”»åƒï¼ˆ**.png**ï¼‰ã‚’ä½œæˆ

ãƒ‡ãƒ¢ãƒ•ã‚¡ã‚¤ãƒ«ï¼š[Panorama.zip](https://github.com/mubirou/Godot/blob/main/zip/Panorama.zip)  
ãƒ‡ãƒ¢ãƒ•ã‚¡ã‚¤ãƒ«ï¼š[blue_sky.zip](https://github.com/mubirou/Godot/blob/main/zip/blue_sky.zip)ï¼ˆç©ºã®ã¿ï¼‰  
å®Ÿè¡Œç’°å¢ƒï¼šWindows 10ã€Godot 4.0 alpha 12ã€Meta Quest 41.0ã€Quest Linkã€Oculusã‚¢ãƒ—ãƒª  
ä½œæˆè€…ï¼šå¤¢å¯éƒ  
ä½œæˆæ—¥ï¼š2022å¹´06æœˆ09æ—¥  
æ›´æ–°æ—¥ï¼š2022å¹´08æœˆ28æ—¥ å‹•ãé›²ã‚’è¿½åŠ   
[[TOP]](#TOP)


<a id="220711"></a>
# <b>é¡é¢ä»•ä¸Šã’ãƒœãƒ¼ãƒ«</b>
ã‚¹ãƒ†ãƒ³ãƒ¬ã‚¹çƒï½¥ã‚·ãƒ£ãƒœãƒ³ç‰é¢¨ãªã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®ä½œæˆ  

ğŸ‘‰ [**360Â°ãƒ‘ãƒãƒ©ãƒ**](#220710)ã®è¨­å®šï¼ˆã“ã®ç”»åƒã¯æ˜ ã‚Šã“ã¾ãªã„ï¼‰  

ğŸ‘‰ [**WorldEnvironment**](https://docs.godotengine.org/en/latest/classes/class_worldenvironment.html?highlight=WorldEnvironment%20#worldenvironment) ã®è¨­å®šï¼ˆã“ã®ç”»åƒãŒæ˜ ã‚Šã“ã‚€ï¼‰  
* å¤§å…ƒã® Node3D ã‚’é¸æŠã— [å­ãƒãƒ¼ãƒ‰ã‚’è¿½åŠ ]-[**WorldEnvironment**]-[ã‚¤ãƒ³ã‚¹ãƒšã‚¯ã‚¿ãƒ¼]-[**Environment**]-[æ–°è¦ **Environment**]-[ç·¨é›†]
    * [**Background**]-[**Mode**]ï¼š**Sky**
    * [**Sky**]
      * [**Sky**]-[æ–°è¦ **Sky**]-[ç·¨é›†]  
        * [**Sky Material**]-[æ–°è¦ [**PanoramaSkyMaterial**](https://docs.godotengine.org/en/latest/classes/class_panoramaskymaterial.html?highlight=PanoramaSkyMaterial#panoramaskymaterial)]-[ç·¨é›†]-[**Panorama**]ï¼šã€‡ã€‡.jpg ç­‰ï¼ˆ[**360Â°ãƒ‘ãƒãƒ©ãƒç”»åƒ**](https://docs.godotengine.org/en/latest/classes/class_panoramaskymaterial.html?highlight=PanoramaSkyMaterial#panoramaskymaterial)ï¼‰ 
      * [**Potation**]ï¼šx 0ã€yï¼ˆ**å›è»¢è§’èª¿æ•´**ï¼‰ã€z 0

ğŸ‘‰ **ãƒœãƒ¼ãƒ«ã®è¨­ç½®**ï¼ˆã‚¹ãƒ†ãƒ³ãƒ¬ã‚¹çƒï½¥ã‚·ãƒ£ãƒœãƒ³ç‰é¢¨ï¼‰  
* å¤§å…ƒã® Node3D ã‚’é¸æŠã— [å­ãƒãƒ¼ãƒ‰ã‚’è¿½åŠ ]-[**MeshInstance3D**]-[ã‚¤ãƒ³ã‚¹ãƒšã‚¯ã‚¿ãƒ¼]
    * [**Mesh**]-[æ–°è¦ **SphereMesh**]-[ç·¨é›†]  
      * [**Material**]-[æ–°è¦ **StandardMaterial3D**]-[ç·¨é›†]
        * [**Transparency**]-[**Transparency**]ï¼šDisabledï¼ˆalphaå¯èƒ½ï¼‰
        * [**Albedo**]-[**Color**]ï¼š#ffffffï¼ˆã‚¢ãƒ«ãƒ•ã‚¡å€¤å¯ï¼‰
        * [**Metaric**]-[**Metaric**]ï¼š**1**
        * [**Roughness**]ï¼š**0ï½0.2** ç¨‹åº¦ï¼ˆå…‰æ²¢æ„Ÿï¼‰

ãƒ‡ãƒ¢ãƒ•ã‚¡ã‚¤ãƒ«ï¼š[MirrorBall.zip](https://github.com/mubirou/Godot/blob/main/zip/MirrorBall.zip)  
å®Ÿè¡Œç’°å¢ƒï¼šWindows 10ã€Godot 4.0 alpha 12ã€Meta Quest 41.0ã€Quest Linkã€Oculusã‚¢ãƒ—ãƒª  
ä½œæˆè€…ï¼šå¤¢å¯éƒ  
ä½œæˆæ—¥ï¼š2022å¹´07æœˆ17æ—¥  
[[TOP]](#TOP)


<a id="220712"></a>
# <b>ãƒ©ã‚¤ãƒˆ3ç¨®</b>

1. [**DirectionalLight3D**](https://docs.godotengine.org/en/latest/classes/class_directionallight3d.html#class-directionallight3d)
    * å¤ªé™½å…‰ï¼ˆ**å¹³è¡Œå…‰æº**ï¼‰/ é›¢ã‚Œã¦ã‚‚æ¸›è¡°ãªã—
    * [**Transform**]  
      * Positionï¼šx 0ã€y 100ã€z 0ï¼ˆã©ã“ã§ã‚‚åŒã˜ï¼‰
      * Rotationï¼šx -63ï¼ˆ**å¤ªé™½é«˜åº¦**ï¼‰ã€y -8ï¼ˆ**å¤ªé™½æ–¹ä½**ï¼‰ã€z 0ï¼ˆå‚è€ƒï¼š[keisan.casio.jp](https://keisan.casio.jp/exec/system/1185781259)ï¼‰  

1. [**OmniLight3D**](https://docs.godotengine.org/en/latest/classes/class_omnilight3d.html?highlight=OmniLight3D#omnilight3d)
    * é›»çƒï¼ˆ**å…¨æ–¹å‘æ€§**ï¼‰/ é›¢ã‚Œã‚‹ã¨æ¸›è¡°
    * [**Omni**]
      * [**Range**]ï¼šç¯„å›²ï¼ˆåˆæœŸå€¤:5ï¼‰
      * [**Attenuation**]ï¼šå…‰ã‚¨ãƒãƒ«ã‚®ãƒ¼æ¸›è¡°æ›²ç·š

1. [**SpotLight3D**](https://docs.godotengine.org/en/latest/classes/class_spotlight3d.html?highlight=SpotLight3D#spotlight3d)  
    * ã‚¹ãƒãƒƒãƒˆãƒ©ã‚¤ãƒˆï¼ˆ**å††éŒçŠ¶**ï¼‰/ é›¢ã‚Œã‚‹ã¨æ¸›è¡° 
    * [**Spot**]
      * [**Attenuation**]ï¼šå…‰ã‚¨ãƒãƒ«ã‚®ãƒ¼æ¸›è¡°æ›²ç·š
      * [**Angle**]ï¼šè§’åº¦ï¼ˆåˆæœŸå€¤:45ï¼‰
      * [**Angle Attenuation**]ï¼šè§’åº¦æ¸›è¡°æ›²ç·š

* **å…±é€šè¨­å®š**
    * [**Light**]
      * [**Color**]ï¼š#ffffff
      * [**Energy**]ï¼š0ï½16ï¼ˆåˆæœŸå€¤:1ï¼‰
    * [**Shadow**]
      * [**Enabled**]ï¼š**âœ“ã‚ªãƒ³**
      * [**Blur**]ï¼š0ï½10ï¼ˆåˆæœŸå€¤:1ï¼‰

å®Ÿè¡Œç’°å¢ƒï¼šWindows 10ã€Godot 4.0 alpha 12ã€Meta Quest 41.0ã€Quest Linkã€Oculusã‚¢ãƒ—ãƒª   
ä½œæˆè€…ï¼šå¤¢å¯éƒ  
ä½œæˆæ—¥ï¼š2022å¹´07æœˆ18æ—¥  
[[TOP]](#TOP)


<a id="220713"></a>
# <b>Mixamo</b>

### ğŸ‘‰ ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼ã®ç”¨æ„  
  * ã‚¢ãƒ¼ãƒãƒãƒ¥ã‚¢ï¼ˆãƒœãƒ¼ãƒ³ï¼‰ãªã—  
  * Cameraã€Light ä¸è¦  
  * ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆé¡ã¯"çµ±åˆ"ï¼ˆãƒãƒ†ãƒªã‚¢ãƒ«ã‚’è¨­å®šï¼‰  
  å‚è€ƒãƒ•ã‚¡ã‚¤ãƒ«ï¼š[Kyle.blend](https://github.com/mubirou/Godot/blob/main/blend/Kyle.blend)  

### ğŸ‘‰ [Blender](https://www.blender.org/) ã®ä½œæ¥­â€  
  1. [Blender](https://www.blender.org/) ã§ ä¸Šè¨˜ãƒ•ã‚¡ã‚¤ãƒ«ï¼ˆ[Kyle.blend](https://github.com/mubirou/Godot/blob/main/blend/Kyle.blend)ï¼‰ã‚’é–‹ã
  1. ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼å…¨ä½“ã‚’é¸æŠ â†’ [ãƒ•ã‚¡ã‚¤ãƒ«]-[ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆ]-[**FBX(.fbx)**] ã‚’é¸æŠ
  1. [å†…å®¹]-[Limit to]ï¼š**âœ“é¸æŠã—ãŸã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆ** ã‚’é¸æŠã— [FBXã‚’ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆ] 

### ğŸ‘‰ [Mixamo](https://www.mixamo.com/#/)ï¼ˆãƒŸã‚­ã‚µãƒ¢ï¼‰ã®ä½œæ¥­  
  1. [Mixamo](https://www.mixamo.com/#/)ï¼ˆç„¡æ–™ï½¥ã‚¢ã‚«ã‚¦ãƒ³ãƒˆå¿…é ˆï¼‰ã‚’é–‹ã [**UPLOAD CHARACTER**] ã‚’é¸ã³ä¸Šè¨˜ã® **XXX.fbx** ã‚’ãƒ‰ãƒ©ãƒƒã‚°ï¼†ãƒ‰ãƒ­ãƒƒãƒ—  
  1. æŒ‡ç¤ºã«å¾“ã„ â€é¡ âæ‰‹é¦– â‚è‚˜ âƒè† â„è‚¡é–“ ã‚’æŒ‡å®šï¼ˆç”»åƒï¼‰  
  ![image](https://github.com/mubirou/Godot/blob/main/jpg/202207191132.jpg)  
  1. [**Animations**] ã®ä¸€è¦§ã‹ã‚‰é©å½“ã«é¸æŠï¼ˆå¿…è¦ã«å¿œã˜ã¦ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã§èª¿æ•´ï¼‰ã— [**DOWNLOAD**] ã‚’é¸æŠï¼ˆè¨­å®šã¯åˆæœŸå€¤ï¼‰  
  * [Format]ï¼šFBX Binary(.fbx)
  * [Skin]ï¼šWith Skin
  * [Frames per Second]ï¼š30
  * [Keyframe Reduction]ï¼šnone

### ğŸ‘‰ [Blender](https://www.blender.org/) ã®ä½œæ¥­â  
  1. [Blender](https://www.blender.org/) ã‚’èµ·å‹•ï¼ˆCameraã€Lightã€Cube ã¯å‰Šé™¤ï¼‰
  1. [ãƒ•ã‚¡ã‚¤ãƒ«]-[ã‚¤ãƒ³ãƒãƒ¼ãƒˆ]-[**FBX(.fbx)**] ã‚’é¸æŠã— [Mixamo](https://www.mixamo.com/#/) ã‹ã‚‰ DOWNLOAD ã—ãŸ **XXX.fbx** ã‚’é–‹ã
  1. [ã‚·ãƒ¼ãƒ³ã‚³ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³]-[Collection]-[Armature]-[**â–½ã€‡ã€‡ã€‡**] ã‚’é¸æŠã—ãŸçŠ¶æ…‹ã§"3Dãƒ“ãƒ¥ãƒ¼ãƒãƒ¼ãƒˆ"ã®å³ç«¯ã® **<** ã‚’é¸æŠ  
  1. [ãƒˆãƒ©ãƒ³ã‚¹ãƒ•ã‚©ãƒ¼ãƒ ]-[**ã‚¹ã‚±ãƒ¼ãƒ«**] ãŒ **100.000** ã«ãªã£ã¦ã„ã‚‹ã®ã‚’ç¢ºèª  
  1. [**â–½ã€‡ã€‡ã€‡**] ã‚’é¸æŠã—ãŸçŠ¶æ…‹ã§ [ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆ]-[é©ç”¨]-[**å…¨ãƒˆãƒ©ãƒ³ã‚¹ãƒ•ã‚©ãƒ¼ãƒ **] ã‚’é¸æŠ  
  1. ä¸Šè¨˜ã® **<** ã§é–‹ã„ãŸ [ãƒˆãƒ©ãƒ³ã‚¹ãƒ•ã‚©ãƒ¼ãƒ ]-[**ã‚¹ã‚±ãƒ¼ãƒ«**] ãŒ **1.000** ã«ãªã£ãŸã“ã¨ã‚’ç¢ºèª
  1. å¿…è¦ã«å¿œã˜ã¦ [Decimate](https://3dcg-school.pro/blender-polygon-reduction/) æ©Ÿèƒ½ã‚’ä½¿ã£ã¦ãƒãƒªã‚´ãƒ³ã‚’å‰Šé™¤
  1. [**Armature**] ä»¥ä¸‹å…¨ä½“ã‚’é¸æŠã—ãŸçŠ¶æ…‹ã§ [ãƒ•ã‚¡ã‚¤ãƒ«]-[ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆ]-[**glTF 2.0(.glb/.gltf)**] ã‚’é¸æŠ
  1. **Godot** ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒ•ã‚©ãƒ«ãƒ€å†…ã«ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆï¼ˆè¨­å®šã¯ä»¥ä¸‹ã®é€šã‚Šï¼‰  
  * [ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆ]ï¼š**glTFãƒã‚¤ãƒŠãƒª(.glb)**  
  * [å†…å®¹]-[Limit to]ï¼š**âœ“é¸æŠã—ãŸã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆ**  

### ğŸ‘‰ **Godot** ã®ä½œæ¥­
  1. ä¸Šè¨˜ã® **XXX.glb** ã‚’ã‚·ãƒ¼ãƒ³ã«é…ç½®
  1. ã‚·ãƒ¼ãƒ³ä¸Šã® XX ã‚’é¸æŠã—å³ã‚¯ãƒªãƒƒã‚¯ â†’ [ç·¨é›†å¯èƒ½ãªå­]
  1. XXX å†…ã® MeshInstance3D ã‚’é¸æŠ
  1. [ã‚¤ãƒ³ã‚¹ãƒšã‚¯ã‚¿ãƒ¼]-[**Geometry**]
      * [**LOD Bias**]ï¼š**20ï½40** ç¨‹åº¦ï¼ˆ[Level Of Detail](https://docs.unity3d.com/ja/2018.4/Manual/LevelOfDetail.html)ï¼‰
  1. ãƒãƒ†ãƒªã‚¢ãƒ«ã‚’è¨­å®šï¼ˆã‚ªãƒ—ã‚·ãƒ§ãƒ³ï¼‰
  1. XXX å†…ã® **AnimationPlayer** ã‚’é¸æŠ
  1. è¡¨ç¤ºã•ã‚ŒãŸã‚¿ã‚¤ãƒ ãƒ©ã‚¤ãƒ³ã® [**ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ãƒ«ãƒ¼ãƒ—ğŸ”**] ã¨ [**èª­ã¿è¾¼ã¿å¾Œã€è‡ªå‹•å†ç”Ÿ**] ãƒœã‚¿ãƒ³ã‚’é¸æŠ
  1. Quest ã¨æ¥ç¶šã—ã¦å†ç”Ÿ

ãƒ‡ãƒ¢ãƒ•ã‚¡ã‚¤ãƒ«ï¼š[Mixamo.zip](https://github.com/mubirou/Godot/blob/main/zip/Mixamo.zip)  
å‚è€ƒï¼š[Mixamoãƒãƒ«ãƒãƒãƒ¼ã‚º](#220714)  
å‚è€ƒï¼š[AccuRIG](https://actorcore.reallusion.com/auto-rig)ï¼ˆè‡ªå‹•ãƒªã‚®ãƒ³ã‚°ä»–ï¼‰  
å®Ÿè¡Œç’°å¢ƒï¼šWindows 10ã€Godot 4.0 alpha 12ã€Blender 3.2.1ã€Meta Quest 42.0ã€Quest Linkã€Oculusã‚¢ãƒ—ãƒª   
ä½œæˆè€…ï¼šå¤¢å¯éƒ  
ä½œæˆæ—¥ï¼š2022å¹´07æœˆ20æ—¥  
æ›´æ–°æ—¥ï¼š2022å¹´07æœˆ23æ—¥ Decimate ä½œæ¥­ã‚’è¿½åŠ   
[[TOP]](#TOP)


<a id="220714"></a>
# <b>Mixamoãƒãƒ«ãƒãƒãƒ¼ã‚º</b>

* [**Mixamo**](#220713) ã®è¤‡æ•°ãƒãƒ¼ã‚ºç‰ˆ  
* ä¾‹ã¨ã—ã¦ â€Idleã€âKickã€â‚Punch ã®ï¼“ãƒãƒ¼ã‚ºã‚’ä½œæˆ  

### ğŸ‘‰ [Mixamo](https://www.mixamo.com/#/)ï¼ˆãƒŸã‚­ã‚µãƒ¢ï¼‰ã®ä½œæ¥­  
  [**Mixamo**](#220713) ã‚’å‚è€ƒã« â€Idle.fbxã€âKick.fbxã€â‚Punch.fbx ã‚’ä½œæˆ  

### ğŸ‘‰ [Blender](https://www.blender.org/) ã®ä½œæ¥­  
  1. â€Idle.fbxã€âKick.fbxã€â‚Punch.fbx ã‚’ã‚¤ãƒ³ãƒãƒ¼ãƒˆ
  1. [ã‚·ãƒ¼ãƒ³ã‚³ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³]-[Collection]-[**Armatureã€‡**] ã¨ãã®ä¸‹å±¤ã® [ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³] å†…ã® "**Armatureã€‡|mixamo.com|Layer0**" ã¨ã„ã†åå‰ã‚’**ãƒãƒ¼ã‚ºå**ï¼ˆ"Idle"ã€"Kick"ã€"Punch"ï¼‰ã«å¤‰æ›´ï¼ˆä¸‹å›³ï¼‰  
  ![image](https://github.com/mubirou/Godot/blob/main/jpg/202207211022.jpg)  
  1. [ã‚¿ã‚¤ãƒ ãƒ©ã‚¤ãƒ³] â†’ [**ãƒãƒ³ãƒªãƒ‹ã‚¢ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³**] ã«å¤‰æ›´
  1. å†ç”Ÿãƒ˜ãƒƒãƒ‰ã‚’ **0** ã«ç§»å‹•
  1. [**Idle**]ï¼ˆä»»æ„ï¼‰ãƒˆãƒ©ãƒƒã‚¯ã‚’é¸æŠã— [è¿½åŠ ]-[**ã‚¹ãƒˆãƒªãƒƒãƒ—ã‚’è¿½åŠ **]-[**Kich**] ã‚’é¸æŠã€åŒæ§˜ã« [**Punch**] ã‚‚è¿½åŠ ï¼ˆä¸‹å›³ï¼‰
  1. "**NlaTrackã€‡**"ï¼ˆ[Non Linear Animation](https://blender-cg.net/nla-editor/) ã®ç•¥ï¼‰ã¨ã„ã†åå‰ã‚’ "**ãƒãƒ¼ã‚ºå + Track**" ã«å¤‰æ›´ï¼ˆåˆ¤ã‚Šã‚„ã™ã„ã‚ˆã†ã«ï¼‰  
   ![image](https://github.com/mubirou/Godot/blob/main/jpg/202207211102.jpg)  
  ğŸ’¡[ãƒ‰ãƒ¼ãƒ—ã‚·ãƒ¼ãƒˆ]-[ã‚¢ã‚¯ã‚·ãƒ§ãƒ³] ç­‰ã§ãƒãƒ¼ã‚ºã®ç¢ºèªå¯  
  1. [ã‚·ãƒ¼ãƒ³ã‚³ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³]-[Collection] ã® [**Idle**] ä»¥å¤–ã‚’å…¨ã¦å‰Šé™¤  
   ![image](https://github.com/mubirou/Godot/blob/main/jpg/202207211106.jpg)  
  1. [**Idle**] ã®å…¨ã¦ã‚’é¸æŠã—ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆï¼ˆ[**å‚è€ƒ**](#220713)ï¼‰  

### ğŸ‘‰ **Godot** ã®ä½œæ¥­
  1. ä¸Šè¨˜ã® **.glb** ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ã‚·ãƒ¼ãƒ³ã«é…ç½®ã— [**ç·¨é›†å¯èƒ½ãªå­**] 
  1. [MeshInstance3D]-[Geometry]-[**LOD Bias**] ã‚’èª¿æ•´ï¼ˆ20ï½35ç¨‹åº¦ï¼‰
  1. ä»¥é™ã€[**ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³é·ç§»**](#220617) ã¨åŒæ§˜  
  ![image](https://github.com/mubirou/Godot/blob/main/jpg/202207211157.jpg)  
  å‚è€ƒï¼š[GODOT DOCS](https://docs.godotengine.org/ja/stable/tutorials/animation/animation_tree.html?highlight=StateMachine#using-animationtree)  

å‚è€ƒï¼š[Mixamo](#220713)  
ãƒ‡ãƒ¢ãƒ•ã‚¡ã‚¤ãƒ«ï¼š[Mixamo_MultiPose.zip](https://github.com/mubirou/Godot/blob/main/zip/Mixamo_MultiPose.zip)  
é«˜ç”»è³ªç‰ˆãƒ‡ãƒ¢ï¼š[Mixamo_MultiPose_HighQuality.zip](https://github.com/mubirou/Godot/blob/main/zip/Mixamo_MultiPose_HighQuality.zip)  
å®Ÿè¡Œç’°å¢ƒï¼šWindows 10ã€Godot 4.0 alpha 12ã€Blender 3.2.1ã€Meta Quest 42.0ã€Quest Linkã€Oculusã‚¢ãƒ—ãƒª  
ä½œæˆè€…ï¼šå¤¢å¯éƒ  
ä½œæˆæ—¥ï¼š2022å¹´07æœˆ21æ—¥  
æ›´æ–°æ—¥ï¼š2022å¹´07æœˆ23æ—¥ é«˜ç”»è³ªç‰ˆãƒ‡ãƒ¢ãƒ•ã‚¡ã‚¤ãƒ«è¿½åŠ   
[[TOP]](#TOP)


<a id="220715"></a>
# <b>ãƒ•ã‚©ãƒ³ãƒˆè¨­å®š</b>
å†…éƒ¨ãƒ†ã‚­ã‚¹ãƒˆã‚¨ãƒ‡ã‚£ã‚¿ãƒ¼ã®ãƒ•ã‚©ãƒ³ãƒˆè¨­å®š  

1. ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°ç”¨ãƒ•ã‚©ãƒ³ãƒˆã‚’æ¤œè¨
    * [M PLUS 1 Codeï¼ˆRegularï¼‰](https://github.com/coz-m/MPLUS_FONTS/blob/master/fonts/otf/Mplus1Code-Regular.otf)
    * [**Ricty Diminished Discordï¼ˆRegularï¼‰**](https://github.com/edihbrandon/RictyDiminished/blob/master/RictyDiminishedDiscord-Regular.ttf)  
    * ã€Œ**1lI0O**ã€ã¯ã‚‚ã¡ã‚ã‚“ã€Œ**Dz**ã€ã€Œ**å…¨è§’ã‚¹ãƒšãƒ¼ã‚¹**ã€ãŒè¦‹åˆ†ã‘ã‚„ã™ã„å¾Œè€…ã‚’æ¨å¥¨
1. ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ï¼†ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«  
1. [Godot]-[ã‚¨ãƒ‡ã‚£ã‚¿ãƒ¼]-[ã‚¨ãƒ‡ã‚£ã‚¿ãƒ¼è¨­å®š]-[ã‚¨ãƒ‡ã‚£ã‚¿ãƒ¼]-[**ã‚³ãƒ¼ãƒ‰ã®ãƒ•ã‚©ãƒ³ãƒˆ**] ã‚’ä»¥ä¸‹ã®é€šã‚Šã«è¨­å®š
    * **M PLUS 1 Code** ã®å ´åˆ  
    C:/Users/XXX/appdata/Local/Microsoft/Windows/Fonts/Mplus1Code-Regular.otf  
    * **Ricty Diminished Discord** ã®å ´åˆ  
    C:/Users/XXX/appdata/Local/Microsoft/Windows/Fonts/RictyDiminishedDiscord-Regular.ttf  

å‚è€ƒï¼š[å¤–éƒ¨ã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚¨ãƒ‡ã‚£ã‚¿](#220630)  
å®Ÿè¡Œç’°å¢ƒï¼šWindows 10ã€Godot 4.0 alpha 12
ä½œæˆè€…ï¼šå¤¢å¯éƒ  
ä½œæˆæ—¥ï¼š2022å¹´07æœˆ23æ—¥  
[[TOP]](#TOP)


<a id="220716"></a>
# <b>ãƒœã‚¿ãƒ³</b>

#### ğŸ‘‰ ãƒ•ã‚©ãƒ³ãƒˆã®ç”¨æ„  
1. [Google Fontsï¼ˆOswaldï¼‰](https://fonts.google.com/specimen/Oswald) ç­‰ã‚’ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰  
1. ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒ•ã‚©ãƒ«ãƒ€ã«ä¿å­˜  

#### ğŸ‘‰ Godot ã®ä½œæ¥­  
1. [**ãƒ¬ãƒ¼ã‚¶ãƒ¼ãƒã‚¤ãƒ³ã‚¿ãƒ¼**](#220704)ã®æº–å‚™   
1. ã€Œé¸æŠã™ã‚‹ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã€ã‚’ä»¥ä¸‹ã®æ§‹é€ ã«å¤‰æ›´  
  Mainï¼ˆ[Node3D](https://docs.godotengine.org/en/latest/classes/class_node3d.html?highlight=Node3D#node3d)ï¼‰   
  ã€€â”œ Blue_Centerï¼ˆ[**Node3D**](https://docs.godotengine.org/en/latest/classes/class_node3d.html?highlight=Node3D#node3d)ï¼‰ï¼ˆğŸ’¡**ã‚¹ã‚±ãƒ¼ãƒ«å¤‰æ›´æ™‚ã®ä¸­å¿ƒ**ï¼‰  
  ã€€â”‚ã€€â”” Blueï¼ˆ[MeshInstance3D](https://docs.godotengine.org/en/latest/classes/class_meshinstance3d.html?highlight=MeshInstance3D#meshinstance3d)ï¼‰ï¼ˆãƒœã‚¿ãƒ³ã®è¦‹ãŸç›®ï¼‰   
  ã€€â”‚ã€€ã€€â”” [StaticBody3D](https://docs.godotengine.org/en/latest/classes/class_staticbody3d.html?highlight=StaticBody3D#staticbody3d)  
  ã€€â”‚ã€€ã€€ã€€â”” [CollisionShape3D](https://docs.godotengine.org/en/latest/classes/class_collisionshape3d.html?highlight=CollisionShape3D#collisionshape3d)ï¼ˆåå¿œã™ã‚‹é ˜åŸŸï¼‰  
  ã€€â”” [Label3D](https://docs.godotengine.org/en/latest/classes/class_label3d.html?highlight=Label3D#label3d)ï¼ˆè¡¨ç¤ºã™ã‚‹æ–‡å­—ï¼‰  
1. ãªãŠ [**Label3D**](https://docs.godotengine.org/en/latest/classes/class_label3d.html?highlight=Label3D#label3d) ã¯ä»¥ä¸‹ã®é€šã‚Šã«è¨­å®š  
    * [**Text**]
      * [**Modulate**]ï¼š**#ffffff**
      * [**Outline Modulate**]ï¼š**#000000cc**
      * [**Text**]ï¼šã€‡ã€‡ï¼ˆãƒœã‚¿ãƒ³åï¼‰
      * [**Font**]ï¼š**Oswald-Regular.ttf**ï¼ˆä¸Šè¨˜å‚ç…§ï¼‰
      * [**Font Size**]ï¼š80ï¼ˆä»»æ„ï¼‰
      * [**Outline Size**]ï¼š8ï¼ˆFont Sizeã®1/10ç¨‹åº¦ï¼‰
    * [**Transform**]  
      * [**Position**]ï¼šx 0ã€y 0ã€z 0.61ï¼ˆ**ãƒœã‚¿ãƒ³ã®åšã•+ğŸ’¡0.01**ï¼‰
      * [**Scale**]ï¼š**x 0.1**ã€**y 0.1**ã€**z 0.1**ï¼ˆğŸ’¡é«˜ç”»è³ªåŒ–ï¼‰
1. ã€Œã‚µã‚¤ã‚ºå¤‰æ›´æ™‚ã®ä¸­å¿ƒç‚¹ã€ã§ã‚ã‚‹ [**Blue_Center**] ã® [**Transform**] ã®å€¤ã‚’ä»¥ä¸‹ã®é€šã‚Šã«å¤‰æ›´  
    * **Position**ï¼šx -0.5ã€y 0.5ã€z -2ï¼ˆ**è¡¨ç¤ºã—ãŸã„ä½ç½®**ï¼‰  
1. ã€Œãƒœã‚¿ãƒ³ã®è¦‹ãŸç›®ã€ã§ã‚ã‚‹ [**Blue**] ã® [**Transform**] ã®å€¤ã‚’ä»¥ä¸‹ã®é€šã‚Šã«å¤‰æ›´  
    * **Position**ï¼šx 0ã€y 0ã€**z 0.03**ï¼ˆğŸ’¡**ãƒœã‚¿ãƒ³ã®åšã•ã®1/2**ï¼‰
    * **Scale**ï¼šx 0.3ã€y 0.3ã€**z 0.06**ï¼ˆ**ãƒœã‚¿ãƒ³ã®åšã•**ï¼‰
1. åŒæ§˜ã«å…¨ã¦ã®ãƒœã‚¿ãƒ³ã‚’è¨­å®š  

#### ğŸ‘‰ åŠ¹æœéŸ³ã®ç”¨æ„  
1. [ç„¡æ–™åŠ¹æœéŸ³](https://taira-komori.jpn.org/game01.html) ç­‰ã‹ã‚‰ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ï¼ˆ.mp3ï¼‰  
1. [Sound Forge Pro](https://www.sourcenext.com/product/vegas/sound/soundforge-pro/) ã§é•·ã•ã‚’èª¿æ•´ã—ä»¥ä¸‹ã®è¨­å®šã§ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒ•ã‚©ãƒ«ãƒ€ã«ä¿å­˜  
    * ãƒ•ã‚¡ã‚¤ãƒ«ã®ç¨®é¡ï¼š**Wave(Microsoft)(*.wav)**
    * ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆï¼š**44.100Hz, 16ãƒ“ãƒƒãƒˆ, ã‚¹ãƒ†ãƒ¬ã‚ª, PCM(*)**
1. å¤§å…ƒã® Node3Dï¼ˆMainï¼‰ã‚’é¸æŠã— [å­ãƒãƒ¼ãƒ‰ã‚’è¿½åŠ ]-[[**AudioStreamPlayer3D**](https://docs.godotengine.org/en/latest/classes/class_audiostreamplayer3d.html?highlight=AudioStreamPlayer3D#audiostreamplayer3d)] ã‚’è¿½åŠ ï¼ˆåå‰ã¯ "AudioStreamPlayer3D" â†’ "SE1" ã«å¤‰æ›´
1. [SE1] ã‚’é¸æŠã— [ã‚¤ãƒ³ã‚¹ãƒšã‚¯ã‚¿ãƒ¼] ã‚’æ¬¡ã®é€šã‚Šè¨­å®š  
    * [**Stream**]ï¼š**button04a.wav**ï¼ˆä¸Šè¨˜å‚ç…§ï¼‰

#### ğŸ‘‰ ã‚³ãƒ¼ãƒ‰ã®è¨˜è¿°    
1. [**ãƒ¬ãƒ¼ã‚¶ãƒ¼ãƒã‚¤ãƒ³ã‚¿ãƒ¼**](#220704)ã®[**ã‚³ãƒ¼ãƒ‰**](#code220704)ã‚’é–‹ã  
1. ä¿®æ­£ç®‡æ‰€ã®ãƒã‚¤ãƒ³ãƒˆã¯æ¬¡ã®é€šã‚Š    
* **_ready** æ™‚ã®å‡¦ç†  
  * **get_node("SE1")**ï¼ˆ[**AudioStreamPlayer3D**](https://docs.godotengine.org/en/latest/classes/class_audiostreamplayer3d.html?highlight=AudioStreamPlayer3D#audiostreamplayer3d) ãƒãƒ¼ãƒ‰å–å¾—ï¼‰
* [**button_pressed**](https://docs.godotengine.org/en/latest/classes/class_xrcontroller3d.html?highlight=xrcontroller#xrcontroller3d) æ™‚ã®å‡¦ç†  
  * Node3D.**scale.z = 0.7**ï¼ˆãƒœã‚¿ãƒ³ã‚’å‡¹ã¾ã›ã‚‹ï¼‰
* [**button_released**](https://docs.godotengine.org/en/latest/classes/class_xrcontroller3d.html?highlight=xrcontroller#xrcontroller3d) æ™‚ã®å‡¦ç†  
  * Node3D.**scale.z = 1**ï¼ˆå‡¹ã‚“ã ãƒœã‚¿ãƒ³ã‚’å…ƒã«æˆ»ã™ï¼‰
  * AudioStreamPlayer3D.**play()**ï¼ˆåŠ¹æœéŸ³ã‚’é³´ã‚‰ã™ï¼‰
* [**_physics_process**](https://docs.godotengine.org/en/latest/classes/class_mainloop.html?highlight=_physics_process#class-mainloop-method-physics-process) æ™‚ã®å‡¦ç†ï¼ˆRollOveræ™‚ã®è‰²å¤‰æ›´ï¼‰  
  * MeshInstance3D.**get_mesh().material**
  * StandardMaterial3D.**get_albedo()**
  * StandardMaterial3D.**set_albedo(Color(ã€‡,ã€‡,ã€‡,1))**
```gdscript
# main.gd
extends Node3D

var _interface : XRInterface
var _controller_R
var _rayCast_R
var _rayLine_R
var _hitPoint_R
var _selectCollider
var _se1
var _isRollOver = false

func _ready():
  _interface = XRServer.find_interface("OpenXR")
  if _interface and _interface.is_initialized():
    var _viewport : Viewport = get_viewport()
    _viewport.use_xr = true
  _controller_R = get_node("XROrigin3D/XRController3D_Right")
  _rayCast_R = _controller_R.get_node("RayCast3D")
  _rayLine_R = _controller_R.get_node("RayLine")
  _hitPoint_R = _controller_R.get_node("HitPoint")
  _hitPoint_R.visible = false
  _se1 = get_node("SE1")

func _on_xr_controller_3d_right_button_pressed(name):
  if name == "trigger_click":
    _selectCollider = _rayCast_R.get_collider()
    if _selectCollider != null:
      var _selectButton = _selectCollider.get_parent().get_parent()
      _selectButton.scale.z = 0.7

func _on_xr_controller_3d_right_button_released(name):
  if name == "trigger_click":
    if _selectCollider != null:
      var _selectButton = _selectCollider.get_parent().get_parent()
      _selectButton.scale.z = 1
    if _rayCast_R.get_collider() == null: return
    if _rayCast_R.get_collider() == _selectCollider: # Select!
      var _selectButton = _selectCollider.get_parent().get_parent()
      _selectButton.scale.z = 1
      _se1.play()
      print(_selectCollider.get_parent().name)

func _physics_process(delta):
  if _rayCast_R.is_colliding():
    _hitPoint_R.visible = true
    _hitPoint_R.global_transform.origin = _rayCast_R.get_collision_point()
    var _dis = (_rayCast_R.global_transform.origin - _hitPoint_R.global_transform.origin).length()
    _rayLine_R.scale.z = _dis
    _rayLine_R.position.z = -_dis / 2
    _selectCollider = _rayCast_R.get_collider()
    if !_isRollOver: # RollOver
      changeColor(true) 
      _isRollOver = true
  else:
    if _isRollOver: # RollOut
      changeColor(false) 
      _isRollOver = false
    _rayLine_R.scale.z = 1000
    _rayLine_R.position.z = -500
    _hitPoint_R.visible = false

func changeColor(_bool):
  if _selectCollider == null: return
  #var _theMaterial = _selectCollider.get_parent().get_surface_override_material(0)
  var _theMaterial = _selectCollider.get_parent().get_mesh().material
  if _bool:
    _theMaterial.set_albedo(_theMaterial.get_albedo()*4/3) # RollOver
  else:
    _theMaterial.set_albedo(_theMaterial.get_albedo()*3/4) # RollOut
```

ãƒ‡ãƒ¢ãƒ•ã‚¡ã‚¤ãƒ«ï¼š[Button.zip](https://github.com/mubirou/Godot/blob/main/zip/Button.zip)  
ãƒ‡ãƒ¢ãƒ•ã‚¡ã‚¤ãƒ«ï¼’ï¼š[Button_MultiPose.zip](https://github.com/mubirou/Godot/blob/main/zip/Button_MultiPose.zip)  
å®Ÿè¡Œç’°å¢ƒï¼šWindows 10ã€Godot 4.0 alpha 12ã€Meta Quest 42.0ã€Quest Linkã€Oculusã‚¢ãƒ—ãƒª  
ä½œæˆè€…ï¼šå¤¢å¯éƒ  
ä½œæˆæ—¥ï¼š2022å¹´07æœˆ25æ—¥  
æ›´æ–°æ—¥ï¼š2022å¹´07æœˆ26æ—¥ ãƒ‡ãƒ¢ãƒ•ã‚¡ã‚¤ãƒ«ï¼’ã‚’è¿½åŠ   
[[TOP]](#TOP)


<a id="220608"></a>
# <b>ã‚¸ãƒ§ã‚¤ã‚¹ãƒ†ã‚£ãƒƒã‚¯è§’åº¦</b>

1. [VRã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ©ãƒ¼ã®å…¥åŠ›ã‚¤ãƒ™ãƒ³ãƒˆ](#220703)ã®ãƒ‡ãƒ¢ãƒ•ã‚¡ã‚¤ãƒ«ï¼ˆ[vr_controller_events.zip](https://github.com/mubirou/Godot/blob/main/zip/vr_controller_events.zip)ï¼‰ã‚’é–‹ã  

1. [VRã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ©ãƒ¼ã®å…¥åŠ›ã‚¤ãƒ™ãƒ³ãƒˆ](#220703) ã¨åŒæ§˜ã«â€¦  
  [**XRController3D_Right**] ã‚’é¸æŠã— [**ãƒãƒ¼ãƒ‰**] ã‚¿ãƒ–ã‚’é¸ã¶
1. [ãƒãƒ¼ãƒ‰]-[**XRcontroller3D**]-[**input_axis_changed(name: String, value: Vector2)**] ã‚’é¸æŠã— [å³ã‚¯ãƒªãƒƒã‚¯]-[**æ¥ç¶š...**]ï¼ˆå¤§å…ƒã®Node3Dã«ã‚¢ã‚¿ãƒƒãƒã•ã‚ŒãŸã‚¹ã‚¯ãƒªãƒ—ãƒˆï¼ **main.gd** ã«æ¥ç¶šï¼‰  
* ã‚³ãƒ¼ãƒ‰ã®ãƒã‚¤ãƒ³ãƒˆã¯æ¬¡ã®é€šã‚Š  
```gdscript
func _ã€‡ã€‡_input_axis_changed(name, value):
  # å¼§åº¦æ³•
  var _radianJoyStick = atan2(value.x, value.y)
  # åº¦æ•°æ³•
  var _degreeJoyStick = rad2deg(_radianJoyStick)
```
* ä»¥ä¸‹ã¯ãƒ‡ãƒ¢ãƒ•ã‚¡ã‚¤ãƒ«ã®ã‚µãƒ³ãƒ—ãƒ«ã‚³ãƒ¼ãƒ‰  
```gdscript
# main.gd
extends Node3D

var _interface : XRInterface
var _plate
var _arrow

func _ready():
  _interface = XRServer.find_interface("OpenXR")
  if _interface and _interface.is_initialized():
    var _viewport : Viewport = get_viewport()
    _viewport.use_xr = true
  _plate = get_node("Node3D/plate")
  _arrow = get_node("Node3D/plate/Sprite3D")

func _on_xr_controller_3d_right_button_pressed(name):
  print("Pressed: " + name)

func _on_xr_controller_3d_right_button_released(name):
  print("Released: " + name)

func _on_xr_controller_3d_right_input_axis_changed(name, value):
  var _radianJoyStick = atan2(value.x, value.y)
  if _radianJoyStick != 0:
    _arrow.visible = true
    _plate.rotation.y = -_radianJoyStick
  else:
    _arrow.visible = false
```

ãƒ‡ãƒ¢ãƒ•ã‚¡ã‚¤ãƒ«ï¼š[JoystickAngle.zip](https://github.com/mubirou/Godot/blob/main/zip/JoystickAngle.zip)  
å‚è€ƒï¼š[GODOT DOCS](https://docs.godotengine.org/en/latest/classes/class_xrcontroller3d.html?highlight=axis_changed#signals)  
å®Ÿè¡Œç’°å¢ƒï¼šWindows 10ã€Godot 4.0 alpha 12ã€Meta Quest 42.0ã€Quest Linkã€Oculusã‚¢ãƒ—ãƒª  
ä½œæˆè€…ï¼šå¤¢å¯éƒ  
ä½œæˆæ—¥ï¼š2022å¹´06æœˆ11æ—¥  
æ›´æ–°æ—¥ï¼š2022å¹´07æœˆ27æ—¥ Godot 4.0 å¯¾å¿œ  
[[TOP]](#TOP)


<a id="220717"></a>
# <b>ãƒˆãƒªã‚¬ãƒ¼é‡</b>

1. [VRã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ©ãƒ¼ã®å…¥åŠ›ã‚¤ãƒ™ãƒ³ãƒˆ](#220703)ã®ãƒ‡ãƒ¢ãƒ•ã‚¡ã‚¤ãƒ«ï¼ˆ[vr_controller_events.zip](https://github.com/mubirou/Godot/blob/main/zip/vr_controller_events.zip)ï¼‰ã‚’é–‹ã 

1. [VRã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ©ãƒ¼ã®å…¥åŠ›ã‚¤ãƒ™ãƒ³ãƒˆ](#220703) ã¨åŒæ§˜ã«â€¦    
  [**XRController3D_Right**] ã‚’é¸æŠã— [**ãƒãƒ¼ãƒ‰**] ã‚¿ãƒ–ã‚’é¸ã¶
1. [ãƒãƒ¼ãƒ‰]-[**XRcontroller3D**]-[**input_value_changed(name: String, value: float)**] ã‚’é¸æŠã— [å³ã‚¯ãƒªãƒƒã‚¯]-[**æ¥ç¶š...**]ï¼ˆå¤§å…ƒã®Node3Dã«ã‚¢ã‚¿ãƒƒãƒã•ã‚ŒãŸã‚¹ã‚¯ãƒªãƒ—ãƒˆï¼ **main.gd** ã«æ¥ç¶šï¼‰  
1. ã‚³ãƒ¼ãƒ‰ã‚’å¤‰æ›´ï¼ˆ**_ã€‡_input_value_changed()** é–¢æ•°å†…ï¼‰ 
```gdscript
# main.gd
extends Node3D

var _interface : XRInterface

func _ready():
  _interface = XRServer.find_interface("OpenXR")
  if _interface and _interface.is_initialized():
    var _viewport : Viewport = get_viewport()
    _viewport.use_xr = true

func _on_xr_controller_3d_right_input_value_changed(name, value):
  print(name + " : " + str(value))
```
* å–å¾—å€¤  
**trigger** : **0ï½1.0**ï¼ˆå°‘æ•°ç‚¹ç¬¬14ä½ã¾ã§å–å¾—ï¼‰  
**grip** : **0ï½1.0**ï¼ˆ ã€ƒ ï¼‰  

ãƒ‡ãƒ¢ãƒ•ã‚¡ã‚¤ãƒ«ï¼š[TriggerAmount.zip](https://github.com/mubirou/Godot/blob/main/zip/TriggerAmount.zip)  
å‚è€ƒï¼š[GODOT DOCSï¼ˆSignalsï¼‰](https://docs.godotengine.org/en/latest/classes/class_xrcontroller3d.html?highlight=axis_changed#signals)  
å®Ÿè¡Œç’°å¢ƒï¼šWindows 10ã€Godot 4.0 alpha 12ã€Meta Quest 42.0ã€Quest Linkã€Oculusã‚¢ãƒ—ãƒª  
ä½œæˆè€…ï¼šå¤¢å¯éƒ  
æ›´æ–°æ—¥ï¼š2022å¹´07æœˆ27æ—¥  
[[TOP]](#TOP)


<a id="220613"></a>
# <b>Picture-in-Picture</b>
ã‚«ãƒ¡ãƒ©ã®æ˜ åƒã‚’ç©ºé–“ä¸Šã«è¡¨ç¤ºã™ã‚‹  

### ğŸ‘‰ [**Sprite3D**](https://docs.godotengine.org/en/latest/classes/class_sprite3d.html?highlight=Sprite3D#sprite3d) ã®ç”¨æ„  

1. å¤§å…ƒã® **Node3D** ã« [**Sprite3D**] ã‚’è¿½åŠ 
1. [**Sprite3D**]-[ã‚¤ãƒ³ã‚¹ãƒšã‚¯ã‚¿ãƒ¼] ã§å„ç¨®è¨­å®š  
    * **Translation**ï¼šx 1.75ã€y 1ã€z -2ï¼ˆãƒ‡ã‚£ã‚¹ãƒ—ãƒ¬ã‚¤ä½ç½®ï¼‰
    * **Rotation**ï¼šx 0ã€y -40ã€z 0ï¼ˆãƒ‡ã‚£ã‚¹ãƒ—ãƒ¬ã‚¤ã®è§’åº¦ï¼‰
    * **Scale**ï¼š**0.25**ã€**0.25**ã€1ï¼ˆãƒ”ã‚¯ã‚»ãƒ«ã‚¢ã‚¹ãƒšã‚¯ãƒˆæ¯”ï½¥ã‚µã‚¤ã‚ºèª¿æ•´ï¼‰

### ğŸ‘‰ [**SubViewport**](https://docs.godotengine.org/en/latest/classes/class_subviewport.html?highlight=SubViewport#subviewport) ã®ç”¨æ„  

1. [**Sprite3D**] ã‚’é¸ã³ [å­ãƒãƒ¼ãƒ‰ã‚’è¿½åŠ ]-[**SubViewport**] ã‚’é¸æŠ
1. [**SubViewport**]-[ã‚¤ãƒ³ã‚¹ãƒšã‚¯ã‚¿ãƒ¼] ã‚’è¨­å®š  
    * Sizeï¼š**x 640**ã€**y 360**ï¼ˆã‚«ãƒ¡ãƒ©ã®æ˜ åƒã‚µã‚¤ã‚ºï¼‰  
    * Render Targetï¼š**When Parent Visible**  
    **æ³¨æ„**ï¼šç·¨é›†ä¸­ã«é™ã‚Š **Always** ã‚’é¸æŠã™ã‚‹ã¨å†ç”Ÿå¯èƒ½  
1. [**Sprite3D**]-[ã‚¤ãƒ³ã‚¹ãƒšã‚¯ã‚¿ãƒ¼] ã® [**Texture**]-[æ–°è¦ **ViewportTexture**] ã§ä¸Šè¨˜ã§ä½œæˆã—ãŸ **SubViewport** ã‚’é¸æŠ

### ğŸ‘‰ [**Camera3D**](https://docs.godotengine.org/en/latest/classes/class_camera3d.html?highlight=Camera3D#camera3d) ã®ç”¨æ„

1. [**SubViewport**] ã‚’é¸ã³ [å­ãƒãƒ¼ãƒ‰ã‚’è¿½åŠ ]-[**Camera3D**] ã‚’é¸æŠ
1. [**Camera3D**]-[ã‚¤ãƒ³ã‚¹ãƒšã‚¯ã‚¿ãƒ¼] ã§å„ç¨®è¨­å®š  
    * **Fov**ï¼ˆè¦–é‡è§’ï¼‰ï¼š1ï½179ï¼ˆåˆæœŸå€¤75Â°ï¼‰
    * [**Transform**]  
      * **Position**ï¼šx -1ã€y 0.9ã€z -1ï¼ˆã‚«ãƒ¡ãƒ©ã®ä½ç½®ï¼‰
      * **Rotation**ï¼šx 0ã€y -65ã€z 0ï¼ˆã‚«ãƒ¡ãƒ©ã®è§’åº¦ï¼‰

### ğŸ‘‰ **Camera3D** ã®å¯è¦–åŒ–  

1. [**Camera3D**] ã®ä¸‹å±¤ã« 3D ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆï¼ˆ.glbï¼‰ã‚’é…ç½®
1. [**Camera3D**]-[ã‚¤ãƒ³ã‚¹ãƒšã‚¯ã‚¿ãƒ¼]-[**Transform**] ã§ä½ç½®ï½¥è§’åº¦ï½¥ã‚¹ã‚±ãƒ¼ãƒ«ã‚’èª¿æ•´

### ğŸ‘‰ ãƒ‡ã‚£ã‚¹ãƒ—ãƒ¬ã‚¤ï¼ˆæœ¬ä½“ï¼‰ã®å¯è¦–åŒ–  

1. [**Sprite3D**] ã®ä¸‹å±¤ã« 3D ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’é…ç½®
1. [ã‚¤ãƒ³ã‚¹ãƒšã‚¯ã‚¿ãƒ¼]-[**Transform**] ã§ä½ç½®ï½¥ã‚¹ã‚±ãƒ¼ãƒ«ã‚’èª¿æ•´  

ï¼ˆéšå±¤ã¯ä»¥ä¸‹ã®é€šã‚Šï¼‰  
ã€€â”œ **Sprite3D**ï¼ˆãƒ‡ã‚£ã‚¹ãƒ—ãƒ¬ã‚¤è¡¨ç¤ºä½ç½®ï½¥æ˜ åƒã‚µã‚¤ã‚ºèª¿æ•´ï¼‰  
ã€€â”‚ã€€â”” **SubViewport**ï¼ˆæ˜ åƒã‚µã‚¤ã‚ºï¼‰  
ã€€â”‚ã€€ã€€â”” **Camera3D**ï¼ˆã‚«ãƒ¡ãƒ©ä½ç½®ï½¥ç”»è§’ï¼‰  
ã€€â”‚ã€€ã€€ã€€â”” **MeshInstance3D**ï¼ˆCamera3Dã®å¯è¦–åŒ–ï¼‰  
ã€€â”” **MeshInstance3D**ï¼ˆãƒ‡ã‚£ã‚¹ãƒ—ãƒ¬ã‚¤æœ¬ä½“ï¼‰  

ãƒ‡ãƒ¢ãƒ•ã‚¡ã‚¤ãƒ«ï¼š[PictureInPicture.zip](https://github.com/mubirou/Godot/blob/main/zip/PictureInPicture.zip)  
å‚è€ƒï¼š[å‹•ç”»å†ç”Ÿ](#220602)  
å®Ÿè¡Œç’°å¢ƒï¼šWindows 10ã€Godot 4.0 alpha 12ã€Meta Quest 42.0ã€Quest Linkã€Oculusã‚¢ãƒ—ãƒª  
ä½œæˆè€…ï¼šå¤¢å¯éƒ  
ä½œæˆæ—¥ï¼š2022å¹´06æœˆ20æ—¥  
ä½œæˆæ—¥ï¼š2022å¹´07æœˆ28æ—¥ Godot 4.0 å¯¾å¿œ  
[[TOP]](#TOP)


<a id="220602"></a>
# <b>å‹•ç”»å†ç”Ÿ</b>

### ğŸ‘‰ å‹•ç”»ãƒ•ã‚¡ã‚¤ãƒ«ã®æº–å‚™  

1. [ç„¡æ–™å‹•ç”»ç´ æ](https://www.studio-lab01.com/freebies/)ãªã©ã§æ˜ åƒã‚’æº–å‚™  
1. [Convertio](https://convertio.co/ja/) ãªã©ã§ [**OGVï¼ˆ.ogvï¼‰**](https://www.theora.org/) ã«å¤‰æ›  
 **æ³¨æ„**ï¼š[**ã‚µãƒãƒ¼ãƒˆã•ã‚Œã¦ã„ã‚‹å†ç”Ÿå½¢å¼**](https://docs.godotengine.org/en/latest/tutorials/animation/playing_videos.html?ï¼‰highlight=Video#supported-playback-formats)
1. ä¸Šè¨˜ **.ogv** ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ Godot ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒ•ã‚©ãƒ«ãƒ€ã«ç½®ã  

### ğŸ‘‰ [**Sprite3D**](https://docs.godotengine.org/en/latest/classes/class_sprite3d.html?highlight=Sprite3D#sprite3d) ã®ç”¨æ„  

1. å¤§å…ƒã® **Node3D** ã« [**Sprite3D**] ã‚’è¿½åŠ 
1. [**Sprite3D**]-[ã‚¤ãƒ³ã‚¹ãƒšã‚¯ã‚¿ãƒ¼] ã§å„ç¨®è¨­å®š  
    * **Translation**ï¼šx 0ã€y 1.5ã€z -3ï¼ˆãƒ‡ã‚£ã‚¹ãƒ—ãƒ¬ã‚¤ä½ç½®ï¼‰
    * **Rotation**ï¼šx 0ã€y 0ã€z 0ï¼ˆãƒ‡ã‚£ã‚¹ãƒ—ãƒ¬ã‚¤ã®è§’åº¦ï¼‰
    * **Scale**ï¼š**0.25**ã€**0.25**ã€1ï¼ˆãƒ”ã‚¯ã‚»ãƒ«ã‚¢ã‚¹ãƒšã‚¯ãƒˆæ¯”ï½¥ã‚µã‚¤ã‚ºèª¿æ•´ï¼‰

### ğŸ‘‰ [**SubViewport**](https://docs.godotengine.org/en/latest/classes/class_subviewport.html?highlight=SubViewport#subviewport) ã®ç”¨æ„  

1. [**Sprite3D**] ã‚’é¸ã³ [å­ãƒãƒ¼ãƒ‰ã‚’è¿½åŠ ]-[**SubViewport**] ã‚’é¸æŠ
1. [**SubViewport**]-[ã‚¤ãƒ³ã‚¹ãƒšã‚¯ã‚¿ãƒ¼] ã‚’è¨­å®š  
    * Sizeï¼š**x 854**ã€**y 360**ï¼ˆæ˜ åƒã®å…ƒã‚µã‚¤ã‚ºï¼‰  
    * Render Targetï¼š**When Parent Visible**
1. [**Sprite3D**]-[ã‚¤ãƒ³ã‚¹ãƒšã‚¯ã‚¿ãƒ¼] ã® [**Texture**]-[æ–°è¦ **ViewportTexture**] ã§ä¸Šè¨˜ã§ä½œæˆã—ãŸ **SubViewport** ã‚’é¸æŠ

### ğŸ‘‰ [**VideoStreamPlayer**](https://docs.godotengine.org/en/latest/classes/class_videostreamplayer.html?highlight=VideoStreamPlayer#videostreamplayer) ã®ç”¨æ„

1. [**SubViewport**] ã‚’é¸ã³ [å­ãƒãƒ¼ãƒ‰ã‚’è¿½åŠ ]-[**VideoStreamPlayer**] ã‚’é¸æŠ
1. [**VideoStreamPlayer**]-[ã‚¤ãƒ³ã‚¹ãƒšã‚¯ã‚¿ãƒ¼] ã§å„ç¨®è¨­å®š  
    * [**Stream**]ï¼šï¼ˆ**.ogv**ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ãƒ‰ãƒ©ãƒƒã‚°ï¼†ãƒ‰ãƒ­ãƒƒãƒ—ï¼‰  
    * **Autoplay**ï¼š**âœ“**

ï¼ˆéšå±¤ã¯ä»¥ä¸‹ã®é€šã‚Šï¼‰  
ã€€â”œ **Sprite3D**ï¼ˆãƒ‡ã‚£ã‚¹ãƒ—ãƒ¬ã‚¤è¡¨ç¤ºä½ç½®ï½¥æ˜ åƒã‚µã‚¤ã‚ºèª¿æ•´ï¼‰  
ã€€â”‚ã€€â”” **SubViewport**ï¼ˆæ˜ åƒã‚µã‚¤ã‚ºï¼‰  
ã€€â”‚ã€€ã€€â”” **VideoStreamPlayer**ï¼ˆ.ogv ã‚’æŒ‡å®šï¼‰  

ãƒ‡ãƒ¢ãƒ•ã‚¡ã‚¤ãƒ«ï¼š[VideoPlayer.zip](https://github.com/mubirou/Godot/blob/main/zip/VideoPlayer.zip)  
å‚è€ƒï¼š[Picture-in-Picture](#220613)  
å‚è€ƒï¼š[GODOT DOCS](https://docs.godotengine.org/en/latest/classes/class_videostreamplayer.html#class-videostreamplayer)  
å®Ÿè¡Œç’°å¢ƒï¼šWindows 10ã€Godot 3.4.4 + OpenXR Plugin 1.2  
Meta Quest 40.0ã€Oculus Linkï¼ˆOculusã‚¢ãƒ—ãƒªï¼‰  
ä½œæˆè€…ï¼šå¤¢å¯éƒ  
ä½œæˆæ—¥ï¼š2022å¹´06æœˆ04æ—¥  
ä½œæˆæ—¥ï¼š2022å¹´07æœˆ28æ—¥ Godot 4.0 å¯¾å¿œ  
[[TOP]](#TOP)


<a id="220604"></a>
# <b>Oculus Air Link</b>

### ğŸ‘‰ **Oculus ã‚¢ãƒ—ãƒª**ã®ç”¨æ„  
  1. Windows ä¸Šã§ [oculus.com/setup](https://www.oculus.com/setup/) ã‹ã‚‰ [OCULUS QUEST]ï¼ˆåˆä»£ã®å ´åˆï¼‰ã® [**ã‚½ãƒ•ãƒˆã‚¦ã‚§ã‚¢ã‚’ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰**] ã‚’é¸æŠ  
    ã€æ³¨æ„ã€‘"**Quest 2**"ã®å ´åˆã¯ [QUEST 2] ã® [QUEST2 PCã‚¢ãƒ—ãƒªã‚’ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰] ã‚’é¸æŠã—ã¾ã™
  1. ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã—ãŸ **OculusSetup.exe** ã‚’ãƒ€ãƒ–ãƒ«ã‚¯ãƒªãƒƒã‚¯ã—ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«  
    ï½ã—ã°ã‚‰ãæ™‚é–“ãŒã‹ã‹ã‚Šã¾ã™â˜•ï½

### ğŸ‘‰ **Oculus Air Link** ã®èµ·å‹•   
  * Quest ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ©ãƒ¼ã® [MENU] ãƒœã‚¿ãƒ³ã‚’æŠ¼ã—ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã‚’è¡¨ç¤ºã—ã€æ™‚é–“ãŒè¡¨ç¤ºã•ã‚Œã¦ã„ã‚‹éƒ¨åˆ†ã‚’ãƒˆãƒªã‚¬ãƒ¼ã§é¸æŠ
  * [**Quest Link**] ãƒœã‚¿ãƒ³ã‚’é¸æŠ
  * [**Air Linkã‚’ä½¿ç”¨**] ã‚’ã‚ªãƒ³ã«ã—ã¦ [**èµ·å‹•**]
  ğŸ“ åˆã‚ã¦æ¥ç¶šã™ã‚‹å ´åˆ [**ãƒšã‚¢ãƒªãƒ³ã‚°**]ä½œæ¥­ãŒå¿…è¦ã§ã™

### ğŸ‘‰ **Godot Engine** ã®å®Ÿè¡Œ  
  * Godot ã® [â–¶] ã‚’æŠ¼ã—ã¦ Quest + Godot ãŒåŒæ™‚å†ç”Ÿã•ã‚Œã‚Œã°æˆåŠŸï¼

### ğŸ“ [æ¥ç¶šè¦ä»¶](https://www.moguravr.com/oculus-air-link/)  
1. Oculus Air Linkã®æœ‰åŠ¹ç¯„å›²ï¼šWi-Fiãƒ«ãƒ¼ã‚¿ãƒ¼ã‹ã‚‰20ãƒ•ã‚£ãƒ¼ãƒˆï¼ˆç´„6mï¼‰ä»¥å†…
1. ãƒ«ãƒ¼ã‚¿ãƒ¼ã®è¨­ç½®å ´æ‰€ï¼šãƒ˜ãƒƒãƒ‰ã‚»ãƒƒãƒˆã¨ç›´ç·šä¸Šã§é®ã‚‹ã‚‚ã®ãŒãªãã€åºŠã‹ã‚‰1mä»¥ä¸Šã®é«˜ã•
1. Wi-Fiã®å¸¯åŸŸï¼š5GHzï¼ˆacã‚‚ã—ãã¯axï¼‰
1. Oculus Linkã®å‹•ä½œè¦ä»¶ã‚’æº€ãŸã™ã‚¹ãƒšãƒƒã‚¯ã®PC
1. PCã¨Wi-Fiãƒ«ãƒ¼ã‚¿ãƒ¼ãŒLANã‚±ãƒ¼ãƒ–ãƒ«ã§æ¥ç¶šã•ã‚Œã¦ã„ã‚‹ï¼ˆæœ‰ç·šæ¥ç¶šã§ã‚ã‚‹ï¼‰ã“ã¨

å®Ÿè¡Œç’°å¢ƒï¼šWindows 10ã€Godot 4.0 alpha 13ã€Meta Quest 42.0ã€Quest Linkã€Oculusã‚¢ãƒ—ãƒª  
ä½œæˆè€…ï¼šå¤¢å¯éƒ  
ä½œæˆæ—¥ï¼š2022å¹´06æœˆ05æ—¥  
æ›´æ–°æ—¥ï¼š2022å¹´07æœˆ29æ—¥  Godot 4.0 å¯¾å¿œ  
[[TOP]](#TOP)


<a id="220609"></a>
# <b>Blender to Godot</b>

ğŸ’¡ **.blend** ãƒ•ã‚¡ã‚¤ãƒ«ã‚‚èª­è¾¼å¯èƒ½ã§ã™ãŒ "[ãƒãƒ«ãƒãƒãƒ¼ã‚º](#220714)" ã¯ã†ã¾ãã‚¤ãƒ³ãƒãƒ¼ãƒˆã§ãã¾ã›ã‚“ï¼ˆè¦èª¿æŸ»ï¼‰   

### ğŸ‘‰ [Blender](https://www.blender.org/) ã®ä½œæ¥­

1. æ›¸ãå‡ºã—ãŸã„ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆï¼ˆéšå±¤å†…å…¨ã¦å«ã‚€ï¼‰ã‚’é¸æŠ
1. [ãƒ•ã‚¡ã‚¤ãƒ«]-[ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆ]-[**[glTF 2.0](https://docs.godotengine.org/en/latest/about/faq.html#what-3d-model-formats-does-godot-support) (.glb/.gltf)**] ã‚’é¸æŠ
1. ä»¥ä¸‹ã®é€šã‚Šè¨­å®š
    * ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆï¼š**glTFãƒã‚¤ãƒŠãƒª (.glb)**
    * å†…å®¹ï¼š**âœ“ é¸æŠã—ãŸã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆ**
1. ãƒ•ã‚©ãƒ«ãƒ€ã‚’ Godot ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆå†…ã«æŒ‡å®šã— [**glTF 2.0ã®ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆ**] ã‚’é¸æŠ

### ğŸ‘‰ Godot ã®ä½œæ¥­

1. [ãƒ•ã‚¡ã‚¤ãƒ«ã‚·ã‚¹ãƒ†ãƒ ] å†…ã«è¡¨ç¤ºã•ã‚Œã‚‹ **.glb** ã‚’ [ã‚·ãƒ¼ãƒ³] ã®ä»»æ„ã®ãƒãƒ¼ãƒ‰ä¸Šã«ãƒ‰ãƒ©ãƒƒã‚°ï¼†ãƒ‰ãƒ­ãƒƒãƒ—
1. é…ç½®ã—ãŸã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã® [ã‚¤ãƒ³ã‚¹ãƒšã‚¯ã‚¿ãƒ¼] ã§ä½ç½®ã‚„ã‚¹ã‚±ãƒ¼ãƒ«ã‚’èª¿æ•´
1. [ã‚·ãƒ¼ãƒ³] ä¸Šã§ä¸Šè¨˜ã®ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’é¸æŠã— [å³ã‚¯ãƒªãƒƒã‚¯]-[**ç·¨é›†å¯èƒ½ãªå­**] ã‚’é¸æŠ
1. è¡¨ç¤ºã•ã‚ŒãŸéšå±¤ã‹ã‚‰ [**MeshInstance3D**] ã‚’é¸æŠã— [ã‚¤ãƒ³ã‚¹ãƒšã‚¯ã‚¿ãƒ¼]-[**Geometry**]-[**LOD Bias**] ã‚’ 20ï½40 ç¨‹åº¦ã«èª¿æ•´ï¼ˆ[**Level Of Detail**](https://docs.unity3d.com/ja/2018.4/Manual/LevelOfDetail.html)ï¼‰

å‚è€ƒï¼š[Blenderï¼ˆéšå±¤æ§‹é€ ï¼‰to Godot](#220615)  
å®Ÿè¡Œç’°å¢ƒï¼šWindows 10ã€Godot 4.0 alpha 13ã€Blender 3.2.1  
ä½œæˆè€…ï¼šå¤¢å¯éƒ  
ä½œæˆæ—¥ï¼š2022å¹´06æœˆ11æ—¥  
æ›´æ–°æ—¥ï¼š2022å¹´07æœˆ29æ—¥  
[[TOP]](#TOP)


<a id="220506"></a>
# <b>ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆè‰²</b>

ç€è‰²ã—ãŸã„ [**MeshInstance3D**](https://docs.godotengine.org/en/latest/classes/class_meshinstance3d.html?highlight=MeshInstance3D#meshinstance3d) ã® [ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹] ã‚’é–‹ã

### â€ [**Mesh**](https://docs.godotengine.org/en/latest/classes/class_mesh.html#mesh) ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã‚’ä½¿ã†æ–¹æ³•  

* [[**Mesh**](https://docs.godotengine.org/en/latest/classes/class_mesh.html#mesh)]-[ç·¨é›†]-[[**Material**](https://docs.godotengine.org/en/latest/classes/class_material.html?highlight=Material#material)]-[æ–°è¦ [**StandardMaterial3D**](https://docs.godotengine.org/en/latest/classes/class_standardmaterial3d.html?highlight=StandardMaterial3D#standardmaterial3d)]-[ç·¨é›†]  
  * **ç€è‰²**ï¼š[**Albedo**]-[**Color**]ï¼ˆã‚¢ãƒ«ãƒ•ã‚¡å€¤è¨­å®šå¯ï¼‰
  * **åŠé€æ˜**ï¼š[**Transparency**]
  * **å…‰æ²¢**ï¼š[**Metallic**] + [**Roughness**]

```gdscript
var _obj = get_node("MeshInstance3D")

# ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®è‰²ï¼ˆä¸é€æ˜åº¦ï¼‰ã‚’èª¿ã¹ã‚‹
print(_obj.get_mesh().material.get_albedo())
#-> (1, 1, 1, 1)

# ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®è‰²ã‚’ç™½â†’èµ¤ã«å¤‰æ›´
_obj.get_mesh().material.set_albedo(Color(1,0,0,1))
```

### â [**Surface Material Override**](https://docs.godotengine.org/en/latest/classes/class_meshinstance3d.html?highlight=Surface%20Material%20Override#class-meshinstance3d-method-get-surface-override-material) ã‚’ä½¿ã†æ–¹æ³•  

* [[**Surface Material Overâ€¦**](https://docs.godotengine.org/en/latest/classes/class_meshinstance3d.html?highlight=Surface%20Material%20Override#class-meshinstance3d-method-get-surface-override-material)]-[æ–°è¦ [**StandardMaterial3D**](https://docs.godotengine.org/en/latest/classes/class_standardmaterial3d.html?highlight=StandardMaterial3D#standardmaterial3d)]-[ç·¨é›†]  
  * **Mesh** ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã‚’ä½¿ã†å ´åˆã¨åŒã˜ï¼ˆä¸Šè¨˜å‚ç…§ï¼‰    

```gdscript
var _obj = get_node("MeshInstance3D")

# ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®è‰²ï¼ˆä¸é€æ˜åº¦ï¼‰ã‚’èª¿ã¹ã‚‹
print(_obj.get_surface_override_material(0).get_albedo())
#-> (1, 1, 1, 1)

# ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®è‰²ã‚’ç™½â†’èµ¤ã«å¤‰æ›´
var _material = _obj.get_surface_override_material(0)
_material.set_albedo(Color(1,0,0,1))
_obj.set_surface_override_material(0, _material)
```

å®Ÿè¡Œç’°å¢ƒï¼šWindows 10ã€Godot 4.0 alpha 13ã€Meta Quest 42.0ã€Quest Linkã€Oculusã‚¢ãƒ—ãƒª  
ä½œæˆè€…ï¼šå¤¢å¯éƒ  
ä½œæˆæ—¥ï¼š2022å¹´05æœˆ28æ—¥  
æ›´æ–°æ—¥ï¼š2022å¹´07æœˆ31æ—¥ Godot 4.0 å¯¾å¿œ  
[[TOP]](#TOP)


<a id="èƒŒæ™¯è‰²"></a>
# <b>èƒŒæ™¯è‰²</b>

* [ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆ]-[ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆè¨­å®š]-[**ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°**]-[**Environment**] ã§ä»¥ä¸‹ã®é€šã‚Šã«è¨­å®š
  * **Default Clear Color** : bfbfbfï¼ˆåˆæœŸå€¤:4d4d4dï¼‰

ï¼ˆæ³¨æ„ï¼‰ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®è‰²ã«å½±éŸ¿ã™ã‚‹ãŸã‚ã‚°ãƒ¬ãƒ¼ç³»ãŒå¥½ã¾ã—ã„  

å‚è€ƒï¼š [360Â°ãƒ‘ãƒãƒ©ãƒ](#220710)ã€[é¡é¢ä»•ä¸Šã’ãƒœãƒ¼ãƒ«](#220711)  
å®Ÿè¡Œç’°å¢ƒï¼šWindows 10ã€Godot 4.0 alpha 13ã€Meta Quest 42.0ã€Quest Linkã€Oculusã‚¢ãƒ—ãƒª  
ä½œæˆè€…ï¼šå¤¢å¯éƒ  
ä½œæˆæ—¥ï¼š2022å¹´03æœˆ07æ—¥  
æ›´æ–°æ—¥ï¼š2022å¹´07æœˆ31æ—¥ Godot 4.0 å¯¾å¿œ  
[[TOP]](#TOP)


<a id="220611"></a>
# <b>ç§»å‹•ã®åŸºæœ¬3ç¨®</b>

### ğŸ“ ç‰©ç†ãƒœãƒ‡ã‚£ï¼“ç¨®ã®ç¶™æ‰¿æ§‹é€ <a id="220611-1"></a>  
[Node3D](https://docs.godotengine.org/en/latest/classes/class_node3d.html?highlight=Node3D#node3d)  
ã€€â”” [CollisionObject3D](https://docs.godotengine.org/en/latest/classes/class_collisionobject3d.html?highlight=CollisionObject3D#collisionobject3d)  
ã€€ã€€â”œ [PhysicsBody3D](https://docs.godotengine.org/en/latest/classes/class_physicsbody3d.html?highlight=PhysicsBody3D#physicsbody3d)  
ã€€ã€€â”‚â”œ [**StaticBody3D**](https://docs.godotengine.org/en/latest/classes/class_staticbody3d.html?highlight=StaticBody3D#staticbody3d)ï¼ˆå£ï½¥åºŠç”¨ï¼‰   
ã€€ã€€â”‚â”œ [**CharacterBody3D**](https://docs.godotengine.org/en/latest/classes/class_characterbody3d.html?highlight=CharacterBody3D#characterbody3d)ï¼ˆã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼ç”¨ï¼‰    
ã€€ã€€â”‚â”œ [**RigidBody3D**](https://bit.ly/3Q7KSgX)ï¼ˆåŠ›ã‚’åŠ ãˆã‚‰ã‚Œã‚‹ç‰©ç†ãƒœãƒ‡ã‚£ï¼‰  
ã€€ã€€â”‚â”” [PhysicalBone3D](https://docs.godotengine.org/en/latest/classes/class_physicalbone3d.html?highlight=PhysicalBone3D#physicalbone3d)  
ã€€ã€€â”” [Area3D](https://docs.godotengine.org/en/latest/classes/class_area3d.html?highlight=get_overlapping_bodies#area3d)  
  
### **â€æŒ‡å®šä½ç½®ã«ç§»å‹•**  
 
  * [**Node3D.set_position(Vector3)**](https://docs.godotengine.org/en/latest/classes/class_node3d.html?highlight=position%20Node3D#class-node3d-property-position)   
  ```gdscript
  var _Node3D = get_node("ã€‡ã€‡")
  _Node3D.set_position(Vector3(0, 0, 0))
  ```

  * [**Node3D.set_global_position(Vector3)**](https://docs.godotengine.org/en/latest/classes/class_node3d.html?highlight=set_global_position)  

  ```gdscript
  var _Node3D = get_node("XXXBody3D")
  _Node3D.set_global_position(Vector3(0, 0, 0))
  ```

### **âå€¤ã ã‘ç§»å‹•**<a id="220611-2"></a>  

  * [**PhysicsBody3D.move_and_collide(Vector3)**](https://docs.godotengine.org/en/latest/classes/class_physicsbody3d.html#class-physicsbody3d-method-move-and-collide)  

    * [CollisionShape3D](https://docs.godotengine.org/en/latest/classes/class_collisionshape3d.html?highlight=CollisionShape3D#collisionshape3d) ã«è¡çªã™ã‚‹ã¨æ­¢ã¾ã‚‹  
    * è¡çªæ™‚ã«é–¢é€£æƒ…å ±ï¼ˆ[KinematicCollision3D](https://docs.godotengine.org/en/latest/classes/class_kinematiccollision3d.html#class-kinematiccollision3d)ï¼‰ã‚’è¿”ã™  
  
  ```gdscript
  var _PhysicsBody3D = get_node("ã€‡ã€‡")
  var _KinematicCollision3D = _PhysicsBody3D.move_and_collide(Vector3(-0.1, 0, 0))
  if _KinematicCollision3D != null:
    print(_KinematicCollision3D.get_collider().name)
  ```

### **â‚åŠ›ã‚’åŠ ãˆã‚‹**  

  * [**RigidBody3D.apply_force(Vector3)**](https://bit.ly/3B6mTdO)  
    å‚è€ƒï¼š[GODOT DOCSï¼ˆRigidBody3Dï¼‰](https://bit.ly/3Q7KSgX)    

  ```gdscript
  var _RigidBody3D:RigidBody3D = get_node("ã€‡ã€‡")
  _RigidBody3D.apply_force(Vector3(-100, 100, 0))
  ```

å®Ÿè¡Œç’°å¢ƒï¼šWindows 10ã€Godot 4.0 alpha 13ã€Meta Quest 42.0ã€Quest Linkã€Oculusã‚¢ãƒ—ãƒª  
ä½œæˆè€…ï¼šå¤¢å¯éƒ  
ä½œæˆæ—¥ï¼š2022å¹´06æœˆ15æ—¥  
ä½œæˆæ—¥ï¼š2022å¹´09æœˆ02æ—¥ RigidDynamicBody3D â†’ RigidBody3D  
[[TOP]](#TOP)


<a id="220801"></a>
# <b>è¡çªåˆ¤å®šé ˜åŸŸ</b>
ã•ã¾ã–ã¾ãªè¡çªåˆ¤å®šé ˜åŸŸï¼ˆ[**CollisionShape3D**](https://docs.godotengine.org/en/latest/classes/class_collisionshape3d.html?highlight=CollisionShape3D#collisionshape3d)ï¼‰ã«ã¤ã„ã¦  

### â€ãƒ—ãƒªãƒŸãƒ†ã‚£ãƒ–å‹  
1. [**SphereShape3D**](https://docs.godotengine.org/en/latest/classes/class_sphereshape3d.html?highlight=SphereShape3D#sphereshape3d)ï¼ˆçƒï¼‰
1. [**BoxShape3D**](https://docs.godotengine.org/en/latest/classes/class_boxshape3d.html?highlight=BoxShape3D#boxshape3d)ï¼ˆç›´æ–¹ä½“ï¼‰
1. [**CapsuleShape3D**](https://docs.godotengine.org/en/latest/classes/class_capsuleshape3d.html?highlight=CapsuleShape3D#capsuleshape3d)ï¼ˆã‚«ãƒ—ã‚»ãƒ«è–¬ï¼‰
1. [**CylinderShape3D**](https://docs.godotengine.org/en/latest/classes/class_cylindershape3d.html?highlight=CylinderShape3D#cylindershape3d)ï¼ˆå††æŸ±ï¼‰

### âè‡ªå‹•ä½œæˆå‹  
[MeshInstance3D](https://docs.godotengine.org/en/latest/classes/class_meshinstance3d.html?highlight=MeshInstance3D#meshinstance3d) ã‚’é¸ã³ [**ãƒ¡ãƒƒã‚·ãƒ¥**] ãƒœã‚¿ãƒ³ã‹ã‚‰ä½œæˆ
1. [**ConcavePolygonShape3D**](https://docs.godotengine.org/en/latest/classes/class_concavepolygonshape3d.html?highlight=ConcavePolygonShape3D#concavepolygonshape3d) ğŸ’¡
    * **[ä¸‰è§’å½¢ãƒ¡ãƒƒã‚·ãƒ¥â€¦]**ï¼ˆè¶…é«˜ç²¾ç´°ï¼‰ã‚’é¸ã³ä½œæˆ  
    * é ‚ç‚¹æ•°ã®çœç•¥ä¸å¯
    * ä¸¡æ–¹ãŒ ConcavePolygonShape3D ã®å ´åˆã¯ç„¡åŠ¹
    * æœ¬æ¥ã¯ StaticBody3Dï¼ˆä¸å‹•ã®ç‰©ç†ãƒœãƒ‡ã‚£ï¼‰ç”¨
1. [**ConvexPolygonShape3D**](https://docs.godotengine.org/en/latest/classes/class_convexpolygonshape3d.html?highlight=ConvexPolygonShape3D)  
    * **[å˜ä¸€ã®å‡¸å‹â€¦â€¦]**ï¼ˆä¸­ãƒ¬ãƒ™ãƒ«ï¼‰ã‚’é¸ã³ä½œæˆ  
    * **[ç°¡ç•¥åŒ–ã•ã‚ŒãŸå‡¸å‹â€¦]**ï¼ˆä½ãƒ¬ãƒ™ãƒ«ï¼‰ã‚’é¸ã³ä½œæˆ  
    * **é ‚ç‚¹æ•°ã®çœç•¥å¯**ï¼ˆ[CollisionShape3D]-[ã‚¤ãƒ³ã‚¹ãƒšã‚¯ã‚¿ãƒ¼]-[Shape]-[ConvexPolygonShape3D]-[ç·¨é›†]-[Points]-[Array (size ã€‡ã€‡)]-[ã‚µã‚¤ã‚º]ï¼‰

### ğŸ“ ãƒ‡ãƒ¢ãƒ•ã‚¡ã‚¤ãƒ«  
  * [CollisionShape3D.zip](https://github.com/mubirou/Godot/blob/main/zip/CollisionShape3D.zip)  
  * å³ã‚¸ãƒ§ã‚¤ã‚¹ãƒ†ã‚£ãƒƒã‚¯ã§ãƒŸã‚µã‚¤ãƒ«ã®å‰å¾Œå·¦å³
  * å·¦ã‚¸ãƒ§ã‚¤ã‚¹ãƒ†ã‚£ãƒƒã‚¯ã§ãƒŸã‚µã‚¤ãƒ«ã®ä¸Šä¸‹
  * è¡çªæ™‚ã«èƒŒé¢ã®å£ãŒèµ¤ã«å¤‰æ›´
  * éšå±¤æ§‹é€   
ã€€â”œ mubirouï¼ˆ**CharacterBody3D**ï¼‰  
ã€€â”‚ã€€â”œ Bodyï¼ˆ**MeshInstance3D**ï¼‰  
ã€€â”‚ã€€â”” **CollisionShape3D**ï¼ˆ[**ConcavePolygonShape3D**](https://docs.godotengine.org/en/latest/classes/class_concavepolygonshape3d.html?highlight=ConcavePolygonShape3D#concavepolygonshape3d)ï¼‰  
ã€€â”œ missileï¼ˆ**CharacterBody3D**ï¼‰  
ã€€â”‚ã€€â”œ missileï¼ˆ**MeshInstance3D**ï¼‰  
ã€€â”‚ã€€â”” **CollisionShape3D**ï¼ˆ[**ConvexPolygonShape3D**](https://docs.godotengine.org/en/latest/classes/class_convexpolygonshape3d.html?highlight=ConvexPolygonShape3D)ï¼‰  

å‚è€ƒï¼š[YouTube](https://www.youtube.com/watch?v=Mq-_FffB2eE)  
å‚è€ƒï¼š[GODOT DOCS](https://docs.godotengine.org/en/latest/tutorials/physics/collision_shapes_3d.html?highlight=collision%20detection%20area#collision-shapes-3d)  
å‚è€ƒï¼š[ç‰©ç†ãƒœãƒ‡ã‚£ï¼“ç¨®](#220611-1)  
å‚è€ƒï¼š[è¡çªåˆ¤å®š](#220612)  
å®Ÿè¡Œç’°å¢ƒï¼šWindows 10ã€Godot 4.0 alpha 13ã€Meta Quest 42.0ã€Quest Linkã€Oculusã‚¢ãƒ—ãƒª  
ä½œæˆæ—¥ï¼š2022å¹´08æœˆ03æ—¥  
[[TOP]](#TOP)


<a id="220802"></a>
# <b>ãƒœãƒ¼ãƒ³ã«ã‚¢ã‚¿ãƒƒãƒ</b>
ä»»æ„ã®[ãƒœãƒ¼ãƒ³](https://harkerhack.com/3dcg-what-is-born/)ã« [MeshInstance3D](https://docs.godotengine.org/en/latest/classes/class_meshinstance3d.html?highlight=MeshInstance3D#meshinstance3d) ç­‰ã‚’ã‚¢ã‚¿ãƒƒãƒã™ã‚‹  

### ğŸ“ æ‰‹é †  
1. [Mixamo](#220713) ã‚’åˆ©ç”¨ã—ã¦ã‚¢ãƒ¼ãƒãƒãƒ¥ã‚¢å«ã‚€ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’é…ç½®  
1. [ã‚·ãƒ¼ãƒ³] å†…ã® [**AnimationPlayer**] ã‚’é¸æŠã—ãƒãƒ¼ã‚ºã‚’å–ã£ã¦ãªã„çŠ¶æ…‹ã«ã™ã‚‹
1. [ã‚·ãƒ¼ãƒ³] å†…ã® [[**Skeleton3D**](https://docs.godotengine.org/en/latest/classes/class_skeleton3d.html?highlight=Skeleton3D#skeleton3d)]-[ã‚¤ãƒ³ã‚¹ãƒšã‚¯ã‚¿ãƒ¼] ã§å„ãƒœãƒ¼ãƒ³ã®ä½ç½®ã‚’ç¢ºèª
1. [**Skeleton3D**] ã‚’é¸ã³ [å­ãƒãƒ¼ãƒ‰ã‚’è¿½åŠ ]-[[**BoneAttachment3D**](https://docs.godotengine.org/en/latest/classes/class_boneattachment3d.html?highlight=BoneAttachment3D#boneattachment3d)] ã‚’é¸æŠ
1. [**BoneAttachment3D**]-[ã‚¤ãƒ³ã‚¹ãƒšã‚¯ã‚¿ãƒ¼]-[**Use External Skeleton**] ã‚’ **âœ“ã‚ªãƒ³** ã«ã—ã¦ä¸Šè¨˜ã® [**Skeleton3D**] ã‚’å‰²ã‚Šå½“ã¦
1. å¼•ç¶šã [**Bone Name**] ã§ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’ã‚¢ã‚¿ãƒƒãƒã—ãŸã„ãƒœãƒ¼ãƒ³ã‚’é¸æŠï¼ˆãƒœãƒ¼ãƒ³ã®ä½ç½®ã«[ãƒãƒ‹ãƒ¥ãƒ”ãƒ¬ãƒ¼ã‚¿ãƒ¼](https://blender-cg.net/manipyure-ta/#toc2)ãŒè¡¨ç¤ºï¼‰
1. [**BoneAttachment3D**] ã‚’é¸ã³ [å­ãƒãƒ¼ãƒ‰ã‚’è¿½åŠ ]-[**MeshInstance3D**]-[ã‚¤ãƒ³ã‚¹ãƒšã‚¯ã‚¿ãƒ¼]-[**Mesh**] ã‹ã‚‰ä»»æ„ã®ãƒ¡ãƒƒã‚·ãƒ¥ã‚’é¸æŠã—ä½ç½®ã€ã‚µã‚¤ã‚ºã‚’èª¿æ•´
1. ä¸Šè¨˜ã® [**MeshInstance3D**] ã‚’é¸ã³ [å­ãƒãƒ¼ãƒ‰ã‚’è¿½åŠ ]-[[**Area3D**](https://docs.godotengine.org/en/latest/classes/class_area3d.html?highlight=get_overlapping_bodies#area3d)] ã‚’è¿½åŠ 
1. å¼•ç¶šã [**Area3D**] ã‚’é¸ã³ [å­ãƒãƒ¼ãƒ‰ã‚’è¿½åŠ ]-[[**CollisionShape3D**](https://docs.godotengine.org/en/latest/classes/class_collisionobject3d.html?highlight=CollisionObject3D#collisionobject3d)] ã‚’é¸æŠï¼ˆ[ã‚¤ãƒ³ã‚¹ãƒšã‚¯ã‚¿ãƒ¼]-[**Shape**] ã¯ä¸Šè¨˜ã® [**MeshInstance3D**] ã«åˆã‚ã›ã‚‹ï¼‰
1. å¿…è¦ã«å¿œã˜ã¦è¡çªæ¤œçŸ¥ã•ã›ã‚‹ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã¨ã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚’è¨˜è¿°ï¼ˆä»¥ä¸‹ã®ãƒ‡ãƒ¢ãƒ•ã‚¡ã‚¤ãƒ«ã‚’å‚ç…§ï¼‰

### ğŸ“ ãƒ‡ãƒ¢ãƒ•ã‚¡ã‚¤ãƒ«  
  * [BoneAttachment.zip](https://github.com/mubirou/Godot/blob/main/zip/BoneAttachment.zip)  
  * éšå±¤æ§‹é€   
ã€€â”œ Wallï¼ˆ**MeshInstance3D**ï¼‰â†å£  
ã€€â”‚ã€€â”” **StaticBody3D**  
ã€€â”‚ã€€ã€€â”” **CollisionShape3D** â†è¡çªåˆ¤å®šé ˜åŸŸ  
ã€€â”œ Playerï¼ˆ**Node3D**ï¼‰  
ã€€â”‚ã€€â”œ **AnimationPlayer**  
ã€€â”‚ã€€â”” **Skeleton3D**  
ã€€â”‚ã€€ã€€â”œ Bodyï¼ˆ**MeshInstance3D**ï¼‰â†ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼  
ã€€â”‚ã€€ã€€â”” [**BoneAttachment3D**](https://docs.godotengine.org/en/latest/classes/class_boneattachment3d.html?highlight=BoneAttachment3D#boneattachment3d)  
ã€€â”‚ã€€ã€€ã€€â”” Handï¼ˆ**MeshInstance3D**ï¼‰â†è¿½åŠ ã—ãŸãƒ¢ãƒ  
ã€€â”‚ã€€ã€€ã€€ã€€â”” [**Area3D**](https://docs.godotengine.org/en/latest/classes/class_area3d.html?highlight=get_overlapping_bodies#area3d)  
ã€€â”‚ã€€ã€€ã€€ã€€ã€€â”” **CollisionShape3D** â†è¡çªåˆ¤å®šé ˜åŸŸ  
  * ã‚³ãƒ¼ãƒ‰ã®ãƒã‚¤ãƒ³ãƒˆ  
    ```gdscript
    var _hand : Area3D

    func _ready():
      â€¦â€¦
      _hand = get_node("Player/â€¦/Hand/Area3D")
      
    func _physics_process(delta):
      var _theList = _hand.get_overlapping_bodies()
      â€¦â€¦
      for _tmp in _theList:
        var _mesh = _tmp.get_parent()
        _mesh.get_mesh().material.set_albedo(Color(â€¦))
    ```
    ğŸ‘† [**Area3D.get_overlapping_bodies()**](https://docs.godotengine.org/en/latest/classes/class_area3d.html?highlight=get_overlapping_bodies#methods)  
  ï¼ˆ[Area3D](https://docs.godotengine.org/en/latest/classes/class_area3d.html?highlight=get_overlapping_bodies#area3d) é ˜åŸŸã«ã‚ã‚‹ [PhysicsBody3D](#220611-1) ã®é…åˆ—ã‚’è¿”ã™ï¼‰
  * è¡çªåˆ¤å®šé ˜åŸŸã‚’å«ã‚€ [CollisionObject3D](#220611-1) ãŒ [Area3D](https://docs.godotengine.org/en/latest/classes/class_area3d.html?highlight=get_overlapping_bodies#area3d) ã§ã¯ãªã [PhysicsBody3D](#220611-1) ã®ä½•ã‚Œã‹ã®å ´åˆã¯ [**PhysicsBody3D.move_and_collide(Vector3)**](#220611-2) ãŒåˆ©ç”¨å¯èƒ½  

å‚è€ƒï¼š[YouTube](https://www.youtube.com/watch?v=A2JMYQBWeig)  
å‚è€ƒï¼š[è¡çªåˆ¤å®š](#220612)  
å®Ÿè¡Œç’°å¢ƒï¼šWindows 10ã€Godot 4.0 alpha 13ã€Meta Quest 42.0ã€Quest Linkã€Oculusã‚¢ãƒ—ãƒª  
ä½œæˆæ—¥ï¼š2022å¹´08æœˆ06æ—¥  
[[TOP]](#TOP)


<a id="220803"></a>
# <b>ãƒ†ã‚­ã‚¹ãƒˆã®ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«</b>
[å³ã‚¸ãƒ§ã‚¤ã‚¹ãƒ†ã‚£ãƒƒã‚¯](#220608)ã®ä¸Šä¸‹ã§ãƒ†ã‚­ã‚¹ãƒˆã‚’ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ã€[Aï½¥Bãƒœã‚¿ãƒ³](#220703-1)ã§é é€ã‚Šã‚’ã™ã‚‹  

* éšå±¤æ§‹é€   
ã€€â”œ **Sprite3D**  
ã€€â”‚ã€€â”” **SubViewport**  
ã€€â”‚ã€€ã€€â”” **RichTextLabel**  

### ğŸ‘‰ Sprite3D ã®è¨­å®š
  * **Texture**ï¼šViewportTextureï¼ˆä¸‹è¨˜ã® **SubViewport**ï¼‰ 
  * **Transform**ï¼š
    * **Position**ï¼šx 0ã€y 0.55ã€z -1.5ï¼ˆè¡¨ç¤ºä½ç½®ï¼‰
    * **Rotation**ï¼šx -15ã€y 0ã€z 0ï¼ˆè¡¨ç¤ºè§’åº¦ï¼‰
    * **Scale**ï¼šx 0.15ã€y 0.15ã€z 0.15ï¼ˆã‚µã‚¤ã‚ºèª¿æ•´ï¼‰

### ğŸ‘‰ SubViewport ã®è¨­å®š
  * **Size**ï¼š
    * **x**ï¼š649ï¼ˆRichTextLabelã®Sizeã«åˆã‚ã›ã‚‹ï¼‰
    * **y**ï¼š662ï¼ˆåŒä¸Šï¼‰
  * **Render Target**ï¼š
    * **Update Mode**ï¼šAlwaysï¼ˆç·¨é›†æ™‚ï¼‰

### ğŸ‘‰ RichTextLabel ã®è¨­å®š  
  ï¼ˆè¦æ¤œè¨¼ï¼‰SubViewport éšå±¤ã‹ã‚‰å¤–ã™ã¨ãƒ†ã‚­ã‚¹ãƒˆå†…å®¹ãŒç¢ºèªå¯   
  * **Text**ï¼š[æ³¨æ–‡ã®å¤šã„åº—/å®®æ²¢è³¢æ²»](https://www.aozora.gr.jp/cards/000081/card43754.html#download) ã®ãƒ†ã‚­ã‚¹ãƒˆãƒ•ã‚¡ã‚¤ãƒ«ï¼ˆ[chumonno_oi_ryoriten.txt](https://github.com/mubirou/Godot/blob/main/txt/chumonno_oi_ryoriten.txt)ï¼‰ã‹ã‚‰æœ¬æ–‡ã‚’ã‚³ãƒ”ãƒšï¼ˆæœ€åˆã«ã‚¿ã‚¤ãƒˆãƒ«ç­‰ã€æœ€çµ‚è¡Œã«ã€Œå®Œã€ã‚’å…¥ã‚Œã‚‹ï¼‰
  * **BiDi**ï¼š
    * **Text Direction**ï¼šLeft-to-Right
  * **Layout**
    * **Transform**ï¼š
      * **Size**ï¼šx 649ã€y 662ï¼ˆèª¿æ•´ï¼‰  
    * **Theme Override**ï¼š
      * **Fonts**ï¼š
        * **Normal Font**ï¼š[Kosugi Maru](https://fonts.google.com/specimen/Kosugi+Maru#type-tester)
      * **Fonts sizes**ï¼š
        * **Normal Font Size**ï¼š32

### ğŸ‘‰ ã‚³ãƒ¼ãƒ‰ã®è¨˜è¿°  
  ```gdscript
  # main.gd
  extends Node3D

  var _interface : XRInterface
  var _richText : RichTextLabel
  var _lineCount = 0

  func _ready():
    _interface = XRServer.find_interface("OpenXR")
    if _interface and _interface.is_initialized():
      var _viewport : Viewport = get_viewport()
      _viewport.use_xr = true
    _richText = get_node("Sprite3D/SubViewport/RichTextLabel")

  # ã‚¸ãƒ§ã‚¤ã‚¹ãƒ†ã‚£ãƒƒã‚¯ã®ä¸Šä¸‹ã§ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«
  func _on_xr_controller_3d_right_input_axis_changed(name, value):
    _lineCount -= value.y
    __changeLine(_lineCount)

  # Bã€Aãƒœã‚¿ãƒ³ã§é é€ã‚Š
  func _on_xr_controller_3d_right_button_pressed(name):
    if name == "by_button":
      _lineCount -= _richText.get_visible_line_count() - 1
    if name == "ax_button": 
      _lineCount += _richText.get_visible_line_count() - 1
    __changeLine(_lineCount)

  # æ±ç”¨é–¢æ•°  
  func __changeLine(arg):
    if arg < 0: _lineCount = 0
    if arg > _richText.get_line_count() - _richText.get_visible_line_count() + 1:
      _lineCount = _richText.get_line_count() - _richText.get_visible_line_count() + 1
    _richText.scroll_to_line(round(_lineCount))
  ```
  å‚è€ƒï¼š[å…¥åŠ›ã‚¤ãƒ™ãƒ³ãƒˆã®æ¥ç¶š](#220703-1)  
  å‚è€ƒï¼š[ã‚¸ãƒ§ã‚¤ã‚¹ãƒ†ã‚£ãƒƒã‚¯è§’åº¦](#220608)  

ãƒ‡ãƒ¢ãƒ•ã‚¡ã‚¤ãƒ«ï¼š[TextScroll.zip](https://github.com/mubirou/Godot/blob/main/zip/TextScroll.zip)  
å®Ÿè¡Œç’°å¢ƒï¼šWindows 10ã€Godot 4.0 alpha 13ã€Meta Quest 42.0ã€Quest Linkã€Oculusã‚¢ãƒ—ãƒª  
ä½œæˆè€…ï¼šå¤¢å¯éƒ  
ä½œæˆæ—¥ï¼š2022å¹´08æœˆ08æ—¥  
æ›´æ–°æ—¥ï¼š2022å¹´08æœˆ10æ—¥ ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ãƒãƒ¼è¡¨ç¤ºã«å¯¾å¿œ  
[[TOP]](#TOP)


<a id="220804"></a>
# <b>ã‚·ãƒ¼ãƒ³é·ç§»</b>

1. **ã€‡.tscn** ã‚’è¤‡æ•°ç”¨æ„
1. [ãƒœã‚¿ãƒ³](#220716)ã‚’è¿½åŠ 
1. ã‚³ãƒ¼ãƒ‰ã®ãƒã‚¤ãƒ³ãƒˆ  
    * [**get_tree().change_scene("res://ã€‡.tscn")**](https://docs.godotengine.org/en/latest/tutorials/scripting/scene_tree.html?highlight=get_tree().change_scene#changing-current-scene)
    * [ã‚¿ã‚¤ãƒãƒ¼](https://github.com/mubirou/HelloWorld/blob/master/languages/GDScript/GDScript_reference.md#%E3%82%BF%E3%82%A4%E3%83%9E%E3%83%BC)ã‚’ä½¿ã„[åŠ¹æœéŸ³](#220614)ãŒçµ‚äº†ã—ã¦ã‹ã‚‰é·ç§»  
      ```gdscript
        AudioStreamPlayer3D.play()
        await __loop()
        â€¦â€¦
      func __loop():
        await get_tree().create_timer(0.1).timeout
        if ! AudioStreamPlayer3D.is_playing():
          get_tree().change_scene("res://ã€‡.tscn")
        await __loop()
      ```

ãƒ‡ãƒ¢ãƒ•ã‚¡ã‚¤ãƒ«ï¼š[ChangeScene.zip](https://github.com/mubirou/Godot/blob/main/zip/ChangeScene.zip)   
å®Ÿè¡Œç’°å¢ƒï¼šWindows 10ã€Godot 4.0 alpha 13ã€Meta Quest 42.0ã€Quest Linkã€Oculusã‚¢ãƒ—ãƒª  
ä½œæˆè€…ï¼šå¤¢å¯éƒ  
ä½œæˆæ—¥ï¼š2022å¹´08æœˆ11æ—¥  
[[TOP]](#TOP)


<a id="220805"></a>
# <b>æ‘©æ“¦ä¿‚æ•°ã¨åç™ºä¿‚æ•°</b>

[**CollisionShape3D**](https://docs.godotengine.org/en/latest/classes/class_collisionshape3d.html?highlight=CollisionShape3D#collisionshape3d) åŒå£«ãŒè¡çªã—ãŸéš›ã«å½±éŸ¿ã™ã‚‹ã€Œ[**æ‘©æ“¦ä¿‚æ•°**](https://d-engineer.com/Mechanics/masatu.html)ã€ã¨ã€Œ[**åç™ºä¿‚æ•°**ï¼ˆ**ã¯ã­è¿”ã‚Šä¿‚æ•°**ï¼‰](https://hujiblog.com/archives/2468)ã€ã®è¨­å®š

### ğŸ‘‰ å„ç¨®ãƒãƒ¼ãƒ‰ã‚’ä»¥ä¸‹ã®é€šã‚Šé…ç½®  
ã€€â”œ Boxï¼ˆ**[RigidBody3D](https://docs.godotengine.org/en/latest/classes/class_rigidbody3d.html?highlight=RigidBody3D#rigidbody3d)**ï¼‰  
ã€€â”‚ã€€â”” [**CollisionShape3D**](https://docs.godotengine.org/en/latest/classes/class_collisionshape3d.html?highlight=CollisionShape3D#collisionshape3d)ï¼ˆBoxShape3D å‹ï¼‰  
ã€€â”‚ã€€ã€€â”” [**MeshInstance3D**](https://docs.godotengine.org/en/latest/classes/class_meshinstance3d.html?highlight=MeshInstance3D#meshinstance3d)ï¼ˆBoxMesh å‹ï¼è½ä¸‹ç‰©ï¼‰  
ã€€â”” Slopeï¼ˆ[**StaticBody3D**](https://docs.godotengine.org/en/latest/classes/class_staticbody3d.html?highlight=StaticBody3D#staticbody3d)ï¼‰  
ã€€ã€€ã€€â”” [**CollisionShape3D**](https://docs.godotengine.org/en/latest/classes/class_collisionshape3d.html?highlight=CollisionShape3D#collisionshape3d)ï¼ˆBoxShape3D å‹ï¼‰  
ã€€ã€€ã€€ã€€â”” [**MeshInstance3D**](https://docs.godotengine.org/en/latest/classes/class_meshinstance3d.html?highlight=MeshInstance3D#meshinstance3d)ï¼ˆBoxMesh å‹ï¼æ–œã‚ã®åºŠï¼‰  

### ğŸ‘‰ æ‘©æ“¦ä¿‚æ•°ã¨åç™ºä¿‚æ•°ã‚’è¨­å®š  

* ä¸Šè¨˜ã® Slopeï¼ˆ[**StaticBody3D**](https://docs.godotengine.org/en/latest/classes/class_staticbody3d.html?highlight=StaticBody3D#staticbody3d)ï¼‰ã® [ã‚¤ãƒ³ã‚¹ãƒšã‚¯ã‚¿ãƒ¼]-[**Physics Material Override**]-[æ–°è¦ **PhysicsMaterial**]-[ç·¨é›†]    
  * **Friction**ï¼ˆ[**æ‘©æ“¦ä¿‚æ•°**](https://d-engineer.com/Mechanics/masatu.html)ï¼‰ï¼š0ï½1ï¼ˆåˆæœŸå€¤ï¼š1ï¼‰
  * **Bounce**ï¼ˆ[**åç™ºä¿‚æ•°**](https://hujiblog.com/archives/2468)ï¼‰ï¼š0ï½1ï¼ˆåˆæœŸå€¤ï¼š0ï¼‰  

ğŸ’¡ [**é‡åŠ›åŠ é€Ÿåº¦**](https://www.eps.sci.kyoto-u.ac.jp/research/introduction/07/index.html) ã¯ [ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆ]-[ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆè¨­å®š]-[ä¸€èˆ¬]-[Physics]-[3D]-[**Default Gravity**] ã§è¨­å®šï¼ˆåˆæœŸå€¤ï¼š**9.8**ï¼‰  

ãƒ‡ãƒ¢ãƒ•ã‚¡ã‚¤ãƒ«ï¼š[FrictionBounce.zip](https://github.com/mubirou/Godot/blob/main/zip/FrictionBounce.zip)ï¼ˆå³ãƒˆãƒªã‚¬ãƒ¼ã§è½ä¸‹ã€Bãƒœã‚¿ãƒ³ã§ãƒªã‚»ãƒƒãƒˆï¼‰  
ğŸ“– **æ‘©æ“¦åŠ›**ï¼šé«˜æ ¡ã€ç‰©ç†åŸºç¤ã®åŠ›å­¦ã€ï¼ˆåŠ›ã®ã¤ã‚Šåˆã„ï¼‰  
ğŸ“– **ã¯ã­è¿”ã‚Šä¿‚æ•°**ï¼šé«˜æ ¡ã€ç‰©ç†ã®åŠ›å­¦ã€ï¼ˆåŠ›ç©ã¨é‹å‹•é‡ï¼‰  
å®Ÿè¡Œç’°å¢ƒï¼šWindows 10ã€Godot 4.0 alpha 15ã€Meta Quest 43.0ã€Quest Linkã€Oculusã‚¢ãƒ—ãƒª  
ä½œæˆè€…ï¼šå¤¢å¯éƒ  
ä½œæˆæ—¥ï¼š2022å¹´08æœˆ12æ—¥  
æ›´æ–°æ—¥ï¼š2022å¹´09æœˆ04æ—¥ RigidDynamicBody3D â†’ RigidBody3D  
[[TOP]](#TOP)


<a id="220806"></a>
# <b>å…±æœ‰ãƒ‡ãƒ¼ã‚¿</b>

### ğŸ“ ç‰¹å¾´
  * Unity ã® [staticã‚¯ãƒ©ã‚¹](https://github.com/mubirou/Unity3D/tree/master/study-notes#static%E3%82%AF%E3%83%A9%E3%82%B9) ã® Godot ç‰ˆ
  * è¤‡æ•°ã® .gd ã‹ã‚‰åˆ©ç”¨å¯èƒ½ãªå…±æœ‰ãƒ‡ãƒ¼ã‚¿ãŒä½œã‚Œã‚‹ï¼å¤‰æ›´å¯èƒ½
  * ã‚·ãƒ¼ãƒ³é·ç§»æ™‚ã§ã‚‚ãƒ‡ãƒ¼ã‚¿ã‚’æ¸¡ã™ã“ã¨ãŒå¯èƒ½

### ğŸ‘‰ ã‚°ãƒ­ãƒ¼ãƒãƒ«å¤‰æ•°ã®æº–å‚™  
  1. [ãƒ•ã‚¡ã‚¤ãƒ«ã‚·ã‚¹ãƒ†ãƒ ] ä¸Šã§å³ã‚¯ãƒªãƒƒã‚¯â†’[æ–°è¦ã‚¹ã‚¯ãƒªãƒ—ãƒˆ]
  2. [ãƒ‘ã‚¹] ã¯ "res://**Global.gd**" ã«ã—ã¦ã‚³ãƒ¼ãƒ‰ã‚’è¨˜è¿°  
  ```gdscript
  # Global.gd
  extends Node
  var SCORE = 100
  func Welcome(arg):
    return "Welcome," + arg + "!"
  ```
  3. [ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆ]-[ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆè¨­å®š]-[**Autoload**ï¼ˆè‡ªå‹•èª­ã¿è¾¼ã¿ï¼‰]ã‚’é¸æŠ
  1. [ãƒ‘ã‚¹]-[ğŸ“] ã‹ã‚‰ä¸Šè¨˜ã® **Global.gd** ã‚’é¸æŠã— [è¿½åŠ ]  
  ![image](https://github.com/mubirou/Godot/blob/main/jpg/202208131844.jpg)  
  
### ğŸ‘‰ åˆ©ç”¨æ–¹æ³•  
  è¤‡æ•°ã®ã‚·ãƒ¼ãƒ³ã§åˆ©ç”¨å¯èƒ½  
  ```gdscript
  func _ready():
    â€¦â€¦
    Global.SCORE -= 1
    print(Global.SCORE)
    print(Global.Welcome("ã€‡ã€‡"))
  ```

å‚è€ƒï¼š[ã‚°ãƒ­ãƒ¼ãƒãƒ«å¤‰æ•°](https://github.com/mubirou/HelloWorld/blob/master/languages/GDScript/GDScript_reference.md#%E3%82%B0%E3%83%AD%E3%83%BC%E3%83%90%E3%83%AB%E5%A4%89%E6%95%B0)  
å®Ÿè¡Œç’°å¢ƒï¼šWindows 10ã€Godot 4.0 alpha 14ã€Meta Quest 42.0ã€Quest Linkã€Oculusã‚¢ãƒ—ãƒª  
ä½œæˆè€…ï¼šå¤¢å¯éƒ  
ä½œæˆæ—¥ï¼š2022å¹´08æœˆ13æ—¥  
[[TOP]](#TOP)


<a id="220807"></a>
# <b>ä»–äººã®ãƒ¡ã‚½ãƒƒãƒ‰ã®å®Ÿè¡Œ</b>

* éšå±¤æ§‹é€ ï¼ˆã‚µãƒ³ãƒ—ãƒ«ï¼‰  

  **Main**ï¼ˆNode3Dï¼‰![image](https://github.com/mubirou/Godot-Study-Notes/blob/main/png/script.png)ï¼ˆ**Main.gd**ï¼‰  
ã€€â”œ XROrigin3D  
ã€€â”œ **Box**ï¼ˆMeshInstance3Dï¼‰![image](https://github.com/mubirou/Godot-Study-Notes/blob/main/png/script.png)ï¼ˆ**Box.gd**ï¼‰  
ã€€â”” **Sphere**ï¼ˆMeshInstance3Dï¼‰![image](https://github.com/mubirou/Godot-Study-Notes/blob/main/png/script.png)ï¼ˆ**Sphere.gd**ï¼‰ 

* **Main** ã«ã‚¢ã‚¿ãƒƒãƒã—ãŸã‚¹ã‚¯ãƒªãƒ—ãƒˆï¼ˆ**Main.gd**ï¼‰
  ```gdscript
  # /root/Main(Main.gd)
  extends Node3D
  â€¦â€¦
  func _ready():
    â€¦â€¦
    var _box = get_node("/root/Main/Box")
    var _sphere = get_node("/root/Main/Sphere")
    _box.some_method(self)
    #-> Box/some_method() from Main:[â€¦
    _sphere.some_method(self)
    #-> Sphere/some_method() from Main:[â€¦
  ```
* **Box** ã«ã‚¢ã‚¿ãƒƒãƒã—ãŸã‚¹ã‚¯ãƒªãƒ—ãƒˆï¼ˆ**Box.gd**ï¼‰
  ```gdscript
  # /root/Main/Box(Box.gd)
  extends MeshInstance3D

  func _ready():
    var _main = get_node("/root/Main")
    var _sphere = get_node("/root/Main/Sphere")
    _main.some_method(self)
    #-> Main/some_method() from Box:[â€¦
    _sphere.some_method(self)
    #-> Sphere/some_method() from Box:[â€¦

  func some_method(arg:Object):
    print("Box/some_method() from " + str(arg))
  ```
* **Sphere** ã«ã‚¢ã‚¿ãƒƒãƒã—ãŸã‚¹ã‚¯ãƒªãƒ—ãƒˆï¼ˆ**Sphere.gd**ï¼‰
  ```gdscript
  # /root/Main/Sphere(Sphere.gd)
  extends MeshInstance3D

  func _ready():
    var _main = get_node("/root/Main")
    var _box = get_node("/root/Main/Box")
    _main.some_method(self)
    #-> Main/some_method() from Sphere:[â€¦
    _box.some_method(self)
    #-> Box/some_method() from Sphere:[â€¦

  func some_method(arg:Object):
    print("Sphere/some_method() from " + str(arg))
  ```

å‚è€ƒï¼š[ãƒãƒ¼ãƒ‰ã«ã‚¢ã‚¿ãƒƒãƒã—ãŸã‚¹ã‚¯ãƒªãƒ—ãƒˆå†…ã® self ã«ã¤ã„ã¦](https://bit.ly/3dMF9Qp)  
å®Ÿè¡Œç’°å¢ƒï¼šWindows 10ã€Godot 4.0 alpha 14ã€Meta Quest 42.0ã€Quest Linkã€Oculusã‚¢ãƒ—ãƒª  
ä½œæˆè€…ï¼šå¤¢å¯éƒ  
ä½œæˆæ—¥ï¼š2022å¹´08æœˆ22æ—¥  
[[TOP]](#TOP)


<a id="220620"></a>
# <b>å¤–éƒ¨ãƒ†ã‚­ã‚¹ãƒˆã®èª­ã¿æ›¸ã</b>
VRã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ©ãƒ¼ã®ï¼¢ãƒœã‚¿ãƒ³ã§ãƒ‡ãƒ¼ã‚¿ï¼ˆç¾åœ¨ã®æ™‚é–“ï¼‰ã‚’ä¿å­˜ã€ï¼¡ãƒœã‚¿ãƒ³ã§ãƒ‡ãƒ¼ã‚¿ã‚’èª­ã¿è¾¼ã‚€**ã‚µãƒ³ãƒ—ãƒ«ã‚³ãƒ¼ãƒ‰**  

```gdscript
# /root/Main(Main.gd)
extends Node3D
â€¦â€¦
# å¤–éƒ¨ãƒ†ã‚­ã‚¹ãƒˆã®ã€Œèª­ã¿è¾¼ã¿ã€ç”¨
func __loadText():
  var _file = File.new()
  # ãƒ•ã‚¡ã‚¤ãƒ«ãŒç„¡ã„å ´åˆã¯è‡ªå‹•çš„ã«ç”Ÿæˆ
  _file.open("res://save_text.dat", File.READ)
  #_file.open("user://save_text.dat", File.READ)
  var _text = _file.get_as_text()
  _file.close()
  return _text

# å¤–éƒ¨ãƒ†ã‚­ã‚¹ãƒˆã®ã€Œæ›¸ãè¾¼ã¿ã€ç”¨
func __saveText(arg):
  var _file = File.new()
  # ãƒ•ã‚¡ã‚¤ãƒ«ãŒç„¡ã„å ´åˆã¯è‡ªå‹•çš„ã«ç”Ÿæˆ
  _file.open("res://save_text.dat", File.WRITE)
  #_file.open("user://save_text.dat", File.WRITE)
  _file.store_string(str(arg))
  _file.close()

func _on_xr_controller_3d_button_pressed(_name:String):
  if _name == "by_button":
    # å¤–éƒ¨ãƒ†ã‚­ã‚¹ãƒˆã®æ›¸ãè¾¼ã¿
    var _now:Dictionary = Time.get_datetime_dict_from_system()
    var _h = _now.hour
    var _m = _now.minute
    var _s = _now.second
    if _h < 10: _h = "0" + str(_h)
    if _m < 10: _m = "0" + str(_m)
    if _s < 10: _s = "0" + str(_s)
    var _newText:String = str(_h) + ":" + str(_m) + ":" + str(_s)
    __saveText(_newText)
    print("ã‚»ãƒ¼ãƒ–ã—ã¾ã—ãŸ")
  elif _name == "ax_button":
    # å¤–éƒ¨ãƒ†ã‚­ã‚¹ãƒˆã®èª­ã¿è¾¼ã¿
    var _loadText = __loadText()
    print("èª­è¾¼ãƒ‡ãƒ¼ã‚¿: " + _loadText) #-> "èª­è¾¼ãƒ‡ãƒ¼ã‚¿: 23:26:31"
```

### ğŸ“ ä¿å­˜å ´æ‰€  

1. **[user://](https://docs.godotengine.org/en/latest/tutorials/scripting/filesystem.html?highlight=user%3A%2F%2F#user-path)** ã®å ´åˆâ€¦  
  C:\Users\User name\AppData\Roaming\Godot\app_userdata\ã€‡ã€‡\save_text.dat  
  â€»ã€‡ã€‡ã¯ [ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆ]-[ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆè¨­å®š]-[ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³]-[æ§‹æˆ]-[åå‰] ã«ä¾å­˜  

1. **[res://](https://docs.godotengine.org/en/latest/tutorials/scripting/filesystem.html?highlight=user%3A%2F%2F#resource-path)** ã®å ´åˆâ€¦  
  ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ãƒ«ãƒ¼ãƒˆã«ä¿å­˜ï¼ˆGodotä¸Šã§ã¯è¦‹ãˆãªã„ï¼‰  

å‚è€ƒï¼š[GODOT DOCSï¼ˆ**File**ï¼‰](https://docs.godotengine.org/en/latest/classes/class_file.html?highlight=File#file)  
å‚è€ƒï¼š[GODOT DOCSï¼ˆ**File paths in Godot projects**ï¼‰](https://bit.ly/3c71OGM)  
å‚è€ƒï¼š[GODOT DOCSï¼ˆ**Accessing persistent user data**ï¼‰](https://bit.ly/3whtVd5)  
å‚è€ƒï¼š[VRã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ©ãƒ¼ã®å…¥åŠ›ã‚¤ãƒ™ãƒ³ãƒˆ](https://bit.ly/3T7Z2S3)  
å®Ÿè¡Œç’°å¢ƒï¼šWindows 10ã€Godot 4.0 alpha 14ã€Meta Quest 42.0ã€Quest Linkã€Oculusã‚¢ãƒ—ãƒª  
ä½œæˆè€…ï¼šå¤¢å¯éƒ  
ä½œæˆæ—¥ï¼š2022å¹´06æœˆ28æ—¥  
æ›´æ–°æ—¥ï¼š2022å¹´08æœˆ22æ—¥  
[[TOP]](#TOP)


<a id="220621"></a>
# <b>JSONã®è§£æ</b>

1. [**sample.json**](https://raw.githubusercontent.com/mubirou/Godot/main/json/sample.json) ã®æº–å‚™
1. [JSONæ•´å½¢ãƒ„ãƒ¼ãƒ«](https://tools.m-bsys.com/development_tooles/json-beautifier.php)ãªã©ã§ç¢ºèª
1. Godot ãƒ—ãƒ«ã‚¸ã‚§ã‚¯ãƒˆã® **res://sample.json** ã¨ã—ã¦ä¿å­˜

#### ã‚µãƒ³ãƒ—ãƒ«ã‚³ãƒ¼ãƒ‰

```gdscript
# /root/Main(Main.gd)
extends Node3D
â€¦â€¦
func _ready():
  â€¦â€¦
  #===================
  # å¤–éƒ¨JSONã®èª­ã¿è¾¼ã¿
  #===================
  var _file = File.new()
  _file.open("res://sample.json", File.READ)
  var _load_data:String = _file.get_as_text()
  _file.close()
    
  #=================
  # JSONãƒ‡ãƒ¼ã‚¿ã®è§£æ
  #=================
  var _json = JSON.new()
  _json.parse(_load_data) # JSONã®è§£æ
  var _dic:Dictionary = _json.get_data() # or Array
  
  #=============================
  # é€£æƒ³é…åˆ—ï¼ˆDictionaryï¼‰ã®å‡¦ç†
  #=============================
  print(_dic["002"]["title"])
  #-> VRã‚³ãƒ³ãƒ†ãƒ³ãƒ„é–‹ç™ºã‚¬ã‚¤ãƒ‰ 2017
  print(_dic["002"]["isbn"])
  #-> 978-4-8443-6666-9
  print(_dic["002"]["price"])
  #-> 2600
  var _contents = _dic["002"]["contents"]
  for _tmp in _contents:
    var _chapter = _tmp["chapter"]
    print(str(_chapter)+":"+_tmp["content"])
    #-> 1:è¿‘ä»£VRã®åŸºç¤çŸ¥è­˜ ãªã© 
```

å‚è€ƒï¼š[å¤–éƒ¨ãƒ†ã‚­ã‚¹ãƒˆã®èª­ã¿æ›¸ã](#220620)  
å‚è€ƒï¼š[GODOT DOCSï¼ˆ**JSON**ï¼‰](https://docs.godotengine.org/en/latest/classes/class_json.html?highlight=JSON#json)  
å‚è€ƒï¼š[GDScriptï¼ˆé€£æƒ³é…åˆ—ï¼‰](https://bit.ly/3TdtQ46)  
å®Ÿè¡Œç’°å¢ƒï¼šWindows 10ã€Godot 4.0 alpha 14  
ä½œæˆè€…ï¼šå¤¢å¯éƒ  
ä½œæˆæ—¥ï¼š2022å¹´06æœˆ28æ—¥  
æ›´æ–°æ—¥ï¼š2022å¹´08æœˆ23æ—¥ Godot 4.0 å¯¾å¿œ  
[[TOP]](#TOP)


<a id="220622"></a>
# <b>PHP+SQLite</b>

### ğŸ‘‰ PHP+SQLite ã®æº–å‚™

1. [Hello,world!](https://github.com/mubirou/HelloWorld/blob/master/languages/SQLite/SQLite_win.md#sqlite-windows-) ã‚’å‚è€ƒã« **PHP**ã€**SQLite** ã®é–‹ç™ºç’°å¢ƒã‚’æº–å‚™ã™ã‚‹

2. **C:\xampp\htdocs** ã«ä»¥ä¸‹ã® **test.php** ã‚’ä½œæˆ

  ```php
  <?php
      $con = new PDO('sqlite::memory:', null, null);
      $statement = $con->prepare('SELECT sqlite_version()');
      $statement->execute();
      echo $statement->fetchColumn(); //-> 3.36.0
  ?>
  ```

3. http://localhost/test.php ã‚’å®Ÿè¡Œï¼ˆå‹•ä½œç¢ºèªï¼‰

### ğŸ‘‰ ã‚µãƒ³ãƒ—ãƒ«ã‚³ãƒ¼ãƒ‰
ã€Œ[PHP+MySQL](#220623)ã€ã¨å…¨ãåŒã˜  
ã€Œ[Python+SQLite](#220624) / [Python+MySQL](#220625)ã€ã¨ã»ã¼åŒã˜ï¼ˆ**.py** â†’ **.php**ï¼‰ 

```gdscript
# /root/Main(Main.gd)
extends Node3D
â€¦â€¦
func _ready():
  â€¦â€¦  
  var _rq = HTTPRequest.new()
  add_child(_rq)
  _rq.request_completed.connect(completed)
  _rq.request("http://127.0.0.1/test.php")

func completed(arg1, arg2, arg3, arg4):
  print(arg4.get_string_from_utf8()) #-> 3.36.0
```

å‚è€ƒï¼š[GODOT DOCS (**HTTPRequest**ï¼‰](https://docs.godotengine.org/en/latest/classes/class_httprequest.html?highlight=HTTPRequest)  
å®Ÿè¡Œç’°å¢ƒï¼šWindows 10ã€Godot 4.0 alpha 14ã€Apache 2.4.53ã€**PHP** 8.1.6ã€**SQLite** 3.36.0  
ä½œæˆè€…ï¼šå¤¢å¯éƒ  
ä½œæˆæ—¥ï¼š2022å¹´06æœˆ29æ—¥  
æ›´æ–°æ—¥ï¼š2022å¹´08æœˆ23æ—¥ Godot 4.0 å¯¾å¿œ  
[[TOP]](#TOP)


<a id="220623"></a>
# <b>PHP+MySQL</b>

### ğŸ‘‰ PHP+MySQLï¼ˆ[**MariaDB**](https://ja.wikipedia.org/wiki/MariaDB)ï¼‰ã®æº–å‚™

1. [Hello,world!](https://github.com/mubirou/HelloWorld/blob/master/languages/MySQL/MySQL_win.md) ã‚’å‚è€ƒã« **PHP**ã€**MySQL** ã®é–‹ç™ºç’°å¢ƒã‚’æº–å‚™ã™ã‚‹

2. **C:\xampp\htdocs** ã«ä»¥ä¸‹ã® **test.php** ã‚’ä½œæˆ

  ```php
  <?php
    $con = new PDO('mysql::memory:', 'root', '');
    $statement = $con->prepare("SELECT VERSION()");
    $statement->execute();
    echo $statement->fetchColumn(); //-> 10.4.24-MariaDB
  ?>
  ```

3. http://localhost/test.php ã‚’å®Ÿè¡Œï¼ˆå‹•ä½œç¢ºèªï¼‰

### ğŸ‘‰ ã‚µãƒ³ãƒ—ãƒ«ã‚³ãƒ¼ãƒ‰
ã€Œ[PHP+SQLite](#220622)ã€ã¨å…¨ãåŒã˜  
ã€Œ[Python+SQLite](#220624) / [Python+MySQL](#220625)ã€ã¨ã»ã¼åŒã˜ï¼ˆ**.py** â†’ **.php**ï¼‰ 
```gdscript
# /root/Main(Main.gd)
extends Node3D
â€¦â€¦
func _ready():
  â€¦â€¦
  var _rq = HTTPRequest.new()
  add_child(_rq)
  _rq.request_completed.connect(completed)
  _rq.request("http://127.0.0.1/test.php")

func completed(arg1, arg2, arg3, arg4):
  print(arg4.get_string_from_utf8()) #-> 3.36.0
```

å®Ÿè¡Œç’°å¢ƒï¼šWindows 10ã€Godot 4.0 alpha 14ã€Apache 2.4.53ã€**PHP** 8.1.6ã€**[MariaDB](https://ja.wikipedia.org/wiki/MariaDB)** 10.4.24  
ä½œæˆè€…ï¼šå¤¢å¯éƒ  
ä½œæˆæ—¥ï¼š2022å¹´06æœˆ29æ—¥  
æ›´æ–°æ—¥ï¼š2022å¹´08æœˆ23æ—¥ Godot 4.0 å¯¾å¿œ  
[[TOP]](#TOP)


<a id="220624"></a>
# <b>Python+SQLite</b>

### ğŸ‘‰ **Python** ã®å‹•ä½œç¢ºèª
* [Hello,world!](https://github.com/mubirou/HelloWorld/blob/master/languages/Python/Python_win.md) ã‚’å‚è€ƒã« **Python** ã®é–‹ç™ºç’°å¢ƒã‚’æº–å‚™ã™ã‚‹

### ğŸ‘‰ **XAMPP** ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ï¼ˆ[å‚è€ƒ](https://github.com/mubirou/HelloWorld/blob/master/languages/SQLite/SQLite_win.md#sqlite-windows-)ï¼‰  

### ğŸ‘‰ **XAMPP** ã« **Python** ã‚’è¿½åŠ ã™ã‚‹  

1. [XAMPP]-[Apache]-[config]-[**Apache(httpd.conf)**] ã‚’é–‹ã
2. **httpd.conf** ã®æœ€çµ‚è¡Œã«ä»¥ä¸‹ã‚’è¿½åŠ ï½¥å‹•ä½œç¢ºèªã™ã‚‹

    ```conf
    # Python Settings
    AddHandler cgi-script .py
    ScriptInterpreterSource Registry-Strict
    ```

3. [XAMPP]-[**Apache**]-[Start] ã§ Web ã‚µãƒ¼ãƒï¼ˆ**Apache**ï¼‰ã‚’èµ·å‹•
3. **C:\xampp\htdocs** ã«ä»¥ä¸‹ã® **test.py** ã‚’ä½œæˆ

    ```py
    #!C:\Users\User name\AppData\Local\Programs\Python\Python310\python.exe
    # -*- coding: utf-8 -*-
    print("Content-Type: text/html\n")

    import platform
    print(platform.python_version()) #-> 3.10.5
    ```
    ğŸ‘† æœ€åˆã®3è¡Œã¯å¿…é ˆï¼ˆæ±ºã‚æ‰“ã¡ï¼‰  
    ğŸ‘† 1è¡Œç›®ã¯ç’°å¢ƒã«åˆã‚ã›ã¦ç¢ºèªï¼†è¨­å®š  
    ï¼ˆè¨­å®šãŒç•°ãªã‚‹ã¨ "Internal Server Error" ãŒå‡ºã‚‹ï¼‰  


4. Web ãƒ–ãƒ©ã‚¦ã‚¶ã§ **localhost/test.py** ã‚’é–‹ã
5. Python ã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ï¼ˆ3.10.5ï¼‰ãŒè¡¨ç¤ºã•ã‚ŒãŸã‚‰æˆåŠŸï¼

### ğŸ‘‰ Python + SQLite ã®å‹•ä½œç¢ºèª  

1. **C:\xampp\htdocs** ã® **test.py** ã‚’ä»¥ä¸‹ã®é€šã‚Šã«è¨˜è¿°

    ```py
    #!C:\Users\User name\AppData\Local\Programs\Python\Python310\python.exe
    # -*- coding: utf-8 -*-
    print("Content-Type: text/html\n")

    import sqlite3

    _con = sqlite3.connect(':memory:')
    _cur = _con.cursor()
    _cur.execute('SELECT sqlite_version()')
    _result = _cur.fetchall()
    print(_result[0][0]) #-> 3.37.2
    ```

4. Web ãƒ–ãƒ©ã‚¦ã‚¶ã§ **localhost/test.py** ã‚’é–‹ã
5. SQLite ã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ï¼ˆ3.37.2ï¼‰ãŒè¡¨ç¤ºã•ã‚ŒãŸã‚‰æˆåŠŸï¼

### ğŸ‘‰ ã‚µãƒ³ãƒ—ãƒ«ã‚³ãƒ¼ãƒ‰
ã€Œ[Python+MySQL](#220625)ã€ã¨å…¨ãåŒã˜  
ã€Œ[PHP+SQLite](#220622) / [PHP+MySQL](#220623)ã€ã¨ã»ã¼åŒã˜ï¼ˆ**.php** â†’ **.py**ï¼‰   
```gdscript
# /root/Main(Main.gd)
extends Node3D
â€¦â€¦
func _ready():
  â€¦â€¦
  var _rq = HTTPRequest.new()
  add_child(_rq)
  _rq.request_completed.connect(completed)
  _rq.request("http://127.0.0.1/test.py")

func completed(arg1, arg2, arg3, arg4):
  print(arg4.get_string_from_utf8()) #-> 3.37.2
```

å®Ÿè¡Œç’°å¢ƒï¼šWindows 10ã€Godot 4.0 alpha 14ã€Apache 2.4.53ã€**Python** 3.10.5ã€**SQLite** 3.37.2  
ä½œæˆè€…ï¼šå¤¢å¯éƒ  
ä½œæˆæ—¥ï¼š2022å¹´06æœˆ29æ—¥  
æ›´æ–°æ—¥ï¼š2022å¹´08æœˆ24æ—¥ Godot 4.0 å¯¾å¿œ  
[[TOP]](#TOP)


<a id="220625"></a>
# <b>Python+MySQL</b>

### ğŸ‘‰ Python ã¨ MySQLï¼ˆ[**MariaDB**](https://ja.wikipedia.org/wiki/MariaDB)ï¼‰ã®æº–å‚™

1. [Python+SQLite](#220624) ã¨ [PHP+MySQL](#220623) ã‚’å‚è€ƒã« **Python** ã¨ **MySQLï¼ˆMariaDBï¼‰** ã®å‹•ä½œç¢ºèªã‚’ã™ã‚‹  
âš  [ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹](https://bit.ly/3wonu7Y)ï¼ˆ**test_db**ï¼‰ã‚’ä½œæˆã™ã‚‹ã“ã¨ï¼    

1. ã‚³ãƒãƒ³ãƒ‰ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã‚’èµ·å‹•ã€æ¬¡ã®ã‚³ãƒãƒ³ãƒ‰ã§ [MySQL ã‚³ãƒã‚¯ã‚¿](https://www.mysql.com/jp/products/connector/)ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«  

    ```
    >pip install mysql-connector-python
    ```
### ğŸ‘‰ Python + MySQLï¼ˆMariaDBï¼‰ã®å‹•ä½œç¢ºèª

1. **C:\xampp\htdocs** ã® **test.py** ã‚’ä»¥ä¸‹ã®é€šã‚Šã«è¨˜è¿°

  ```py
  #!C:\Users\Owner\AppData\Local\Programs\Python\Python310\python.exe
  # -*- coding: utf-8 -*-
  print("Content-Type: text/html\n")

  import mysql.connector

  _con = mysql.connector.connect(user='root', passwd='', host='localhost', db='test_db')
  _cur = _con.cursor()
  _cur.execute('SELECT VERSION()')
  _result = _cur.fetchall()
  print(_result[0][0]) #-> 10.4.24-MariaDB
  ```
  ğŸ‘† æœ€åˆã®3è¡Œã¯å¿…é ˆï¼ˆæ±ºã‚æ‰“ã¡ï¼‰  
  ğŸ‘† 1è¡Œç›®ã¯ç’°å¢ƒã«åˆã‚ã›ã¦ç¢ºèªï¼†è¨­å®š  
  ï¼ˆè¨­å®šãŒç•°ãªã‚‹ã¨ "Internal Server Error" ãŒå‡ºã‚‹ï¼‰  

2. [XAMPP]-[**MySQL**]-[Start] ã§ **MySQLï¼ˆMariaDBï¼‰** ã‚’èµ·å‹•
3. Web ãƒ–ãƒ©ã‚¦ã‚¶ã§ **localhost/test.py** ã‚’é–‹ã
4. MySQLï¼ˆMariaDBï¼‰ã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ãŒè¡¨ç¤ºã•ã‚ŒãŸã‚‰æˆåŠŸï¼

### ğŸ‘‰ ã‚µãƒ³ãƒ—ãƒ«ã‚³ãƒ¼ãƒ‰
ã€Œ[Python+SQLite](#220624)ã€ã¨å…¨ãåŒã˜  
ã€Œ[PHP+SQLite](#220622) / [PHP+MySQL](#220623)ã€ã¨ã»ã¼åŒã˜ï¼ˆ**.php** â†’ **.py**ï¼‰
```gdscript
# /root/Main(Main.gd)
extends Node3D
â€¦â€¦
func _ready():
  â€¦â€¦
  var _rq = HTTPRequest.new()
  add_child(_rq)
  _rq.request_completed.connect(completed)
  _rq.request("http://127.0.0.1/test.py")

func completed(arg1, arg2, arg3, arg4):
  print(arg4.get_string_from_utf8()) #-> 10.4.24-MariaDB
```

å®Ÿè¡Œç’°å¢ƒï¼šWindows 10ã€Godot 4.0 alpha 14ã€Apache 2.4.53ã€**Python** 3.10.5ã€[**MariaDB**](https://ja.wikipedia.org/wiki/MariaDB) 10.4.24ã€[**mysql-connector-python**](https://pypi.org/project/mysql-connector-python/) 8.0.29  
ä½œæˆè€…ï¼šå¤¢å¯éƒ  
ä½œæˆæ—¥ï¼š2022å¹´06æœˆ29æ—¥  
æ›´æ–°æ—¥ï¼š2022å¹´08æœˆ24æ—¥  Godot 4.0 å¯¾å¿œ  
[[TOP]](#TOP)


<a id="220808"></a>
# <b>æ©Ÿæ¢°å¼æ™‚è¨ˆ</b>

![image](https://github.com/mubirou/Godot/blob/main/jpg/202208301311.jpg)

ï¼ˆä¸»ãªéšå±¤æ§‹é€ ï¼‰  
Mainï¼ˆNode3Dï¼‰  
ã€€â”” clockï¼ˆNode3Dï¼‰  
ã€€ã€€ã€€â”œ clock_boardï¼ˆæ–‡å­—ç›¤ã‚’å«ã‚€æœ¬ä½“ï¼‰  
ã€€ã€€ã€€â”‚ã€€â”œ **short_hand_center**ï¼ˆ**Node3D**ï¼‰  
ã€€ã€€ã€€â”‚ã€€â”‚ã€€â”” short_handï¼ˆ**æ™‚é‡**ï¼‰  
ã€€ã€€ã€€â”‚ã€€â”œ **long_hand_center**ï¼ˆ**Node3D**ï¼‰  
ã€€ã€€ã€€â”‚ã€€â”‚ã€€â”” long_handï¼ˆ**åˆ†é‡**ï¼‰  
ã€€ã€€ã€€â”‚ã€€â”œ second_hand_boardï¼ˆã‚¹ãƒ¢ãƒ¼ãƒ«ã‚»ã‚³ãƒ³ãƒ‰æ–‡å­—ç›¤ï¼‰  
ã€€ã€€ã€€â”‚ã€€â”‚ã€€â”œ **second_hand_center**ï¼ˆ**Node3D**ï¼‰  
ã€€ã€€ã€€â”‚ã€€â”‚ã€€â”‚ã€€â”” second_handï¼ˆ**ç§’é‡**ï¼‰  
ã€€ã€€ã€€â”‚ã€€â”‚ã€€â”” center_pinï¼ˆç§’é‡ã®ä¸­å¿ƒï¼‰  
ã€€ã€€ã€€â”‚ã€€â”” center_pinï¼ˆæ™‚åˆ†é‡ã®ä¸­å¿ƒï¼‰  
ã€€ã€€ã€€â”” windshieldï¼ˆé€æ˜ãªé¢¨é˜²ï¼‰  

```gdscript
# /root/Main(Main.gd)
extends Node3D

var _interface:XRInterface
var __second_hand:Node3D
var __long_hand:Node3D
var __short_hand:Node3D
var __current_second # null or int
var __timer:Timer = Timer.new()
var __start:int
var __demical:float

func _ready():
  _interface = XRServer.find_interface("OpenXR")
  if _interface and _interface.is_initialized():
    var _viewport:Viewport = get_viewport()
    _viewport.use_xr = true
  
  __short_hand = $clock/clock_board/short_hand_center
  __long_hand = $clock/clock_board/long_hand_center
  __second_hand = $clock/clock_board/second_hand_board/second_hand_center

func _process(_delta):
  var _now = Time.get_datetime_dict_from_system()
  
  # æ©Ÿæ¢°å¼æ™‚è¨ˆé¢¨ï¼ˆç´„6æŒ¯å‹•ï¼‰å‡¦ç†ï¼åŠ›æŠ€
  if (__current_second != null):
    if (__current_second != _now.second):
      # ç§’ãŒåˆ‡ã‚Šæ›¿ã‚ã£ãŸã‚¿ã‚¤ãƒŸãƒ³ã‚°ã§å‡¦ç†
      __start = Time.get_unix_time_from_system()
      __demical = 0
      __timer.set_wait_time(0.167) # ç´„6æŒ¯å‹•
      __timer.connect("timeout", loop)
      add_child(__timer)
      __timer.start()
  __current_second = _now.second

  __short_hand.rotation.y = - deg_to_rad(_now.hour * 30 + _now.minute * 0.5)
  __long_hand.rotation.y = - deg_to_rad(_now.minute * 6 + _now.second / 60.0 * 6)
  __second_hand.rotation.y = - deg_to_rad((_now.second + __demical) * 6.0)
  
  #__short_hand.rotation.y = - PI * (_now.hour * 30 + _now.minute * 0.5) / 180
  #__long_hand.rotation.y = - PI * (_now.minute * 6 + _now.second / 60.0 * 6) / 180
  #__second_hand.rotation.y = - PI * ((_now.second + __demical) * 6.0) / 180

func loop():
  __demical = Time.get_unix_time_from_system() - __start
```

ãƒ‡ãƒ¢ãƒ•ã‚¡ã‚¤ãƒ«ï¼š[clock.zip](https://github.com/mubirou/Godot/blob/main/zip/clock.zip)  
å‚è€ƒï¼š[ãƒ•ã‚¿ãƒã‚¼ãƒŸ](https://futabazemi.net/unity/pivot_change/)  
å‚è€ƒï¼š[Poly Havenï¼ˆãƒ†ã‚¯ã‚¹ãƒãƒ£ï¼‰](https://polyhaven.com/textures)  
å®Ÿè¡Œç’°å¢ƒï¼šWindows 10ã€Godot 4.0 alpha 15ã€Meta Quest 43.0ã€Quest Linkã€Oculusã‚¢ãƒ—ãƒª  
ä½œæˆè€…ï¼šå¤¢å¯éƒ  
ä½œæˆæ—¥ï¼š2022å¹´08æœˆ30æ—¥  
æ›´æ–°æ—¥ï¼š2022å¹´09æœˆ01æ—¥ deg2rad() â†’ deg_to_rad() ã«å¤‰æ›´  
[[TOP]](#TOP)


<a id="220809"></a>
# <b>æ´‹æ›¸å°èª¬</b>
ï¼ˆæ³¨æ„ï¼‰[é’ç©ºæ–‡åº«](https://www.aozora.gr.jp/cards/000081/files/43754_17659.html)ãªã©ãƒãƒ«ãƒãƒã‚¤ãƒˆæ–‡å­—ã¯å¯¾å¿œã—ã¦ã„ã¾ã›ã‚“  

![image](https://github.com/mubirou/Godot/blob/main/jpg/202209010733.jpg)

### ğŸ‘‰ å°èª¬ã®ç”¨æ„

1. [**TheRestaurantOfManyOrders.html**](https://github.com/mubirou/Godot-Study-Notes/blob/main/html/TheRestaurantOfManyOrders.html) ã‚’ç”¨æ„
1. ä¸Šè¨˜ã®ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ Web ä¸Šã«ç½®ãï¼ˆä»Šå›ã¯ **C:\xampp\htdocs** å†…ã«é…ç½®ã— **http://localhost/TheRestaurantOfManyOrders.html** ã§é–²è¦§ã§ãã‚‹ã‚ˆã†ã«ã™ã‚‹ï¼‰ 

### ğŸ‘‰ Python å´ã®æº–å‚™

1. [**Hello,world!**](https://github.com/mubirou/HelloWorld/blob/master/languages/Python/Python_win.md) ã‚’å‚è€ƒã« [**Python**]((https://www.python.jp/)) ã®é–‹ç™ºç’°å¢ƒã‚’æº–å‚™ã™ã‚‹
1. [**Python+SQLite**](#220624) ã‚’å‚è€ƒã« **XAMPP** + **Python** ã®é–‹ç™ºç’°å¢ƒã‚’æº–å‚™ã™ã‚‹
1. **C:\xampp\htdocs** ã«ä»¥ä¸‹ã® Python ãƒ•ã‚¡ã‚¤ãƒ«ï¼ˆ**sample.py**ï¼‰ã‚’ä½œæˆã™ã‚‹  
    ğŸ‘‡ æœ€åˆã®3è¡Œã¯å¿…é ˆï¼ˆæ±ºã‚æ‰“ã¡ï¼‰  
    ğŸ‘‡ 1è¡Œç›®ã¯ç’°å¢ƒã«åˆã‚ã›ã¦ç¢ºèªï¼†è¨­å®š  
    ï¼ˆè¨­å®šãŒç•°ãªã‚‹ã¨ "Internal Server Error" ãŒå‡ºã‚‹ï¼‰
    ```python
    #!C:\Users\mubirou\AppData\Local\Programs\Python\Python310\python.exe
    # -*- coding: utf_8 -*-
    print("Content-Type: text/html\n")

    import urllib.request
    from bs4 import BeautifulSoup # äº‹å‰ã« "pip install bs4" ãŒå¿…è¦

    _url = "http://127.0.0.1/TheRestaurantOfManyOrders.html"

    _request = urllib.request.Request(_url)
    _response = urllib.request.urlopen(_request)
    _html = _response.read()
    _html = _html.decode("utf-8") # "shift_jis" etc...

    # Webã‚¹ã‚¯ãƒ¬ã‚¤ãƒ”ãƒ³ã‚°
    _soup = BeautifulSoup(_html, "html.parser")

    # ãƒ‡ãƒ¼ã‚¿ã®æŠ½å‡º
    print(_soup.find("body").text) # "title" etc...
    ```
    #### ã‚‚ã—ãã¯â€¦
    ```python
    #!C:\Users\mubirou\AppData\Local\Programs\Python\Python310\python.exe
    # -*- coding: utf-8 -*-
    print("Content-Type: text/html\n")

    import requests # äº‹å‰ã« "pip install requests" ã‚’è¡Œã†
    from bs4 import BeautifulSoup # äº‹å‰ã« "pip install bs4" ã‚’è¡Œã†

    _url = "https://www.aozora.gr.jp/cards/000081/files/43754_17659.html"

    _response = requests.get(_url)
    _response.encoding = _response.apparent_encoding
    _html = _response.text

    # Webã‚¹ã‚¯ãƒ¬ã‚¤ãƒ”ãƒ³ã‚°
    _soup = BeautifulSoup(_html, "html.parser")

    # ãƒ‡ãƒ¼ã‚¿ã®æŠ½å‡º
    #print(_soup.find("title").text)
    print(_soup.find("body").text)
    ```  
1. "**http://localhost/sample.py**" ã«ã‚¢ã‚¯ã‚»ã‚¹ã—ã¦æœ¬æ–‡ãŒè¡¨ç¤ºã•ã‚Œã‚Œã°æˆåŠŸï¼  

### ğŸ‘‰ Godot å´ã®å‡¦ç†

1. [**ãƒ†ã‚­ã‚¹ãƒˆã®ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«**](#220803) ã®ãƒ‡ãƒ¢ãƒ•ã‚¡ã‚¤ãƒ«ï¼ˆ[**TextScroll.zip**](https://github.com/mubirou/Godot/blob/main/zip/TextScroll.zip)ï¼‰ã‚’ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰  
1. ã‚³ãƒ¼ãƒ‰ã®å‰åŠéƒ¨åˆ†ï¼ˆ_ready() ãƒ¡ã‚½ãƒƒãƒ‰ã¾ã§ï¼‰ã‚’ä»¥ä¸‹ã®é€šã‚Šã«æ›¸ãæ›ãˆã‚‹
    ```gdscript
    # /root/Main(Main.gd)
    extends Node3D

    var _interface : XRInterface
    var _richText : RichTextLabel
    var _lineCount = 0

    func _ready():
      _interface = XRServer.find_interface("OpenXR")
      if _interface and _interface.is_initialized():
        var _viewport : Viewport = get_viewport()
        _viewport.use_xr = true

      _richText = get_node("Sprite3D/SubViewport/RichTextLabel")
      var _rq = HTTPRequest.new()
      add_child(_rq)
      _rq.request_completed.connect(completed)
      _rq.request("http://127.0.0.1/sample.py")

    func completed(arg1, arg2, arg3, arg4:PackedByteArray):
      var _text:String = arg4.get_string_from_utf8()
      _richText.text = _text
    ```
1. å®Ÿè¡Œã™ã‚‹ã¨ [**ãƒ†ã‚­ã‚¹ãƒˆã®ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«**](#220803) ã§ã¯æ—¥æœ¬èªè¡¨ç¤ºã ã£ãŸå†…å®¹ãŒè‹±èªã«ç½®ãæ›ã‚ã£ã¦ã„ãŸã‚‰æˆåŠŸï¼

å‚è€ƒï¼š[**ãƒ†ã‚­ã‚¹ãƒˆã®ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«**](#220803)  
å®Ÿè¡Œç’°å¢ƒï¼šWindows 10ã€Godot 4.0 alpha 14ã€Meta Quest 43.0ã€Quest Linkã€Oculusã‚¢ãƒ—ãƒªã€Apache 2.4.53ã€[**Python**](https://www.python.jp/) 3.10.5ã€[**beautifulsoup4**](https://pypi.org/project/beautifulsoup4/) 4.11.1ã€[**requests**](https://pypi.org/project/requests/) 2.28.1  
ä½œæˆè€…ï¼šå¤¢å¯éƒ  
ä½œæˆæ—¥ï¼š2022å¹´08æœˆ31æ—¥  
[[TOP]](#TOP)


<a id="220504"></a>
# <b>è¿½è·¡</b>
Unityç‰ˆã®ã€Œ[001 è¿½è·¡](https://bit.ly/3pUYB0f)ã€ã®Godotç‰ˆ  

![image](https://github.com/mubirou/Godot/blob/main/jpg/202209010744.jpg)

```gdscript
# /root/Main(Main.gd)
extends Node3D

var _interface:XRInterface
var _rightHand:MeshInstance3D
var _piece0:Node3D
var _pieceArray = []
var _pieceNum = 50
var _isRTriggerHold = false

func _ready():
  _interface = XRServer.find_interface("OpenXR")
  if _interface and _interface.is_initialized():
    var _viewport : Viewport = get_viewport()
    _viewport.use_xr = true
  
  _rightHand = get_node("XROrigin3D/XRController3D_Right/Controller")
  _piece0 = get_node("piece")
  _pieceArray.append(_piece0)
  for i in range(1, _pieceNum):
    var _thePiece = _piece0.duplicate()
    add_child(_thePiece)
    _pieceArray.append(_thePiece)
  _piece0.hide()

func _process(delta):
  if !_isRTriggerHold: return
  _piece0.position = _rightHand.global_transform.origin
  for i in range(0, _pieceNum):
    var _thePiece  = _pieceArray[i]
    var _frontPiece = _pieceArray[i-1]
    var _disX = _frontPiece.position.x - _thePiece.position.x
    var _disY = _frontPiece.position.y - _thePiece.position.y
    var _disZ = _frontPiece.position.z - _thePiece.position.z
    _thePiece.look_at(_frontPiece.position)
    var _thePos = _thePiece.position
    _thePos.x += _disX / 8
    _thePos.y += _disY / 8
    _thePos.z += _disZ / 8
    _thePiece.position = _thePos

func _on_xr_controller_3d_right_button_pressed(name):
  if name == "trigger_click":
    _isRTriggerHold = true
  
func _on_xr_controller_3d_right_button_released(name):
  if name == "trigger_click":
    _isRTriggerHold = false
```

ãƒ‡ãƒ¢ãƒ•ã‚¡ã‚¤ãƒ«ï¼š[pursuit.zip](https://github.com/mubirou/Godot/blob/main/zip/pursuit.zip)  
å®Ÿè¡Œç’°å¢ƒï¼šWindows 10ã€Godot 4.0 alpha 15ã€Meta Quest 43.0ã€Quest Linkã€Oculusã‚¢ãƒ—ãƒª  
ä½œæˆè€…ï¼šå¤¢å¯éƒ  
ä½œæˆæ—¥ï¼š2022å¹´05æœˆ24æ—¥  
æ›´æ–°æ—¥ï¼š2022å¹´09æœˆ01æ—¥ Godot 4.0 å¯¾å¿œ  
[[TOP]](#TOP)


<a id="220901"></a>
# <b>Igaguriã‚²ãƒ¼ãƒ </b>
[ã€Unityã®æ•™ç§‘æ›¸/åŒ—æ‘æ„›å®Ÿè‘—ã€](https://amzn.to/3Bcx7cL)ï¼ˆChapter 7 3Dã‚²ãƒ¼ãƒ ã®ä½œã‚Šæ–¹ï¼‰ã® Godot VR ç‰ˆ  

![image](https://github.com/mubirou/Godot/blob/main/jpg/202209051252.jpg)

### ğŸ‘‰ ä¸»ãªãƒã‚¤ãƒ³ãƒˆ  

#### â—†ä¸»ãªéšå±¤æ§‹é€ 
Mainï¼ˆNode3Dï¼‰  
ã€€â”œ XROrigin3D  
ã€€â”‚ã€€â”œ XRController3D_Leftï¼ˆXRNode3Dï¼‰  
ã€€â”‚ã€€â”‚ã€€â”” **Controller**ï¼ˆå·¦ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ©ãƒ¼ã®å¯è¦–åŒ–ï¼‰  
ã€€â”‚ã€€â”” XRController3D_Rightï¼ˆXRNode3Dï¼‰  
ã€€â”‚ã€€ã€€ã€€â”” **Controller**ï¼ˆå³ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ©ãƒ¼ã®å¯è¦–åŒ–ï¼‰  
ã€€â”œ Targetï¼ˆMeshInstance3Dï¼çš„ã®å¯è¦–åŒ–ï¼‰  
ã€€â”‚ã€€â”” **StaticBody3d_Stick**ï¼ˆ**StaticBody3D**ï¼‰  
ã€€â”‚ã€€ã€€ã€€â”” CollisionShape3d  
ã€€â”” **Igaguri**ï¼ˆ**RigidBody3D**ï¼‰  
ã€€ã€€ã€€â”” CollisionShape3d  
ã€€ã€€ã€€ã€€ã€€â”” Bodyï¼ˆMeshInstance3Dï¼ã‚¤ã‚¬ã‚°ãƒªã®å¯è¦–åŒ–ï¼‰  

#### â—†ä¸»ãªå½¹ç›®
* å·¦å³ã®ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ©ãƒ¼
  * å·¦ãƒˆãƒªã‚¬ãƒ¼ã‚’æŠ¼ã™ + å³ãƒˆãƒªã‚¬ãƒ¼ã‚’é›¢ã™ ï¼ **æŠ•ã¦ã**
  * å·¦å³ã®ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ©ãƒ¼ã®ä½ç½®ã®å·® ï¼ **æŠ•ã¦ãã®åŠ›**
* **StaticBody3d_Stick**ï¼**ã‚¤ã‚¬ã‚°ãƒªãŒãã£ã¤ãé ˜åŸŸ**
* **Igaguri**ï¼ˆRigidBody3Dï¼‰ï¼**ã‚¤ã‚¬ã‚°ãƒª**ï¼ˆæŠ•ã’ã‚‹ã‚‚ã®ï¼‰

### ğŸ‘‰ å…¨ã‚¹ã‚¯ãƒªãƒ—ãƒˆ

```gdscript
# /root/Main(Main.gd)
extends Node3D # æ±ºã‚æ‰“ã¡ï¼ˆ3Dã«å¿…é ˆï¼‰

var _interface:XRInterface # æ±ºã‚æ‰“ã¡ï¼ˆVRã«å¿…é ˆï¼‰
var _leftHand:Node3D # å·¦ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ©ãƒ¼ï¼ˆå¯è¦–åŒ–ï¼‰
var _rightHand:MeshInstance3D # å³ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ©ãƒ¼ï¼ˆå¯è¦–åŒ–ï¼‰
var _igaguri:RigidBody3D # ã‚¤ã‚¬ã‚°ãƒªï¼ˆè¦ªï¼‰
var _isLTriggerHold = false # å·¦ã®äººå·®ã—æŒ‡ãƒˆãƒªã‚¬ãƒ¼ã‚’æŠ¼ã—ã¦ã„ã‚‹ã‹
var _isRTriggerHold = false # å³ã®äººå·®ã—æŒ‡ãƒˆãƒªã‚¬ãƒ¼ã‚’æŠ¼ã—ã¦ã„ã‚‹ã‹

func _ready():
  # æ±ºã‚æ‰“ã¡ï¼ˆVRã«å¿…é ˆï¼‰
  _interface = XRServer.find_interface("OpenXR")
  if _interface and _interface.is_initialized():
    var _viewport : Viewport = get_viewport()
    _viewport.use_xr = true

  # å„ãƒãƒ¼ãƒ‰ã®å–å¾—
  _leftHand = get_node("XROrigin3D/XrController3d_Left/Controller")
  _rightHand = get_node("XROrigin3D/XRController3D_Right/Controller")
  _igaguri = get_node("Igaguri")
  
  # è¡çªåˆ¤å®šç”¨ï¼ˆRigidBody3D.body_entered()ã¨é€£å‹•ï¼‰
  _igaguri.contact_monitor = true 
  _igaguri.max_contacts_reported = 1

# ç¹°ã‚Šè¿”ã—å®Ÿè¡Œï¼ˆãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¬ãƒ¼ãƒˆã«ä¾å­˜ï¼‰
func _process(delta):
  if _isRTriggerHold: # å³ã®äººå·®ã—æŒ‡ãƒˆãƒªã‚¬ãƒ¼ã‚’æŠ¼ã—ã¦ã„ã‚‹å ´åˆ
    # ã‚¤ã‚¬ã‚°ãƒªã‚’å³ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ©ãƒ¼ã®ä½ç½®ã«é…ç½®
    _igaguri.position = _rightHand.global_transform.origin

# å³ã®äººå·®ã—æŒ‡ãƒˆãƒªã‚¬ãƒ¼ã‚’æŠ¼ã—è¾¼ã‚“ã æ™‚ã®å‡¦ç†
func _on_xr_controller_3d_right_button_pressed(name):
  if name == "trigger_click":
    _isRTriggerHold = true

# å³ã®äººå·®ã—æŒ‡ãƒˆãƒªã‚¬ãƒ¼ã‚’é›¢ã—ãŸæ™‚ã®å‡¦ç†
func _on_xr_controller_3d_right_button_released(name):
  if name == "trigger_click":
    _isRTriggerHold = false
    
    if _isLTriggerHold: # æŠ•ã¦ãã®éš› å·¦ã®äººå·®ã—æŒ‡ãƒˆãƒªã‚¬ãƒ¼ã‚’æŠ¼ã—ã¦ã„ã‚‹ã‹
      # å·¦å³ã®ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ©ãƒ¼ã®ä½ç½®ã®å·®ã‚’èª¿ã¹ã‚‹
      var _leftHandPos = _leftHand.global_transform.origin
      var _rightHandPos = _rightHand.global_transform.origin
      var _disPos:Vector3 = _leftHandPos - _rightHandPos
      
      # é‡åŠ›ã®ãƒªã‚»ãƒƒãƒˆ
      _igaguri.freeze = true
      _igaguri.freeze = false
      
      # å¾®èª¿æ•´
      var _powerX:float = _disPos.x * 3000
      var _powerY:float = _disPos.y * 2500
      var _powerZ:float = _disPos.z * 2500 
      
      # æŠ•ã¦ãï¼ˆã‚¤ã‚¬ã‚°ãƒªã«åŠ›ã‚’åŠ ãˆã‚‹ï¼‰
      _igaguri.apply_force(Vector3(_powerX, _powerY, _powerZ))

# å·¦ã®äººå·®ã—æŒ‡ãƒˆãƒªã‚¬ãƒ¼ã‚’æŠ¼ã—è¾¼ã‚“ã æ™‚ã®å‡¦ç†
func _on_xr_controller_3d_left_button_pressed(name):
  if name == "trigger_click":
    _isLTriggerHold = true

# å·¦ã®äººå·®ã—æŒ‡ãƒˆãƒªã‚¬ãƒ¼ã‚’é›¢ã—ãŸæ™‚ã®å‡¦ç†
func _on_xr_controller_3d_left_button_released(name):
  if name == "trigger_click":
    _isLTriggerHold = false

# ã‚¤ã‚¬ã‚°ãƒªãŒåˆ¥ã®PhysicsBody3Dã«è¡çªã—ãŸæ™‚ã®å‡¦ç†
func _on_igaguri_body_entered(_body):
  # ã‚¤ã‚¬ã‚°ãƒªãŒçš„ã«å‘½ä¸­ã—ãŸã‚‰ãã£ã¤ã‘ã‚‹
  if _body == $Target/StaticBody3d_Stick:
    _igaguri.freeze = true
```

ãƒ‡ãƒ¢ãƒ•ã‚¡ã‚¤ãƒ«ï¼š[igaguri.zip](https://github.com/mubirou/Godot/blob/main/zip/igaguri.zip)  
ãƒ‡ãƒ¢ãƒ•ã‚¡ã‚¤ãƒ«ï¼š[arrow.zip](https://github.com/mubirou/Godot/blob/main/zip/arrow.zip)ï¼ˆå¼“çŸ¢ãƒãƒ¼ã‚¸ãƒ§ãƒ³ï¼‰  
å®Ÿè¡Œç’°å¢ƒï¼šWindows 10ã€Godot 4.0 alpha 16ã€Meta Quest 43.0ã€Quest Linkã€Oculusã‚¢ãƒ—ãƒª  
ä½œæˆè€…ï¼šå¤¢å¯éƒ  
ä½œæˆæ—¥ï¼š2022å¹´09æœˆ04æ—¥  
æ›´æ–°æ—¥ï¼š2022å¹´09æœˆ11æ—¥ å¼“çŸ¢ãƒãƒ¼ã‚¸ãƒ§ãƒ³è¿½åŠ   
[[TOP]](#TOP)


<a id="220612"></a>
# <b>è¡çªåˆ¤å®š</b>

### ğŸ‘‰ è¡çªã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®ç¶™æ‰¿<a id="220612-1"></a>
**Node3D**  
ã€€â”” CollisionObject3D  
ã€€ã€€ã€€â”œ [**PhysicsBody3D**](https://bit.ly/3RLyKnj)  
ã€€ã€€ã€€â”‚ã€€â”œ âŠ[**StaticBody3D**](https://bit.ly/3RFtVvM)  
ã€€ã€€ã€€â”‚ã€€â”œ â‹[**CharacterBody3D**](https://bit.ly/3D0xCbh)  
ã€€ã€€ã€€â”‚ã€€â”œ âŒ[**RigidBody3D**](https://bit.ly/3x10AnC)  
ã€€ã€€ã€€â”‚ã€€â”” PhysicalBone3D  
ã€€ã€€ã€€â”” â[**Area3D**](https://bit.ly/3KP38Lj)  

***

### ğŸ‘‰ å„è¡çªã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®å®Ÿç”¨ä¾‹ï¼ˆéšå±¤æ§‹é€ ï¼‰<a id="220612-2"></a>

**1. PhysicsBody3D ã®å ´åˆâ€¦**  

>[**PhysicsBody3D**](https://bit.ly/3RLyKnj)ï¼ˆâŠâ‹âŒï¼‰  
>ã€€â”” [**CollisionShape3D**](https://bit.ly/3cPefHm)ï¼ˆè¡çªåˆ¤å®šã™ã‚‹é ˜åŸŸï¼‰  
>ã€€ã€€â”” **MeshInstance3D**ï¼ˆå¯è¦–åŒ–ï¼‰  

**2. Area3D ã®å ´åˆâ€¦**  

>**MeshInstance3D**ï¼ˆå¯è¦–åŒ–ï¼‰  
>ã€€â”” â[**Area3D**](https://bit.ly/3KP38Lj)  
>ã€€ã€€â”” [**CollisionShape3D**](https://bit.ly/3cPefHm)ï¼ˆè¡çªåˆ¤å®šã™ã‚‹é ˜åŸŸï¼‰  

***

#### ä»¥ä¸‹ã®å®Ÿé¨“ã®ãŠã‚‚ãªéšå±¤æ§‹é€ 

Node3D  
ã€€â”œ XROrigin  
ã€€â”œ Floorï¼ˆ**StaticBody3D**ï¼‰  
ã€€â”‚ã€€â”” **CollisionShape3d**ï¼ˆ**WorldBoundaryShape3D** å‹ï¼‰  
ã€€â”‚ã€€ã€€ã€€â”” MeshInstance3dï¼ˆPlaneMesh å‹ï¼‰  
ã€€â”œ **Player**ï¼ˆ[**PhysicsBody3D** or **Area3D**](#220612-2)ï¼‰  
ã€€â”” **Enemy**ï¼ˆ[**PhysicsBody3D** or **Area3D**](#220612-2)ï¼‰  

***

### ğŸ‘‰ â€æŒ‡å®šä½ç½®ã«ç§»å‹• x è¡çª

![image](https://github.com/mubirou/Godot/blob/main/jpg/202209092045.jpg)
ğŸ“ **RigidBody3D** x **PhysicsBody3D**ï¼ˆâŠâ‹âŒï¼‰ã®æ¥è§¦ã¯é¿ã‘ã‚‹ï¼  
ğŸ“ [**StaticBody3D**](#220612-1) â†’ [**Area3D**](#220612-1) ã®è¡çªåˆ¤å®šãŒã§ããªã„ï¼ˆé€†ã¯å¯èƒ½ï¼è¦èª¿æŸ»ï¼‰  
ğŸ“ **_on_area_3d_area_entered()**ï¼ˆï¼**Area3D**åŒå£«ã®è¡çªåˆ¤å®šï¼‰ã‚„  **_on_area_3d_body_entered()**ï¼ˆï¼**Area3D**ã¨**PhysicsBody3D**ã®è¡çªåˆ¤å®šï¼‰ã¯[**ã‚¤ãƒ™ãƒ³ãƒˆã®æ¥ç¶š**](#220703-1) ã‚’å‚ç…§  

* [**Node3D.position = Vector3**](https://docs.godotengine.org/en/latest/classes/class_node3d.html?highlight=position%20Node3D#class-node3d-property-position)  
* [**Node3D.set_position(Vector3)**](https://docs.godotengine.org/en/latest/classes/class_node3d.html?highlight=position%20Node3D#class-node3d-property-position)  
* [**Node3D.global_position = Vector3**](https://docs.godotengine.org/en/latest/classes/class_node3d.html?highlight=position%20Node3D#class-node3d-property-global-position)  
* [**Node3D.set_global_position(Vector3)**](https://docs.godotengine.org/en/latest/classes/class_node3d.html?highlight=position%20Node3D#class-node3d-property-global-position)  

```gdscript
# /root/Main(Main.gd)
extends Node3D
â€¦â€¦
func _on_xr_controller_3d_button_pressed(_name):
  if _name == "trigger_click":
    #$Player.set_position($Enemy.position) 
    #$Player.set_position($Enemy.position + Vector3(0.1,0,0.1))
    #$Player.set_position($Player.position + Vector3(-0.1,0,0))
    $Player.set_position($Player.position + Vector3(-0.05,0,0))

# Player(ï¼Area3D)ã®[ãƒãƒ¼ãƒ‰]-[ã‚·ã‚°ãƒŠãƒ«]ã§æ¥ç¶š
func _on_area_3d_area_entered(_area):
  if _area.get_parent() == $Enemy:
    print("Area3D ãŒ Area3D ã«è¡çª")

# Player(ï¼Area3D)ã®[ãƒãƒ¼ãƒ‰]-[ã‚·ã‚°ãƒŠãƒ«]ã§æ¥ç¶š
func _on_area_3d_body_entered(_body):
  if _body == $Enemy: # or $Player
    print("Area3D ã¨ PhysicsBody3D ãŒè¡çª")
```

***

### ğŸ‘‰ âãƒ™ã‚¯ãƒˆãƒ«ã®å€¤ã ã‘ç§»å‹• x è¡çªåˆ¤å®š

* [**PhysicsBody3D.move_and_collide(Vector3)**](https://docs.godotengine.org/en/latest/classes/class_physicsbody3d.html?highlight=PhysicsBody3D#class-physicsbody3d-method-move-and-collide)  
æˆ»ã‚Šå€¤ï¼š[KinematicCollision3D](https://bit.ly/3Bh7hEq)ï¼è¡çªãƒ‡ãƒ¼ã‚¿  

![image](https://github.com/mubirou/Godot/blob/main/jpg/202209081436.jpg)
ğŸ“ [**PhysicsBody3D**](#220612-1) åŒå£«ãŒè¡çªã™ã‚‹ã¨é‡ãªã‚‰ãšã«æ­¢ã¾ã‚‹   
ğŸ“ [**PhysicsBody3D**](#220612-1) â†’ [**Area3D**](#220612-1) ãŒ "é‡ãªã‚‰ãšã«é€šéã—ãŸå ´åˆ" ã¯è¡çªåˆ¤å®šã§ããªã„  
ğŸ“ [**StaticBody3D**](#220612-1) â†’ [**Area3D**](#220612-1) ã®è¡çªåˆ¤å®šãŒã§ããªã„ï¼ˆ[è¡çªåˆ¤å®šã§ãã‚‹å ´åˆã‚ã‚Š](#220802)ï¼è¦æ¤œè¨¼ï¼‰  
ğŸ“ **_on_area_3d_body_entered()**ï¼ˆï¼**Area3D**ã®è¡çªåˆ¤å®šï¼‰ã¯ [**ã‚¤ãƒ™ãƒ³ãƒˆã®æ¥ç¶š**](#220703-1) ã‚’å‚ç…§  

```gdscript
# /root/Main(Main.gd)
extends Node3D
â€¦â€¦

func _on_xr_controller_3d_button_pressed(_name):
  if _name == "trigger_click":
    â€¦â€¦
    var _kc:KinematicCollision3D
    #var _dis = $Enemy.position - $Player.position
    #_kc = $Player.move_and_collide(_dis)
    #_kc = $Player.move_and_collide(Vector3(-0.1,0,0))
    _kc = $Player.move_and_collide(Vector3(-0.05,0,0))
    #_kc = $Player.move_and_collide(Vector3(-1,0,0))
    if _kc != null:
      if _kc.get_collider() == $Enemy:
        print("Physics...ãŒ Physics..ã«è¡çª")

# Enemy(ï¼Area3D)ã®[ãƒãƒ¼ãƒ‰]-[ã‚·ã‚°ãƒŠãƒ«]ã§æ¥ç¶š
func _on_area_3d_body_entered(_body):
  if _body == $Player:
    print("Charactor...or Rigid...ãŒ Area3D ã«è¡çª")
```
***

### ğŸ‘‰ â‚ç‰©ç†ã‚¨ãƒ³ã‚¸ãƒ³ã«ã‚ˆã‚‹ç§»å‹• x è¡çªåˆ¤å®š<a id="220612-3"></a>

* [**RigidBody3D.apply_force(Vector3)**](https://bit.ly/3BmO9F0)

![image](https://github.com/mubirou/Godot/blob/main/jpg/202209081343.jpg)
ğŸ“ [**åç™ºä¿‚æ•°**](#220805) ã®è¨­å®šã§ã€Œä¸€éƒ¨é‡ãªã‚‹ã€ã“ã¨ãŒãªããªã‚‹  
ğŸ“ **apply_force()** ã®å¼•æ•°ãŒå¤§ãã„ã¨ã™ã‚ŠæŠœã‘ã‚‹å ´åˆæœ‰ï¼è¦èª¿æŸ»  
ğŸ“ **_on_player_body_entered()**ï¼ˆï¼**PhysicsBody3D**ã®è¡çªåˆ¤å®šï¼‰ã‚„ **_on_area_3d_body_entered()**ï¼ˆï¼**Area3D**ã®è¡çªåˆ¤å®šï¼‰ã¯ [**ã‚¤ãƒ™ãƒ³ãƒˆã®æ¥ç¶š**](#220703-1) ã‚’å‚ç…§  

```gdscript
# /root/Main(Main.gd)
extends Node3D
â€¦â€¦
func _ready():
  â€¦â€¦
  # è¡çªåˆ¤å®šç”¨ï¼ˆRigidBody3D.body_entered()ã¨é€£å‹•ï¼‰
  $Player.contact_monitor = true 
  $Player.max_contacts_reported = 1

func _on_xr_controller_3d_button_pressed(_name):
  if _name == "trigger_click":
    $Player.apply_force(Vector3(-200, 0, 0))
    #$Player.apply_force(Vector3(-500, 0, 0))
    #$Player.apply_force(Vector3(-1500, 0, 0))

# Player(ï¼PhysicsBody3D)ã®[ãƒãƒ¼ãƒ‰]-[ã‚·ã‚°ãƒŠãƒ«]ã§æ¥ç¶š
func _on_player_body_entered(_body):
  if _body == $Enemy:
    print("Enemy(=PhysicsBody3D)ã¨è¡çª")

# Enemy(ï¼Area3D)ã®[ãƒãƒ¼ãƒ‰]-[ã‚·ã‚°ãƒŠãƒ«]ã§æ¥ç¶š
func _on_area_3d_body_entered(_body):
  if _body == $Player:
    print("Enemy(=Area3D)ã¨è¡çª")
```

å‚è€ƒï¼š[HatenaBlog](https://ore2wakaru2.hatenablog.com/entry/2018/03/02/233000)  
å‚è€ƒï¼š[è¡çªåˆ¤å®šé ˜åŸŸ](#220801)  
å®Ÿé¨“ç”¨ãƒ•ã‚¡ã‚¤ãƒ«ï¼š[CollisionDetection.zip](https://github.com/mubirou/Godot/blob/main/zip/CollisionDetection.zip)  
å®Ÿè¡Œç’°å¢ƒï¼šWindows 10ã€Godot 4.0 alpha 16ã€Meta Quest 43.0ã€Quest Linkã€Oculusã‚¢ãƒ—ãƒª  
ä½œæˆè€…ï¼šå¤¢å¯éƒ  
ä½œæˆæ—¥ï¼š2022å¹´06æœˆ17æ—¥  
æ›´æ–°æ—¥ï¼š2022å¹´09æœˆ11æ—¥ apply_force()ã‚’å†èª¿æŸ»  
[[TOP]](#TOP)  


<a id="220902"></a>
# <b>Pachinkoã‚²ãƒ¼ãƒ </b>
å³äººå·®ã—æŒ‡ãƒˆãƒªã‚¬ãƒ¼ã§ãƒœãƒ¼ãƒ«ã‚’æ‰“ã¤ãƒ‘ãƒãƒ³ã‚³ã®ã‚µãƒ³ãƒ—ãƒ«  
ï¼ˆãƒˆãƒªã‚¬ãƒ¼é‡ã§æ‰“ã¤åŠ›ã‚’èª¿æ•´ï¼‰  

![image](https://github.com/mubirou/Godot/blob/main/jpg/202209151551.jpg)

### ğŸ‘‰ ä¸»ãªéšå±¤æ§‹é€   
å‚è€ƒï¼š[å„è¡çªã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®å®Ÿç”¨ä¾‹ï¼ˆéšå±¤æ§‹é€ ï¼‰](#220612-2)  

**1. ãƒœãƒ¼ãƒ«ï¼ˆBallï¼‰**  

>Ballï¼ˆ[**RigidBody3D**](https://bit.ly/3RLyKnj)ï¼‰  
>ã€€â”” [**CollisionShape3d**](https://bit.ly/3cPefHm)ï¼è¡çªåˆ¤å®šã™ã‚‹é ˜åŸŸ  
>ã€€ã€€â”” SphereMeshï¼ˆ**MeshInstance3D** / å¯è¦–åŒ–ï¼‰  

**2. ãƒ”ãƒ³ï¼ˆPin_0Xï¼‰**  

>01ï¼ˆ[**StaticBody3D**](https://bit.ly/3qFSGfW)ï¼‰  
>ã€€â”” [**CollisionShape3d**](https://bit.ly/3cPefHm)ï¼è¡çªåˆ¤å®šã™ã‚‹é ˜åŸŸ  
>ã€€ã€€â”” **MeshInstance3D**ï¼ˆCylinderMesh / å¯è¦–åŒ–ï¼‰  

**3. å£ãªã©**  

>Pachinkoï¼ˆ**Node3D**ï¼‰  
>ã€€â”œ StaticBody3d_WorldBoundaryï¼ˆ[**StaticBody3D**](https://bit.ly/3qFSGfW)ï¼‰  
>ã€€â”‚ã€€â”œ Topï¼ˆğŸ’¡[**WorldBoundaryShape3D**](https://bit.ly/3BFlrQ6)ï¼‰ï¼è¡çªåˆ¤å®šé¢  
>ã€€â”‚ã€€â”œ Leftï¼ˆğŸ’¡[**WorldBoundaryShape3D**](https://bit.ly/3BFlrQ6)ï¼‰ï¼è¡çªåˆ¤å®šé¢  
>ã€€â”‚ã€€â”‚  
>ã€€â”œ MeshInstance3d_Bodyï¼ˆ**Node3D**ï¼‰  
>ã€€â”‚ã€€â”œ Back**ï¼ˆ**MeshInstance3D** / å¯è¦–åŒ–ï¼‰  
>ã€€â”‚ã€€â”œ Top**ï¼ˆ**MeshInstance3D** / å¯è¦–åŒ–ï¼‰  
>ã€€â”‚ã€€â”‚  

* [**RigidBody3D.apply_force(Vector3)**](#220612-3) ã¯è–„ã„å£ã‚’é€šéã—ã¦ã—ã¾ã†ãŸã‚ ğŸ’¡[**WorldBoundaryShape3D**](https://bit.ly/3LhylqL)ï¼ˆç„¡é™å¹³é¢ï¼‰ã‚’åˆ©ç”¨  

**4. ã‚¹ã‚¿ãƒ¼ãƒˆåœ°ç‚¹ï¼ˆStartPointï¼‰**  

>StartPointï¼ˆ**MeshInstance3D**ï¼‰  
>ã€€â”” Area3d_startpointï¼ˆ[**Area3D**](https://bit.ly/3KP38Lj)ï¼‰ï¼ğŸ’¡ã‚·ã‚°ãƒŠãƒ«æ¥ç¶š    
>ã€€ã€€â”” [**CollisionShape3D**](https://bit.ly/3cPefHm)ï¼ˆè¡çªåˆ¤å®šã™ã‚‹é ˜åŸŸï¼‰ 

* [Area3D]-[ãƒãƒ¼ãƒ‰]-[ã‚·ã‚°ãƒŠãƒ«]-[Area3D] ã® "body_entered(â€¦" ãŠã‚ˆã³ "body_exited(â€¦" â†’[å³ã‚¯ãƒªãƒƒã‚¯]â†’[æ¥ç¶š] ã‹ã‚‰ã€Œ**ãƒ¡ã‚½ãƒƒãƒ‰ã«ã‚·ã‚°ãƒŠãƒ«ã‚’æ¥ç¶š**ã€ã—ã¦æ¬¡ã®ãƒ¡ã‚½ãƒƒãƒ‰ã‚’ä½œæˆã™ã‚‹  
ï¼ˆå‚ç…§ï¼š[ã‚¤ãƒ™ãƒ³ãƒˆã®æ¥ç¶š](#220703-1)ï¼‰  
    ```gdscript
    _on_area_3d_startpoint_body_entered(_body) 
    _on_area_3d_startpoint_body_exited(_body)
    ```

**5. ãƒã‚§ãƒƒã‚¯ãƒã‚¤ãƒ³ãƒˆï¼ˆCheckpoint_Xï¼‰**  
Ball ãŒé€šéã™ã‚‹ã¨å¾—ç‚¹ã«ãªã‚‹ã‚¨ãƒªã‚¢ï¼ˆ[**Area3D**](https://bit.ly/3KP38Lj)ï¼‰

>Checkpoint_1ï¼ˆ**MeshInstance3D**ï¼‰  
>ã€€â”” Area3d_checkpointï¼ˆ[**Area3D**](https://bit.ly/3KP38Lj)ï¼‰ï¼ğŸ’¡ã‚·ã‚°ãƒŠãƒ«æ¥ç¶š  
>ã€€ã€€â”” [**CollisionShape3D**](https://bit.ly/3cPefHm)ï¼ˆè¡çªåˆ¤å®šã™ã‚‹é ˜åŸŸï¼‰  

* ã‚¹ã‚¿ãƒ¼ãƒˆåœ°ç‚¹ã¨åŒæ§˜ã€Œ**ãƒ¡ã‚½ãƒƒãƒ‰ã«ã‚·ã‚°ãƒŠãƒ«ã‚’æ¥ç¶š**ã€ã™ã‚‹äº‹ã«åŠ ãˆã€Œ**é«˜åº¦ãªè¨­å®š**ã€ã‹ã‚‰ int å‹ã®ã€Œ**å‘¼ã³å‡ºã—å¼•æ•°ã‚’è¿½åŠ **ã€ã—ã¦æ¬¡ã®ãƒ¡ã‚½ãƒƒãƒ‰ä½œæˆã™ã‚‹  
    ```gdscript
    _on_area_3d_checkpoint_body_entered(_body, _int)
    ```

### ğŸ‘‰ å…¨ã‚¹ã‚¯ãƒªãƒ—ãƒˆ

```gdscript
# /root/Main(Main.gd)
extends Node3D

var _interface:XRInterface

var _ball:RigidBody3D
var _checkPoint:MeshInstance3D
var _checkPointNum:int
var _isFall = false
var _isPrepared = true
var _startPoint:MeshInstance3D
var _triggerValue:float = 0.0

func _ready():
  _interface = XRServer.find_interface("OpenXR")
  if _interface and _interface.is_initialized():
    var _viewport:Viewport = get_viewport()
    _viewport.use_xr = true
  
  _ball = $Pachinko/Ball
  _startPoint = $Pachinko/StartPoint

#=========================================================
# å³ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ©ãƒ¼ã®ãƒˆãƒªã‚¬ãƒ¼é‡ã®ãƒªã‚»ãƒƒãƒˆ
# [XRController3D_Right]-[ãƒãƒ¼ãƒ‰]-[button_pressed()]ã§æ¥ç¶š
#=========================================================
func _on_xr_controller_3d_right_button_pressed(_name):
  if (_name == "trigger_click") or (_name == "trigger_touch"):
    _triggerValue = 0.0

#==============================================================
# å³ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ©ãƒ¼ã®ãƒˆãƒªã‚¬ãƒ¼é‡ã®å–å¾—
# [XRController3D_Right]-[ãƒãƒ¼ãƒ‰]-[input_value_changed()]ã§æ¥ç¶š
#==============================================================
func _on_xr_controller_3d_right_input_value_changed(name, _value):
  if _triggerValue < _value:
    _triggerValue = _value # ãƒˆãƒªã‚¬ãƒ¼é‡ã®æœ€å¤§å€¤

#==========================================================
# å³ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ©ãƒ¼ã®ãƒˆãƒªã‚¬ãƒ¼ã§ãƒœãƒ¼ãƒ«ã‚’æ‰“ã¤
# [XRController3D_Right]-[ãƒãƒ¼ãƒ‰]-[button_released()]ã§æ¥ç¶š
#==========================================================
func _on_xr_controller_3d_right_button_released(_name):  
  if _name == "trigger_click":
    if !_isPrepared: return # ãƒœãƒ¼ãƒ«ã‚’æ‰“ã¤æº–å‚™ãŒã§ãã¦ã„ã‚‹ã‹ï¼Ÿ
    _ball.apply_force(Vector3(0, _triggerValue*89.6, 0)) # å¾®èª¿æ•´
    _isFall = false # ãƒœãƒ¼ãƒ«ã¯è½ã¡ã¦ã„ãªã„

#====================================================
# ã‚¹ã‚¿ãƒ¼ãƒˆåœ°ç‚¹ï¼ˆArea3Dï¼‰é ˜åŸŸã«ãƒœãƒ¼ãƒ«ãŒå…¥ã£ãŸå ´åˆã®å‡¦ç†
# [Area3d_startpoint]-[ãƒãƒ¼ãƒ‰]-[body_entered()]ã§æ¥ç¶š
#====================================================
func _on_area_3d_startpoint_body_entered(_body):
  if _body == _ball:
    _isPrepared = true # ãƒœãƒ¼ãƒ«ã‚’æ‰“ã¤æº–å‚™å®Œäº†
    _startPoint.get_mesh().material.set_albedo(Color(0.8,0,0,1))
    if _checkPoint != null: # ã¾ã ä¸€åº¦ã‚‚æ‰“ã£ã¦ãªã„å ´åˆã‚’é™¤ã
      # Pachinko/Checkpoints/Checkpoint_X ã‚’ç™½ï¼ˆä¸é€æ˜åº¦20ï¼…ï¼‰ã«å¤‰æ›´
      _checkPoint.get_mesh().material.set_albedo(Color(1,1,1,0.2))
      # Pachinko/MeshInstance3d_Body/Glass/checkpoint_1X ã®éè¡¨ç¤º
      var _path = "Pachinko/MeshInstance3d_Body/Glass/checkpoint_"
      var _label_a = get_node(_path + str(_checkPointNum) + "a")
      var _label_b = get_node(_path + str(_checkPointNum) + "b")
      _label_a.visible = false
      _label_b.visible = false

#===================================================
# ã‚¹ã‚¿ãƒ¼ãƒˆåœ°ç‚¹ï¼ˆArea3Dï¼‰é ˜åŸŸã‹ã‚‰ãƒœãƒ¼ãƒ«ãŒå‡ºãŸå ´åˆã®å‡¦ç†
# [Area3d_startpoint]-[ãƒãƒ¼ãƒ‰]-[body_exited()]ã§æ¥ç¶š
#===================================================
func _on_area_3d_startpoint_body_exited(_body):
  if _body == _ball:
    _isPrepared = false # ãƒœãƒ¼ãƒ«ã‚’æ‰“ã¤æº–å‚™ã¯ã§ãã¦ãªã„
    _startPoint.get_mesh().material.set_albedo(Color(0.2,0.2,0.2,1))

#===================================================================
# ãƒã‚§ãƒƒã‚¯ãƒã‚¤ãƒ³ãƒˆï¼ˆArea3Dï¼‰ã®é ˜åŸŸã«å…¥ã£ãŸï¼ˆã™ã‚ŠæŠœã‘ã‚‹ï¼‰å ´åˆã®å‡¦ç†
# [Area3d_checkpoint]-[ãƒãƒ¼ãƒ‰]-[body_entered()]ï¼ˆ"é«˜åº¦ãªè¨­å®š"ï¼‰ã§æ¥ç¶š
#===================================================================
func _on_area_3d_checkpoint_body_entered(_body, _int):
  if _body != _ball: return # ä»Šå›ã¯Ballã—ã‹æ¥è§¦ã—ãªã„ãŒâ€¦
  if _isFall: return # ãƒã‚¦ãƒ³ãƒ‰ã—ã¦å†åº¦æ¥è§¦ã—ãŸå ´åˆã¯ç„¡è¦–
  _isFall = true # ãƒœãƒ¼ãƒ«ãŒè½ã¡ãŸ
  _checkPointNum = _int # é€šéã—ãŸå ´æ‰€ï¼ˆç•ªå·ï¼‰

  # é€šéã—ãŸå ´æ‰€ã‚’èµ¤ï¼ˆä¸é€æ˜åº¦50ï¼…ï¼‰ã§è¡¨ç¤º
  var _path = "Pachinko/Checkpoints/Checkpoint_" + str(_checkPointNum)
  _checkPoint = get_node(_path)
  _checkPoint.get_mesh().material.set_albedo(Color(1,0,0,0.5))
  
  # ã‚¬ãƒ©ã‚¹ä¸Šã®æ•°å­—ï¼ˆ1ï½7ï¼‰ã®è¡¨ç¤º
  _path = "Pachinko/MeshInstance3d_Body/Glass/checkpoint_"
  var _label_a = get_node(_path + str(_checkPointNum) + "a")
  var _label_b = get_node(_path + str(_checkPointNum) + "b")
  _label_a.visible = true
  _label_b.visible = true
```

ãƒ‡ãƒ¢ãƒ•ã‚¡ã‚¤ãƒ«ï¼š[pachinko.zip](https://github.com/mubirou/Godot/blob/main/zip/pachinko.zip)  
å‚è€ƒï¼š[è¡çªåˆ¤å®š](#220612)  
å®Ÿè¡Œç’°å¢ƒï¼šWindows 10ã€Godot 4.0 alpha 16ã€Meta Quest 43.0ã€Quest Linkã€Oculusã‚¢ãƒ—ãƒª  
ä½œæˆè€…ï¼šå¤¢å¯éƒ  
ä½œæˆæ—¥ï¼š2022å¹´09æœˆ15æ—¥  
[[TOP]](#TOP)


<a id="220903"></a>
# <b>ãƒãƒ¼ãƒãƒ«ãƒãƒƒãƒ”ãƒ³ã‚°</b>

### ã“ã®é …ç›®ã¯æ›¸ãã‹ã‘ã§ã™

å‚è€ƒï¼š[GODOT DOCS(Normal Map)](https://bit.ly/3frSPky)  
ãƒ‡ãƒ¢ãƒ•ã‚¡ã‚¤ãƒ«ï¼š[NomalMapping.zip](https://github.com/mubirou/Godot/blob/main/zip/NomalMapping.zip)  
å®Ÿè¡Œç’°å¢ƒï¼šWindows 10ã€Godot 4.0 Beta 1ã€Meta Quest 43.0ã€Quest Linkã€Oculusã‚¢ãƒ—ãƒª   
ä½œæˆè€…ï¼šå¤¢å¯éƒ  
ä½œæˆæ—¥ï¼š2022å¹´9æœˆXXæ—¥  
[[TOP]](#TOP)


<a id="221018"></a>
# <b>ä¸‰ç¯ç…§æ˜</b>

![image](https://github.com/mubirou/Godot/blob/main/jpg/202210181510.jpg)

ãƒ‡ãƒ¢ãƒ•ã‚¡ã‚¤ãƒ«ï¼š[ThreePointLighting.zip](https://github.com/mubirou/Godot/blob/main/zip/ThreePointLighting.zip)  
å®Ÿè¡Œç’°å¢ƒï¼šWindows 10ã€Godot 4.0 Beta 3ã€Meta Quest 46.0ã€Quest Linkã€Oculusã‚¢ãƒ—ãƒª   
ä½œæˆè€…ï¼šå¤¢å¯éƒ  
ä½œæˆæ—¥ï¼š2022å¹´10æœˆ18æ—¥  
[[TOP]](#TOP)


<a id="220904"></a>
# <b>ãƒ‰ãƒ­ãƒ¼ãƒ³</b>

### ã“ã®é …ç›®ã¯æ›¸ãã‹ã‘ã§ã™

ğŸ“ [ãƒ‰ãƒ­ãƒ¼ãƒ³ã®æ“ä½œãƒ¢ãƒ¼ãƒ‰ï¼ˆMode1 / Mode2ï¼‰](https://viva-drone.com/drone-transmitter-mode1-mode2/#12)

å®Ÿè¡Œç’°å¢ƒï¼šWindows 10ã€Godot 4.0 alpha 16ã€Meta Quest 43.0ã€Quest Linkã€Oculusã‚¢ãƒ—ãƒª  
ä½œæˆè€…ï¼šå¤¢å¯éƒ  
ä½œæˆæ—¥ï¼š202Xå¹´XXæœˆXXæ—¥  
[[TOP]](#TOP)


<a id="XXXXX"></a>
# <b>XXXXX</b>

ğŸ“ **[æ­£è·å††ç­’å›³æ³•](https://en.wikipedia.org/wiki/Equirectangular_projection)ï¼ˆãƒ‘ãƒãƒ©ãƒï¼‰å½¢å¼**  
[ãƒ¡ãƒ«ã‚«ãƒˆãƒ«å›³æ³•](https://ja.wikipedia.org/wiki/%E3%83%A1%E3%83%AB%E3%82%AB%E3%83%88%E3%83%AB%E5%9B%B3%E6%B3%95)ã«ä¼¼ãŸæ˜ åƒã‚’çƒé¢ã«è¡¨ç¤ºã™ã‚‹  

ğŸ“ **[ã‚­ãƒ¥ãƒ¼ãƒ–ãƒãƒƒãƒ—](https://docs.unity3d.com/2017.2/Documentation/Manual/class-Cubemap.html)å½¢å¼**  
ç«‹æ–¹ä½“ï¼ˆ6é¢ï¼‰ã§æ§‹æˆ / [CAVE](https://ja.wikipedia.org/wiki/Cave_automatic_virtual_environment)ã€[CABIN](https://mine.place/page/9245bd60-4be4-4ac0-95f2-32ea8c7cc0f8) ã¯ã“ã®ç°¡æ˜“ç‰ˆ  

1. [360Â°ãƒ‘ãƒãƒ©ãƒå‹•ç”»](https://www.insta360.com/jp/explore)ã‚’ç”¨æ„

å®Ÿè¡Œç’°å¢ƒï¼šWindows 10ã€Godot 4.0 alpha 14ã€Meta Quest 42.0ã€Quest Linkã€Oculusã‚¢ãƒ—ãƒª
ä½œæˆè€…ï¼šå¤¢å¯éƒ  
ä½œæˆæ—¥ï¼š202Xå¹´XXæœˆXXæ—¥  
[[TOP]](#TOP)


<a id="XXX"></a>
# <b>XXXXX</b>

1. XXX
    ```gdscript
    XXXX
    ```
    * XXX
    * XXXX

å®Ÿè¡Œç’°å¢ƒï¼šWindows 10ã€Godot 4.0 alpha 14ã€Meta Quest 42.0ã€Quest Linkã€Oculusã‚¢ãƒ—ãƒª  
ä½œæˆè€…ï¼šå¤¢å¯éƒ  
ä½œæˆæ—¥ï¼š202Xå¹´XXæœˆXXæ—¥  
æ›´æ–°æ—¥ï¼š202Xå¹´XXæœˆXXæ—¥  
[[TOP]](#TOP)

Â© 2021-2022 å¤¢å¯éƒ
